<!DOCTYPE html>
<html lang="zh">
<head>
  <meta charset="UTF-8">

<!-- Global site tag (gtag.js) - Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id=G-EHXM4GYP5W"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());
  gtag('config', 'G-EHXM4GYP5W');
</script>
<!-- End Google Analytics -->



<!-- Baidu Analytics -->
<script>
  var _hmt = _hmt || [];
  (function() {
    var hm = document.createElement("script");
    hm.src = "https://hm.baidu.com/hm.js?0a6515fb9c839d6a56d4cfd8b7d243d4";
    var s = document.getElementsByTagName("script")[0];
    s.parentNode.insertBefore(hm, s);
  })();
</script>
<!-- End Baidu Analytics -->


<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0">
<meta http-equiv="X-UA-Compatible" content="ie=edge">

  <meta name="author" content="hqqich">


  <meta name="subtitle" content="å¿™ç¢ŒæŠŠæ—¶å…‰ç¼©çŸ­, è‹¦éš¾æŠŠå²æœˆæ‹‰é•¿">




<title>ä¸€æ–‡å¿«é€Ÿå…¥é—¨ RxJava 2 | Hexo-blog</title>



<link rel="icon" href="/hexo-blog/public/favicon.ico">



<link rel="stylesheet" href="/hexo-blog/public/css/main.css">


<link rel="stylesheet" href="/hexo-blog/public/lib/nprogress/nprogress.css">



<script src="/hexo-blog/public/lib/jquery.min.js"></script>


<script src="/hexo-blog/public/lib/iconify-icon.min.js"></script>


<script src="https://cdn.tailwindcss.com?plugins=typography"></script>
<script>
  tailwind.config = {
    darkMode: "class",
  };
</script>


<script src="/hexo-blog/public/lib/nprogress/nprogress.js"></script>

<script>
  $(document).ready(() => {
    NProgress.configure({
      showSpinner: false,
    });
    NProgress.start();
    $("#nprogress .bar").css({
      background: "#de7441",
    });
    $("#nprogress .peg").css({
      "box-shadow": "0 0 2px #de7441, 0 0 4px #de7441",
    });
    $("#nprogress .spinner-icon").css({
      "border-top-color": "#de7441",
      "border-left-color": "#de7441",
    });
    setTimeout(function () {
      NProgress.done();
      $(".fade").removeClass("out");
    }, 800);
  });
</script>

<script>
  (function () {
    const prefersDark =
      window.matchMedia &&
      window.matchMedia("(prefers-color-scheme: dark)").matches;
    const setting = localStorage.getItem("hexo-color-scheme") || "auto";
    if (setting === "dark" || (prefersDark && setting !== "light"))
      document.documentElement.classList.toggle("dark", true);
    let isDark = document.documentElement.classList.contains("dark");
  })();

  $(document).ready(function () {
    // init icon
    const prefersDark =
      window.matchMedia &&
      window.matchMedia("(prefers-color-scheme: dark)").matches;
    const isDark = document.documentElement.classList.contains("dark");
    $("#theme-icon").attr("icon", isDark ? "ri:moon-line" : "ri:sun-line");

    function toggleGiscusTheme() {
      const isDark = document.documentElement.classList.contains("dark");
      const giscusFrame = document.querySelector("iframe.giscus-frame");
      if (giscusFrame) {
        giscusFrame.contentWindow.postMessage(
          {
            giscus: {
              setConfig: {
                theme: isDark ? "dark" : "light",
              },
            },
          },
          "https://giscus.app"
        );
      }
    }

    // toggle dark mode
    function toggleDark() {
      let isDark = document.documentElement.classList.contains("dark");
      const setting = localStorage.getItem("hexo-color-scheme") || "auto";
      isDark = !isDark;
      document.documentElement.classList.toggle("dark", isDark);
      $("#theme-icon").attr("icon", isDark ? "ri:moon-line" : "ri:sun-line");
      if (prefersDark === isDark) {
        localStorage.setItem("hexo-color-scheme", "auto");
      } else {
        localStorage.setItem("hexo-color-scheme", isDark ? "dark" : "light");
      }
      toggleGiscusTheme();
    }

    // listen dark mode change
    window
      .matchMedia("(prefers-color-scheme: dark)")
      .addEventListener("change", (e) => {
        const setting = localStorage.getItem("hexo-color-scheme") || "auto";
        if (setting === "auto") {
          document.documentElement.classList.toggle("dark", e.matches);
          $("#theme-icon").attr(
            "icon",
            e.matches ? "ri:moon-line" : "ri:sun-line"
          );
          toggleGiscusTheme();
        }
      });

    $("#toggle-dark").click((event) => {
      const isAppearanceTransition = document.startViewTransition && !window.matchMedia('(prefers-reduced-motion: reduce)').matches
      if (!isAppearanceTransition) {
        toggleDark()
        return
      }
      const x = event.clientX
      const y = event.clientY
      const endRadius = Math.hypot(
        Math.max(x, innerWidth - x),
        Math.max(y, innerHeight - y),
      )
      const transition = document.startViewTransition(async () => {
        toggleDark()
      })

      transition.ready
        .then(() => {
          const isDark = document.documentElement.classList.contains("dark")
          const clipPath = [
            `circle(0px at ${x}px ${y}px)`,
            `circle(${endRadius}px at ${x}px ${y}px)`,
          ]
          document.documentElement.animate(
            {
              clipPath: isDark
                ? [...clipPath].reverse()
                : clipPath,
            },
            {
              duration: 400,
              easing: 'ease-out',
              pseudoElement: isDark
                ? '::view-transition-old(root)'
                : '::view-transition-new(root)',
            },
          )
        })
    });
  });
</script>




<meta name="generator" content="Hexo 7.3.0"></head>
<body class="font-sans bg-white dark:bg-zinc-900 text-gray-700 dark:text-gray-200 relative">
  <header class="fixed w-full px-5 py-1 z-10 backdrop-blur-xl backdrop-saturate-150 border-b border-black/5">
  <div class="max-auto">
    <nav class="flex items-center text-base">
      <a href="/hexo-blog/public/" class="group">
        <h2 class="font-medium tracking-tighterp text-l p-2">
          <img class="w-5 mr-2 inline-block transition-transform group-hover:rotate-[30deg]" id="logo" src="https://moe-counter-vercel-gamma.vercel.app/a?theme=rule34" alt="Hexo-blog" />
          Hexo-blog
        </h2>
      </a>
      <div id="header-title" class="opacity-0 md:ml-2 md:mt-[0.1rem] text-xs font-medium whitespace-nowrap overflow-hidden overflow-ellipsis">
        ä¸€æ–‡å¿«é€Ÿå…¥é—¨ RxJava 2
      </div>
      <div class="flex-1"></div>
      <div class="flex items-center gap-3">
        
          <a class="hidden sm:flex" href="/hexo-blog/public/archives">Posts</a>
        
          <a class="hidden sm:flex" href="/hexo-blog/public/category">Categories</a>
        
          <a class="hidden sm:flex" href="/hexo-blog/public/tag">Tags</a>
        
        
          
            <a class="w-5 h-5 hidden sm:flex" title="Github" target="_blank" rel="noopener" href="https://github.com/hqqich">
              <iconify-icon width="20" icon="ri:github-line"></iconify-icon>
            </a>
          
        
        <a class="w-5 h-5 hidden sm:flex" title="Github" href="rss2.xml">
          <iconify-icon width="20" icon="ri:rss-line"></iconify-icon>
        </a>
        <a class="w-5 h-5" title="toggle theme" id="toggle-dark">
          <iconify-icon width="20" icon="" id="theme-icon"></iconify-icon>
        </a>
      </div>
      <div class="flex items-center justify-center gap-3 ml-3 sm:hidden">
        <span class="w-5 h-5" aria-hidden="true" role="img" id="open-menu">
          <iconify-icon width="20" icon="carbon:menu" ></iconify-icon>
        </span>
        <span class="w-5 h-5 hidden" aria-hidden="true" role="img" id="close-menu">
          <iconify-icon  width="20" icon="carbon:close" ></iconify-icon>
        </span>
      </div>
    </nav>
  </div>
</header>
<div id="menu-panel" class="h-0 overflow-hidden sm:hidden fixed left-0 right-0 top-12 bottom-0 z-10">
  <div id="menu-content" class="relative z-20 bg-white/80 px-6 sm:px-8 py-2 backdrop-blur-xl -translate-y-full transition-transform duration-300">
    <ul class="nav flex flex-col sm:flex-row text-sm font-medium">
      
        <li class="nav-portfolio sm:mx-2 border-b sm:border-0 border-black/5 last:border-0 hover:text-main">
          <a href="/hexo-blog/public/archives" class="flex h-12 sm:h-auto items-center">Posts</a>
        </li>
      
        <li class="nav-portfolio sm:mx-2 border-b sm:border-0 border-black/5 last:border-0 hover:text-main">
          <a href="/hexo-blog/public/category" class="flex h-12 sm:h-auto items-center">Categories</a>
        </li>
      
        <li class="nav-portfolio sm:mx-2 border-b sm:border-0 border-black/5 last:border-0 hover:text-main">
          <a href="/hexo-blog/public/tag" class="flex h-12 sm:h-auto items-center">Tags</a>
        </li>
      
    </ul>
  </div>
  <div class="mask bg-black/20 absolute inset-0"></div>
</div>

  <main class="pt-14">
    <!-- css -->

<link rel="stylesheet" href="/hexo-blog/public/lib/fancybox/fancybox.min.css">


<link rel="stylesheet" href="/hexo-blog/public/lib/tocbot/tocbot.min.css">

<!-- toc -->

  <!-- tocbot -->
<nav class="post-toc toc text-sm w-48 relative top-32 right-0 opacity-70 hidden lg:block" style="position: fixed !important;"></nav>


<section class="px-6 max-w-prose mx-auto md:px-0">
  <!-- header -->
  <header class="overflow-hidden pt-6 pb-6 md:pt-12">
    <div class="pt-4 md:pt-6">
      <h1 id="article-title" class="text-[2rem] font-bold leading-snug mb-4 md:mb-6 md:text-[2.6rem]">
        ä¸€æ–‡å¿«é€Ÿå…¥é—¨ RxJava 2
      </h1>
      <div>
        <section class="flex items-center gap-3 text-sm">
          <span class="flex items-center gap-1">
            <iconify-icon width="18" icon="carbon-calendar" ></iconify-icon>
            <time>2025-03-02</time>
          </span>
          <span class="text-gray-400">Â·</span>
          <span class="flex items-center gap-1">
            <iconify-icon width="18" icon="ic:round-access-alarm" ></iconify-icon>
            <span>62 min</span>
          </span>
          <span class="text-gray-400">Â·</span>
          <span class="flex items-center gap-1">
            <iconify-icon width="18" icon="icon-park-outline:font-search" ></iconify-icon>
            <span>11.4k words</span>
          </span>
          
            <span class="text-gray-400">Â·</span>
            <span class="flex items-center gap-1">
              <iconify-icon width="16" icon="icon-park-outline:box" class="mr-2"></iconify-icon>
              <a class="article-category-link" href="/hexo-blog/public/categories/kotlin/">kotlin</a>
            </span>
          
        </section>
      </div>
    </div>
  </header>
  <!-- content -->
  <article class="post-content prose m-auto slide-enter-content dark:prose-invert">
    <blockquote>
<p>å…¬ä¼—å·ï¼š<a target="_blank" rel="noopener" href="https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/adbc507fc3704fd8955aae739a433db2~tplv-k3u1fbpfcp-zoom-1.image">å­—èŠ‚æ•°ç»„</a></p>
<p>å¸Œæœ›å¯¹ä½ æœ‰æ‰€å¸®åŠ© ğŸ¤£ğŸ¤£</p>
</blockquote>
<h1 id="ä¸€ã€æ¦‚è¿°"><a href="#ä¸€ã€æ¦‚è¿°" class="headerlink" title="ä¸€ã€æ¦‚è¿°"></a>ä¸€ã€æ¦‚è¿°</h1><p>åœ¨ RxJava ä¸­ï¼Œä¸€ä¸ªå®ç°äº† <code>Observer</code> æ¥å£çš„å¯¹è±¡å¯ä»¥è®¢é˜…ä¸€ä¸ª <code>Observable</code> ç±»çš„å®ä¾‹ã€‚è®¢é˜…è€…å¯¹ <code>Observable</code> å‘å°„çš„ä»»ä½•æ•°æ®æˆ–æ•°æ®åºåˆ—ä½œå‡ºå“åº”ã€‚è¿™ç§æ¨¡å¼ç®€åŒ–äº†å¹¶å‘æ“ä½œï¼Œå› ä¸ºå®ƒä¸éœ€è¦é˜»å¡ç­‰å¾… <code>Observable</code> å‘å°„æ•°æ®ï¼Œè€Œæ˜¯åˆ›å»ºäº†ä¸€ä¸ªå¤„äºå¾…å‘½çŠ¶æ€çš„è§‚å¯Ÿè€…å“¨å…µï¼Œå“¨å…µåœ¨æœªæ¥æŸä¸ªæ—¶åˆ»å“åº” <code>Observable</code> çš„é€šçŸ¥ã€‚RxJava æä¾›äº†ä¸€å¥—å¼‚æ­¥ç¼–ç¨‹çš„ APIï¼Œå¹¶ä¸”æ”¯æŒé“¾å¼è°ƒç”¨ï¼Œæ‰€ä»¥ä½¿ç”¨ RxJava ç¼–å†™çš„ä»£ç çš„é€»è¾‘ä¼šéå¸¸ç®€æ´</p>
<p>RxJava æœ‰ä»¥ä¸‹ä¸‰ä¸ªæœ€åŸºæœ¬çš„å…ƒç´ ï¼š</p>
<ol>
<li>è¢«è§‚å¯Ÿè€…ï¼ˆObservableï¼‰</li>
<li>è§‚å¯Ÿè€…ï¼ˆObserverï¼‰</li>
<li>è®¢é˜…ï¼ˆsubscribeï¼‰</li>
</ol>
<p>åˆ›å»ºè¢«è§‚å¯Ÿè€…</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">Observable&lt;Integer&gt; observable = Observable.create(<span class="keyword">new</span> <span class="title class_">ObservableOnSubscribe</span>&lt;Integer&gt;() &#123;</span><br><span class="line">          <span class="meta">@Override</span></span><br><span class="line">          <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">subscribe</span><span class="params">(ObservableEmitter&lt;Integer&gt; e)</span> &#123;</span><br><span class="line">              Log.e(TAG, <span class="string">&quot;subscribe&quot;</span>);</span><br><span class="line">              Log.e(TAG, <span class="string">&quot;currentThread name: &quot;</span> + Thread.currentThread().getName());</span><br><span class="line">              e.onNext(<span class="number">1</span>);</span><br><span class="line">              e.onNext(<span class="number">2</span>);</span><br><span class="line">              e.onNext(<span class="number">3</span>);</span><br><span class="line">              e.onComplete();</span><br><span class="line">          &#125;</span><br><span class="line">      &#125;);</span><br></pre></td></tr></table></figure>

<p>åˆ›å»ºè§‚å¯Ÿè€…</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line">Observer&lt;Integer&gt; observer = <span class="keyword">new</span> <span class="title class_">Observer</span>&lt;Integer&gt;() &#123;</span><br><span class="line">          <span class="meta">@Override</span></span><br><span class="line">          <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">onSubscribe</span><span class="params">(Disposable d)</span> &#123;</span><br><span class="line">              Log.e(TAG, <span class="string">&quot;onSubscribe&quot;</span>);</span><br><span class="line">          &#125;</span><br><span class="line"></span><br><span class="line">          <span class="meta">@Override</span></span><br><span class="line">          <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">onNext</span><span class="params">(Integer integer)</span> &#123;</span><br><span class="line">              Log.e(TAG, <span class="string">&quot;onNext: &quot;</span> + integer);</span><br><span class="line">          &#125;</span><br><span class="line"></span><br><span class="line">          <span class="meta">@Override</span></span><br><span class="line">          <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">onError</span><span class="params">(Throwable e)</span> &#123;</span><br><span class="line">              Log.e(TAG, <span class="string">&quot;onError: &quot;</span> + e.getMessage());</span><br><span class="line">          &#125;</span><br><span class="line"></span><br><span class="line">          <span class="meta">@Override</span></span><br><span class="line">          <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">onComplete</span><span class="params">()</span> &#123;</span><br><span class="line">              Log.e(TAG, <span class="string">&quot;onComplete&quot;</span>);</span><br><span class="line">          &#125;</span><br><span class="line">      &#125;;</span><br></pre></td></tr></table></figure>

<p>å®Œæˆè§‚å¯Ÿè€…ä¸è¢«è§‚å¯Ÿè€…ä¹‹é—´çš„è®¢é˜…å…³ç³»</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">observable.subscribe(observer);</span><br></pre></td></tr></table></figure>

<p>ä¹Ÿå¯ä»¥ä»¥é“¾å¼è°ƒç”¨çš„æ–¹å¼æ¥å®Œæˆè®¢é˜…</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line">Observable.create(<span class="keyword">new</span> <span class="title class_">ObservableOnSubscribe</span>&lt;Integer&gt;() &#123;</span><br><span class="line">          <span class="meta">@Override</span></span><br><span class="line">          <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">subscribe</span><span class="params">(ObservableEmitter&lt;Integer&gt; e)</span> &#123;</span><br><span class="line">              Log.e(TAG, <span class="string">&quot;subscribe&quot;</span>);</span><br><span class="line">              Log.e(TAG, <span class="string">&quot;currentThread name: &quot;</span> + Thread.currentThread().getName());</span><br><span class="line">              e.onNext(<span class="number">1</span>);</span><br><span class="line">              e.onNext(<span class="number">2</span>);</span><br><span class="line">              e.onNext(<span class="number">3</span>);</span><br><span class="line">              e.onComplete();</span><br><span class="line">          &#125;</span><br><span class="line">      &#125;).subscribe(<span class="keyword">new</span> <span class="title class_">Observer</span>&lt;Integer&gt;() &#123;</span><br><span class="line">          <span class="meta">@Override</span></span><br><span class="line">          <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">onSubscribe</span><span class="params">(Disposable d)</span> &#123;</span><br><span class="line">              Log.e(TAG, <span class="string">&quot;onSubscribe&quot;</span>);</span><br><span class="line">          &#125;</span><br><span class="line"></span><br><span class="line">          <span class="meta">@Override</span></span><br><span class="line">          <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">onNext</span><span class="params">(Integer integer)</span> &#123;</span><br><span class="line">              Log.e(TAG, <span class="string">&quot;onNext: &quot;</span> + integer);</span><br><span class="line">          &#125;</span><br><span class="line"></span><br><span class="line">          <span class="meta">@Override</span></span><br><span class="line">          <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">onError</span><span class="params">(Throwable e)</span> &#123;</span><br><span class="line">              Log.e(TAG, <span class="string">&quot;onError: &quot;</span> + e.getMessage());</span><br><span class="line">          &#125;</span><br><span class="line"></span><br><span class="line">          <span class="meta">@Override</span></span><br><span class="line">          <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">onComplete</span><span class="params">()</span> &#123;</span><br><span class="line">              Log.e(TAG, <span class="string">&quot;onComplete&quot;</span>);</span><br><span class="line">          &#125;</span><br><span class="line">      &#125;);</span><br></pre></td></tr></table></figure>

<p>æœ€ç»ˆçš„è¾“å‡ºç»“æœæ˜¯ä¸€æ ·çš„</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">onSubscribe</span><br><span class="line">subscribe</span><br><span class="line">currentThread name: main</span><br><span class="line">onNext: <span class="number">1</span></span><br><span class="line">onNext: <span class="number">2</span></span><br><span class="line">onNext: <span class="number">3</span></span><br><span class="line">onComplete</span><br></pre></td></tr></table></figure>

<p>è¢«è§‚å¯Ÿè€…å‘é€çš„äº‹ä»¶ç±»å‹æœ‰ä»¥ä¸‹å‡ ç§</p>
<table>
<thead>
<tr>
<th>äº‹ä»¶ç§ç±»</th>
<th>ä½œç”¨</th>
</tr>
</thead>
<tbody><tr>
<td>onNext()</td>
<td>å‘é€è¯¥äº‹ä»¶æ—¶ï¼Œè§‚å¯Ÿè€…ä¼šå›è°ƒ onNext() æ–¹æ³•</td>
</tr>
<tr>
<td>onError()</td>
<td>å‘é€è¯¥äº‹ä»¶æ—¶ï¼Œè§‚å¯Ÿè€…ä¼šå›è°ƒ onError() æ–¹æ³•ï¼Œå½“å‘é€è¯¥äº‹ä»¶ä¹‹åï¼Œå…¶ä»–äº‹ä»¶å°†ä¸ä¼šç»§ç»­å‘é€</td>
</tr>
<tr>
<td>onComplete()</td>
<td>å‘é€è¯¥äº‹ä»¶æ—¶ï¼Œè§‚å¯Ÿè€…ä¼šå›è°ƒ onComplete() æ–¹æ³•ï¼Œå½“å‘é€è¯¥äº‹ä»¶ä¹‹åï¼Œå…¶ä»–äº‹ä»¶å°†ä¸ä¼šç»§ç»­å‘é€</td>
</tr>
</tbody></table>
<p>ä¸‹é¢æ¥è®²è§£ RxJava ä¸­å„ç§å¸¸è§çš„æ“ä½œç¬¦</p>
<h1 id="äºŒã€åˆ›å»ºæ“ä½œç¬¦"><a href="#äºŒã€åˆ›å»ºæ“ä½œç¬¦" class="headerlink" title="äºŒã€åˆ›å»ºæ“ä½œç¬¦"></a>äºŒã€åˆ›å»ºæ“ä½œç¬¦</h1><h2 id="1ã€create"><a href="#1ã€create" class="headerlink" title="1ã€create()"></a>1ã€create()</h2><p>ç”¨äºåˆ›å»ºä¸€ä¸ª <code>Observable</code>ã€‚ä¸€ä¸ªæ­£ç¡®çš„ <code>Observable</code> å¿…é¡»å°è¯•è°ƒç”¨è§‚å¯Ÿè€…çš„ <code>onCompleted</code> æ–¹æ³•æˆ–è€… <code>onError</code> æ–¹æ³•<strong>æœ‰ä¸”ä»…æœ‰ä¸€æ¬¡</strong>ï¼Œè€Œä¸”æ­¤åä¸èƒ½å†è°ƒç”¨<code>Observable</code> çš„ä»»ä½•å…¶å®ƒæ–¹æ³•</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">Observable&lt;Integer&gt; observable = Observable.create(<span class="keyword">new</span> <span class="title class_">ObservableOnSubscribe</span>&lt;Integer&gt;() &#123;</span><br><span class="line">          <span class="meta">@Override</span></span><br><span class="line">          <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">subscribe</span><span class="params">(ObservableEmitter&lt;Integer&gt; e)</span> &#123;</span><br><span class="line">              Log.e(TAG, <span class="string">&quot;subscribe&quot;</span>);</span><br><span class="line">              Log.e(TAG, <span class="string">&quot;currentThread name: &quot;</span> + Thread.currentThread().getName());</span><br><span class="line">              e.onNext(<span class="number">1</span>);</span><br><span class="line">              e.onNext(<span class="number">2</span>);</span><br><span class="line">              e.onNext(<span class="number">3</span>);</span><br><span class="line">              e.onComplete();</span><br><span class="line">          &#125;</span><br><span class="line">      &#125;);</span><br></pre></td></tr></table></figure>

<h2 id="2ã€just"><a href="#2ã€just" class="headerlink" title="2ã€just()"></a>2ã€just()</h2><p>åˆ›å»ºä¸€ä¸ª <code>Observable</code>å¹¶å‘é€äº‹ä»¶ï¼Œå‘é€çš„äº‹ä»¶æ€»æ•°ä¸å¯ä»¥è¶…å‡ºåä¸ª</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line">Observable.just(<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>).subscribe(<span class="keyword">new</span> <span class="title class_">Observer</span>&lt;Integer&gt;() &#123;</span><br><span class="line">          <span class="meta">@Override</span></span><br><span class="line">          <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">onSubscribe</span><span class="params">(Disposable d)</span> &#123;</span><br><span class="line">              Log.e(TAG, <span class="string">&quot;onSubscribe&quot;</span>);</span><br><span class="line">          &#125;</span><br><span class="line"></span><br><span class="line">          <span class="meta">@Override</span></span><br><span class="line">          <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">onNext</span><span class="params">(Integer integer)</span> &#123;</span><br><span class="line">              Log.e(TAG, <span class="string">&quot;onNext: &quot;</span> + integer);</span><br><span class="line">          &#125;</span><br><span class="line"></span><br><span class="line">          <span class="meta">@Override</span></span><br><span class="line">          <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">onError</span><span class="params">(Throwable e)</span> &#123;</span><br><span class="line">              Log.e(TAG, <span class="string">&quot;onError: &quot;</span> + e.getMessage());</span><br><span class="line">          &#125;</span><br><span class="line"></span><br><span class="line">          <span class="meta">@Override</span></span><br><span class="line">          <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">onComplete</span><span class="params">()</span> &#123;</span><br><span class="line">              Log.e(TAG, <span class="string">&quot;onComplete&quot;</span>);</span><br><span class="line">          &#125;</span><br><span class="line">      &#125;);</span><br></pre></td></tr></table></figure>

<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">onSubscribe</span><br><span class="line">onNext: <span class="number">1</span></span><br><span class="line">onNext: <span class="number">2</span></span><br><span class="line">onNext: <span class="number">3</span></span><br><span class="line">onComplete</span><br></pre></td></tr></table></figure>

<h2 id="3ã€fromArray"><a href="#3ã€fromArray" class="headerlink" title="3ã€fromArray"></a>3ã€fromArray</h2><p>å’Œ <code>just()</code> ç±»ä¼¼ï¼Œä½† <code>fromArray</code> å¯ä»¥ä¼ å…¥å¤šäºåä¸ªçš„å˜é‡ï¼Œå¹¶ä¸”å¯ä»¥ä¼ å…¥ä¸€ä¸ªæ•°ç»„</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line">Integer[] arrays = <span class="keyword">new</span> <span class="title class_">Integer</span>[]&#123;<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>&#125;;</span><br><span class="line">   Observable.fromArray(arrays).subscribe(<span class="keyword">new</span> <span class="title class_">Observer</span>&lt;Integer&gt;() &#123;</span><br><span class="line">       <span class="meta">@Override</span></span><br><span class="line">       <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">onSubscribe</span><span class="params">(Disposable d)</span> &#123;</span><br><span class="line">           Log.e(TAG, <span class="string">&quot;onSubscribe&quot;</span>);</span><br><span class="line">       &#125;</span><br><span class="line"></span><br><span class="line">       <span class="meta">@Override</span></span><br><span class="line">       <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">onNext</span><span class="params">(Integer integer)</span> &#123;</span><br><span class="line">           Log.e(TAG, <span class="string">&quot;onNext: &quot;</span> + integer);</span><br><span class="line">       &#125;</span><br><span class="line"></span><br><span class="line">       <span class="meta">@Override</span></span><br><span class="line">       <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">onError</span><span class="params">(Throwable e)</span> &#123;</span><br><span class="line">           Log.e(TAG, <span class="string">&quot;onError: &quot;</span> + e.getMessage());</span><br><span class="line">       &#125;</span><br><span class="line"></span><br><span class="line">       <span class="meta">@Override</span></span><br><span class="line">       <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">onComplete</span><span class="params">()</span> &#123;</span><br><span class="line">           Log.e(TAG, <span class="string">&quot;onComplete&quot;</span>);</span><br><span class="line">       &#125;</span><br><span class="line">   &#125;);</span><br></pre></td></tr></table></figure>

<h2 id="4ã€fromCallable"><a href="#4ã€fromCallable" class="headerlink" title="4ã€fromCallable"></a>4ã€fromCallable</h2><p>è¿™é‡Œçš„ <code>Callable</code> æ˜¯æŒ‡ <code>java.util.concurrent</code> ä¸­çš„ <code>Callable</code>ï¼Œ<code>Callable</code> å’Œ <code>Runnable</code> çš„ç”¨æ³•åŸºæœ¬ä¸€è‡´ï¼Œåªæ˜¯å®ƒåŒ…å«ä¸€ä¸ªè¿”å›å€¼ï¼Œè¿™ä¸ªç»“æœå€¼å°±æ˜¯å‘ç»™è§‚å¯Ÿè€…çš„</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">Observable.fromCallable(<span class="keyword">new</span> <span class="title class_">Callable</span>&lt;Integer&gt;() &#123;</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> Integer <span class="title function_">call</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="number">100</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>

<h2 id="5ã€fromFuture"><a href="#5ã€fromFuture" class="headerlink" title="5ã€fromFuture"></a>5ã€fromFuture</h2><p>è¿™é‡Œçš„ <code>Future</code> æ˜¯æŒ‡ <code>java.util.concurrent</code> ä¸­çš„ <code>Future</code>ï¼Œ<code>Future</code> çš„ä½œç”¨æ˜¯å¢åŠ äº† <code>cancel()</code> ç­‰æ–¹æ³•æ“ä½œ <code>Callable</code>ï¼Œå®ƒå¯ä»¥é€šè¿‡ <code>get()</code> æ–¹æ³•æ¥è·å– <code>Callable</code> è¿”å›çš„å€¼</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">final</span> FutureTask&lt;Integer&gt; futureTask = <span class="keyword">new</span> <span class="title class_">FutureTask</span>&lt;&gt;(<span class="keyword">new</span> <span class="title class_">Callable</span>&lt;Integer&gt;() &#123;</span><br><span class="line">          <span class="meta">@Override</span></span><br><span class="line">          <span class="keyword">public</span> Integer <span class="title function_">call</span><span class="params">()</span> &#123;</span><br><span class="line">              <span class="keyword">return</span> <span class="number">12</span>;</span><br><span class="line">          &#125;</span><br><span class="line">      &#125;);</span><br><span class="line">      Observable.fromFuture(futureTask).doOnSubscribe(<span class="keyword">new</span> <span class="title class_">Consumer</span>&lt;Disposable&gt;() &#123;</span><br><span class="line">          <span class="meta">@Override</span></span><br><span class="line">          <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">accept</span><span class="params">(Disposable disposable)</span> &#123;</span><br><span class="line">              futureTask.run();</span><br><span class="line">          &#125;</span><br><span class="line">      &#125;).subscribe(<span class="keyword">new</span> <span class="title class_">Consumer</span>&lt;Integer&gt;() &#123;</span><br><span class="line">          <span class="meta">@Override</span></span><br><span class="line">          <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">accept</span><span class="params">(Integer integer)</span> &#123;</span><br><span class="line">              Log.e(TAG, <span class="string">&quot;accept: &quot;</span> + integer);</span><br><span class="line">          &#125;</span><br><span class="line">      &#125;);</span><br></pre></td></tr></table></figure>

<h2 id="6ã€fromIterable"><a href="#6ã€fromIterable" class="headerlink" title="6ã€fromIterable()"></a>6ã€fromIterable()</h2><p>ç”¨äºå‘é€ä¸€ä¸ª <code>List</code> é›†åˆæ•°æ®ç»™è§‚å¯Ÿè€…</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">List&lt;Integer&gt; integerList = <span class="keyword">new</span> <span class="title class_">ArrayList</span>&lt;&gt;();</span><br><span class="line">   integerList.add(<span class="number">1</span>);</span><br><span class="line">   integerList.add(<span class="number">2</span>);</span><br><span class="line">   integerList.add(<span class="number">3</span>);</span><br><span class="line">   Observable.fromIterable(integerList).subscribe(<span class="keyword">new</span> <span class="title class_">Consumer</span>&lt;Integer&gt;() &#123;</span><br><span class="line">       <span class="meta">@Override</span></span><br><span class="line">       <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">accept</span><span class="params">(Integer integer)</span> &#123;</span><br><span class="line">           Log.e(TAG, <span class="string">&quot;accept: &quot;</span> + integer);</span><br><span class="line">       &#125;</span><br><span class="line">   &#125;);</span><br></pre></td></tr></table></figure>

<h2 id="7ã€defer"><a href="#7ã€defer" class="headerlink" title="7ã€defer()"></a>7ã€defer()</h2><p><code>defer</code> æ“ä½œç¬¦ä¼šä¸€ç›´ç­‰å¾…ç›´åˆ°æœ‰è§‚å¯Ÿè€…è®¢é˜…å®ƒï¼Œç„¶åå®ƒä½¿ç”¨ <code>Observable</code> å·¥å‚æ–¹æ³•ç”Ÿæˆä¸€ä¸ª <code>Observable</code>ã€‚å®ƒå¯¹æ¯ä¸ªè§‚å¯Ÿè€…éƒ½è¿™æ ·åšï¼Œå› æ­¤å°½ç®¡æ¯ä¸ªè®¢é˜…è€…éƒ½ä»¥ä¸ºè‡ªå·±è®¢é˜…çš„æ˜¯åŒä¸€ä¸ª <code>Observable</code> ï¼Œå®é™…ä¸Šæ¯ä¸ªè®¢é˜…è€…è·å–åˆ°çš„éƒ½æ˜¯å®ƒä»¬è‡ªå·±çš„å•ç‹¬çš„æ•°æ®åºåˆ—ã€‚åœ¨æŸäº›æƒ…å†µä¸‹ï¼Œç›´åˆ°å‘ç”Ÿè®¢é˜…æ—¶æ‰ç”Ÿæˆ <code>Observable</code> å¯ä»¥ç¡®ä¿ <code>Observable</code> åŒ…å«æœ€æ–°çš„æ•°æ®</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line">   <span class="comment">//å…¨å±€å˜é‡</span></span><br><span class="line">   <span class="keyword">private</span> <span class="type">Integer</span> <span class="variable">value</span> <span class="operator">=</span> <span class="number">100</span>;</span><br><span class="line"></span><br><span class="line">Observable&lt;Integer&gt; observable = Observable.defer(<span class="keyword">new</span> <span class="title class_">Callable</span>&lt;ObservableSource&lt;? <span class="keyword">extends</span> <span class="title class_">Integer</span>&gt;&gt;() &#123;</span><br><span class="line">           <span class="meta">@Override</span></span><br><span class="line">           <span class="keyword">public</span> ObservableSource&lt;? <span class="keyword">extends</span> <span class="title class_">Integer</span>&gt; call() &#123;</span><br><span class="line">               <span class="keyword">return</span> Observable.just(value);</span><br><span class="line">           &#125;</span><br><span class="line">       &#125;);</span><br><span class="line">       value = <span class="number">200</span>;</span><br><span class="line">       observable.subscribe(<span class="keyword">new</span> <span class="title class_">Consumer</span>&lt;Integer&gt;() &#123;</span><br><span class="line">           <span class="meta">@Override</span></span><br><span class="line">           <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">accept</span><span class="params">(Integer integer)</span> &#123;</span><br><span class="line">               Log.e(TAG, <span class="string">&quot;accept: &quot;</span> + integer);</span><br><span class="line">           &#125;</span><br><span class="line">       &#125;);</span><br><span class="line">       value = <span class="number">300</span>;</span><br><span class="line">       observable.subscribe(<span class="keyword">new</span> <span class="title class_">Consumer</span>&lt;Integer&gt;() &#123;</span><br><span class="line">           <span class="meta">@Override</span></span><br><span class="line">           <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">accept</span><span class="params">(Integer integer)</span> &#123;</span><br><span class="line">               Log.e(TAG, <span class="string">&quot;accept: &quot;</span> + integer);</span><br><span class="line">           &#125;</span><br><span class="line">       &#125;);</span><br></pre></td></tr></table></figure>

<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">accept: <span class="number">200</span></span><br><span class="line">accept: <span class="number">300</span></span><br></pre></td></tr></table></figure>

<p><code>defer()</code> æ“ä½œç¬¦èƒ½ä½¿å¾—æ¯æ¬¡è®¢é˜…æ“ä½œéƒ½åˆ›å»ºè¢«è§‚å¯Ÿè€…ï¼Œå› æ­¤ä¸¤æ¬¡è®¢é˜…æ“ä½œä¼šåˆ›å»ºä¸åŒçš„è¢«è§‚å¯Ÿè€…å¯¹è±¡ï¼Œå› æ­¤ä¸¤æ¬¡æ‰“å°æ“ä½œè¿”å›çš„å€¼å¹¶ä¸ä¸€æ ·</p>
<h2 id="8ã€timer"><a href="#8ã€timer" class="headerlink" title="8ã€timer()"></a>8ã€timer()</h2><p>å»¶è¿ŸæŒ‡å®šæ—¶é—´åä¼šå‘é€ä¸€ä¸ªå¤§å°ä¸º <code>0L</code> çš„å€¼ç»™è§‚å¯Ÿè€…</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">Observable.timer(<span class="number">2</span>, TimeUnit.SECONDS)</span><br><span class="line">    .subscribe(<span class="keyword">new</span> <span class="title class_">Consumer</span>&lt;Long&gt;() &#123;</span><br><span class="line">        <span class="meta">@Override</span></span><br><span class="line">        <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">accept</span><span class="params">(Long aLong)</span> &#123;</span><br><span class="line"></span><br><span class="line">        &#125;</span><br><span class="line">    &#125;);</span><br></pre></td></tr></table></figure>

<h2 id="9ã€interval"><a href="#9ã€interval" class="headerlink" title="9ã€interval()"></a>9ã€interval()</h2><p>æ¯éš”ä¸€æ®µæ—¶é—´å°±å‘é€ä¸€ä¸ªäº‹ä»¶ï¼Œä¼ é€’çš„å€¼ä» 0 å¼€å§‹å¹¶ä¸æ–­å¢ 1</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">Observable.interval(<span class="number">2</span>, TimeUnit.SECONDS)</span><br><span class="line">       .subscribe(<span class="keyword">new</span> <span class="title class_">Consumer</span>&lt;Long&gt;() &#123;</span><br><span class="line">           <span class="meta">@Override</span></span><br><span class="line">           <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">accept</span><span class="params">(Long aLong)</span> &#123;</span><br><span class="line">               Log.e(TAG, <span class="string">&quot;value is: &quot;</span> + aLong);</span><br><span class="line">           &#125;</span><br><span class="line">       &#125;);</span><br></pre></td></tr></table></figure>

<h2 id="10ã€intervalRange"><a href="#10ã€intervalRange" class="headerlink" title="10ã€intervalRange()"></a>10ã€intervalRange()</h2><p>å¯ä»¥æŒ‡å®šå‘é€äº‹ä»¶çš„å¼€å§‹å€¼å’Œæ•°é‡ï¼Œå…¶ä»–ä¸ <code>interval()</code> çš„åŠŸèƒ½ä¸€æ ·</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line">Observable.intervalRange(<span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>, TimeUnit.SECONDS)</span><br><span class="line">             .subscribe(<span class="keyword">new</span> <span class="title class_">Observer</span>&lt;Long&gt;() &#123;</span><br><span class="line">                 <span class="meta">@Override</span></span><br><span class="line">                 <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">onSubscribe</span><span class="params">(Disposable d)</span> &#123;</span><br><span class="line">                     Log.e(TAG, <span class="string">&quot;onSubscribe&quot;</span>);</span><br><span class="line">                 &#125;</span><br><span class="line"></span><br><span class="line">                 <span class="meta">@Override</span></span><br><span class="line">                 <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">onNext</span><span class="params">(Long aLong)</span> &#123;</span><br><span class="line">                     Log.e(TAG, <span class="string">&quot;onNextï¼š&quot;</span> + aLong);</span><br><span class="line">                 &#125;</span><br><span class="line"></span><br><span class="line">                 <span class="meta">@Override</span></span><br><span class="line">                 <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">onError</span><span class="params">(Throwable e)</span> &#123;</span><br><span class="line">                     Log.e(TAG, <span class="string">&quot;onError: &quot;</span> + e.getMessage());</span><br><span class="line">                 &#125;</span><br><span class="line"></span><br><span class="line">                 <span class="meta">@Override</span></span><br><span class="line">                 <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">onComplete</span><span class="params">()</span> &#123;</span><br><span class="line">                     Log.e(TAG, <span class="string">&quot;onComplete&quot;</span>);</span><br><span class="line">                 &#125;</span><br><span class="line">             &#125;);</span><br></pre></td></tr></table></figure>

<p>èµ·å§‹å€¼ä» 2 å¼€å§‹é€’å¢ï¼Œäº‹ä»¶å…±ä¼ é€’ä¸‰æ¬¡ï¼Œç¬¬ä¸€æ¬¡äº‹ä»¶åœ¨è®¢é˜…åå»¶è¿Ÿ 4 ç§’è§¦å‘ï¼Œä¹‹åæ¯æ¬¡å»¶è¿Ÿ 5 ç§’</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="number">10</span>-<span class="number">06</span> <span class="number">10</span>:<span class="number">48</span>:<span class="number">40.017</span> <span class="number">17976</span>-<span class="number">17976</span>/leavesc.hello.rxjavademo E/MainActivity: onSubscribe</span><br><span class="line"><span class="number">10</span>-<span class="number">06</span> <span class="number">10</span>:<span class="number">48</span>:<span class="number">44.017</span> <span class="number">17976</span>-<span class="number">17990</span>/leavesc.hello.rxjavademo E/MainActivity: onNextï¼š<span class="number">2</span></span><br><span class="line"><span class="number">10</span>-<span class="number">06</span> <span class="number">10</span>:<span class="number">48</span>:<span class="number">49.017</span> <span class="number">17976</span>-<span class="number">17990</span>/leavesc.hello.rxjavademo E/MainActivity: onNextï¼š<span class="number">3</span></span><br><span class="line"><span class="number">10</span>-<span class="number">06</span> <span class="number">10</span>:<span class="number">48</span>:<span class="number">54.017</span> <span class="number">17976</span>-<span class="number">17990</span>/leavesc.hello.rxjavademo E/MainActivity: onNextï¼š<span class="number">4</span></span><br><span class="line"><span class="number">10</span>-<span class="number">06</span> <span class="number">10</span>:<span class="number">48</span>:<span class="number">54.017</span> <span class="number">17976</span>-<span class="number">17990</span>/leavesc.hello.rxjavademo E/MainActivity: onComplete</span><br></pre></td></tr></table></figure>

<h2 id="11ã€range"><a href="#11ã€range" class="headerlink" title="11ã€range()"></a>11ã€range()</h2><p>å‘é€æŒ‡å®šèŒƒå›´çš„äº‹ä»¶åºåˆ—</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">Observable.range(<span class="number">2</span>, <span class="number">5</span>)</span><br><span class="line">             .subscribe(<span class="keyword">new</span> <span class="title class_">Consumer</span>&lt;Integer&gt;() &#123;</span><br><span class="line">                 <span class="meta">@Override</span></span><br><span class="line">                 <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">accept</span><span class="params">(Integer integer)</span> &#123;</span><br><span class="line">                     Log.e(TAG, <span class="string">&quot;values is :&quot;</span> + integer);</span><br><span class="line">                 &#125;</span><br><span class="line">             &#125;);</span><br></pre></td></tr></table></figure>

<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">values is :<span class="number">2</span></span><br><span class="line">values is :<span class="number">3</span></span><br><span class="line">values is :<span class="number">4</span></span><br><span class="line">values is :<span class="number">5</span></span><br><span class="line">values is :<span class="number">6</span></span><br></pre></td></tr></table></figure>

<h2 id="12ã€rangeLong"><a href="#12ã€rangeLong" class="headerlink" title="12ã€rangeLong()"></a>12ã€rangeLong()</h2><p>ä½œç”¨ä¸ <code>range()</code> ä¸€æ ·ï¼Œåªæ˜¯æ•°æ®ç±»å‹æ˜¯ <code>Long</code></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">Observable.rangeLong((<span class="number">2</span>, <span class="number">5</span>)</span><br><span class="line">      .subscribe(<span class="keyword">new</span> <span class="title class_">Consumer</span>&lt;Long&gt;() &#123;</span><br><span class="line">          <span class="meta">@Override</span></span><br><span class="line">          <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">accept</span><span class="params">(Long aLong)</span> &#123;</span><br><span class="line">              Log.e(TAG, <span class="string">&quot;values is :&quot;</span> + aLong);</span><br><span class="line">          &#125;</span><br><span class="line">      &#125;);</span><br></pre></td></tr></table></figure>

<h2 id="13ã€empty-never-error"><a href="#13ã€empty-never-error" class="headerlink" title="13ã€empty() &amp; never() &amp; error()"></a>13ã€empty() &amp; never() &amp; error()</h2><p><code>empty()</code> ç›´æ¥å‘é€ <code>onComplete()</code> äº‹ä»¶</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line">Observable.empty().subscribe(<span class="keyword">new</span> <span class="title class_">Observer</span>&lt;Object&gt;() &#123;</span><br><span class="line">          <span class="meta">@Override</span></span><br><span class="line">          <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">onSubscribe</span><span class="params">(Disposable d)</span> &#123;</span><br><span class="line">              Log.e(TAG, <span class="string">&quot;onSubscribe&quot;</span>);</span><br><span class="line">          &#125;</span><br><span class="line"></span><br><span class="line">          <span class="meta">@Override</span></span><br><span class="line">          <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">onNext</span><span class="params">(Object object)</span> &#123;</span><br><span class="line">              Log.e(TAG, <span class="string">&quot;onNext: &quot;</span> + object);</span><br><span class="line">          &#125;</span><br><span class="line"></span><br><span class="line">          <span class="meta">@Override</span></span><br><span class="line">          <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">onError</span><span class="params">(Throwable e)</span> &#123;</span><br><span class="line">              Log.e(TAG, <span class="string">&quot;onError: &quot;</span> + e.getMessage());</span><br><span class="line">          &#125;</span><br><span class="line"></span><br><span class="line">          <span class="meta">@Override</span></span><br><span class="line">          <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">onComplete</span><span class="params">()</span> &#123;</span><br><span class="line">              Log.e(TAG, <span class="string">&quot;onComplete&quot;</span>);</span><br><span class="line">          &#125;</span><br><span class="line">      &#125;);</span><br></pre></td></tr></table></figure>

<p>æ‰“å°ç»“æœ</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">onSubscribe</span><br><span class="line">onComplete</span><br></pre></td></tr></table></figure>

<p>æ¢æˆ <code>never()</code></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">onSubscribe</span><br></pre></td></tr></table></figure>

<p>æ¢æˆ <code>error()</code></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line">Observable.error(<span class="keyword">new</span> <span class="title class_">Throwable</span>(<span class="string">&quot;Hello&quot;</span>)).subscribe(<span class="keyword">new</span> <span class="title class_">Observer</span>&lt;Object&gt;() &#123;</span><br><span class="line">            <span class="meta">@Override</span></span><br><span class="line">            <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">onSubscribe</span><span class="params">(Disposable d)</span> &#123;</span><br><span class="line">                Log.e(TAG, <span class="string">&quot;onSubscribe&quot;</span>);</span><br><span class="line">            &#125;</span><br><span class="line"></span><br><span class="line">            <span class="meta">@Override</span></span><br><span class="line">            <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">onNext</span><span class="params">(Object object)</span> &#123;</span><br><span class="line">                Log.e(TAG, <span class="string">&quot;onNext: &quot;</span> + object);</span><br><span class="line">            &#125;</span><br><span class="line"></span><br><span class="line">            <span class="meta">@Override</span></span><br><span class="line">            <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">onError</span><span class="params">(Throwable e)</span> &#123;</span><br><span class="line">                Log.e(TAG, <span class="string">&quot;onError: &quot;</span> + e.getMessage());</span><br><span class="line">            &#125;</span><br><span class="line"></span><br><span class="line">            <span class="meta">@Override</span></span><br><span class="line">            <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">onComplete</span><span class="params">()</span> &#123;</span><br><span class="line">                Log.e(TAG, <span class="string">&quot;onComplete&quot;</span>);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;);</span><br></pre></td></tr></table></figure>

<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">onSubscribe</span><br><span class="line">   onError: Hello</span><br></pre></td></tr></table></figure>

<h1 id="ä¸‰ã€è½¬æ¢æ“ä½œç¬¦"><a href="#ä¸‰ã€è½¬æ¢æ“ä½œç¬¦" class="headerlink" title="ä¸‰ã€è½¬æ¢æ“ä½œç¬¦"></a>ä¸‰ã€è½¬æ¢æ“ä½œç¬¦</h1><h2 id="1ã€map"><a href="#1ã€map" class="headerlink" title="1ã€map()"></a>1ã€map()</h2><p><code>map()</code> ç”¨äºå°†è¢«è§‚å¯Ÿè€…å‘é€çš„æ•°æ®ç±»å‹è½¬å˜æˆå…¶ä»–çš„ç±»å‹</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">Observable.just(<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>)</span><br><span class="line">       .map(<span class="keyword">new</span> <span class="title class_">Function</span>&lt;Integer, String&gt;() &#123;</span><br><span class="line">           <span class="meta">@Override</span></span><br><span class="line">           <span class="keyword">public</span> String <span class="title function_">apply</span><span class="params">(Integer integer)</span> &#123;</span><br><span class="line">               <span class="keyword">return</span> <span class="string">&quot;I&#x27;m &quot;</span> + integer;</span><br><span class="line">           &#125;</span><br><span class="line">       &#125;)</span><br><span class="line">       .subscribe(<span class="keyword">new</span> <span class="title class_">Consumer</span>&lt;String&gt;() &#123;</span><br><span class="line">           <span class="meta">@Override</span></span><br><span class="line">           <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">accept</span><span class="params">(String s)</span> &#123;</span><br><span class="line">               Log.e(TAG, s);</span><br><span class="line">           &#125;</span><br><span class="line">       &#125;);</span><br></pre></td></tr></table></figure>

<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="number">10</span>-<span class="number">06</span> <span class="number">10</span>:<span class="number">53</span>:<span class="number">16.364</span> <span class="number">18099</span>-<span class="number">18099</span>/leavesc.hello.rxjavademo E/MainActivity: I<span class="string">&#x27;m 1</span></span><br><span class="line"><span class="string">10-06 10:53:16.364 18099-18099/leavesc.hello.rxjavademo E/MainActivity: I&#x27;</span>m <span class="number">2</span></span><br><span class="line"><span class="number">10</span>-<span class="number">06</span> <span class="number">10</span>:<span class="number">53</span>:<span class="number">16.364</span> <span class="number">18099</span>-<span class="number">18099</span>/leavesc.hello.rxjavademo E/MainActivity: I<span class="string">&#x27;m 3</span></span><br></pre></td></tr></table></figure>

<h2 id="2ã€flatMap"><a href="#2ã€flatMap" class="headerlink" title="2ã€flatMap()"></a>2ã€flatMap()</h2><p>ç”¨äºå°†äº‹ä»¶åºåˆ—ä¸­çš„å…ƒç´ è¿›è¡Œæ•´åˆåŠ å·¥ï¼Œè¿”å›ä¸€ä¸ªæ–°çš„è¢«è§‚å¯Ÿè€…</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line">List&lt;List&lt;String&gt;&gt; listArrayList = <span class="keyword">new</span> <span class="title class_">ArrayList</span>&lt;&gt;();</span><br><span class="line"></span><br><span class="line">List&lt;String&gt; stringList = <span class="keyword">new</span> <span class="title class_">ArrayList</span>&lt;&gt;();</span><br><span class="line"><span class="keyword">for</span> (<span class="type">int</span> <span class="variable">j</span> <span class="operator">=</span> <span class="number">0</span>; j &lt; <span class="number">2</span>; j++) &#123;</span><br><span class="line">    stringList.add(<span class="string">&quot;A_&quot;</span> + j);</span><br><span class="line">&#125;</span><br><span class="line">listArrayList.add(stringList);</span><br><span class="line"></span><br><span class="line">stringList = <span class="keyword">new</span> <span class="title class_">ArrayList</span>&lt;&gt;();</span><br><span class="line"><span class="keyword">for</span> (<span class="type">int</span> <span class="variable">j</span> <span class="operator">=</span> <span class="number">0</span>; j &lt; <span class="number">2</span>; j++) &#123;</span><br><span class="line">    stringList.add(<span class="string">&quot;B_&quot;</span> + j);</span><br><span class="line">&#125;</span><br><span class="line">listArrayList.add(stringList);</span><br><span class="line"></span><br><span class="line">Observable.fromIterable(listArrayList).flatMap(<span class="keyword">new</span> <span class="title class_">Function</span>&lt;List&lt;String&gt;, ObservableSource&lt;String&gt;&gt;() &#123;</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> ObservableSource&lt;String&gt; <span class="title function_">apply</span><span class="params">(List&lt;String&gt; stringList1)</span> <span class="keyword">throws</span> Exception &#123;</span><br><span class="line">        <span class="keyword">return</span> Observable.fromIterable(stringList1);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;).subscribe(<span class="keyword">new</span> <span class="title class_">Consumer</span>&lt;String&gt;() &#123;</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">accept</span><span class="params">(String s)</span> <span class="keyword">throws</span> Exception &#123;</span><br><span class="line">        Log.e(TAG, <span class="string">&quot;value is: &quot;</span> + s);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>

<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="number">10</span>-<span class="number">06</span> <span class="number">11</span>:<span class="number">02</span>:<span class="number">47.246</span> <span class="number">18230</span>-<span class="number">18230</span>/leavesc.hello.rxjavademo E/MainActivity: value is: A_0</span><br><span class="line"><span class="number">10</span>-<span class="number">06</span> <span class="number">11</span>:<span class="number">02</span>:<span class="number">47.246</span> <span class="number">18230</span>-<span class="number">18230</span>/leavesc.hello.rxjavademo E/MainActivity: value is: A_1</span><br><span class="line"><span class="number">10</span>-<span class="number">06</span> <span class="number">11</span>:<span class="number">02</span>:<span class="number">47.246</span> <span class="number">18230</span>-<span class="number">18230</span>/leavesc.hello.rxjavademo E/MainActivity: value is: B_0</span><br><span class="line"><span class="number">10</span>-<span class="number">06</span> <span class="number">11</span>:<span class="number">02</span>:<span class="number">47.246</span> <span class="number">18230</span>-<span class="number">18230</span>/leavesc.hello.rxjavademo E/MainActivity: value is: B_1</span><br></pre></td></tr></table></figure>

<h2 id="3ã€concatMap"><a href="#3ã€concatMap" class="headerlink" title="3ã€concatMap()"></a>3ã€concatMap()</h2><p><code>concatMap()</code> å’Œ <code>flatMap()</code> åŸºæœ¬ä¸€æ ·ï¼Œåªä¸è¿‡ <code>concatMap()</code> è½¬å‘å‡ºæ¥çš„äº‹ä»¶æ˜¯æœ‰åºçš„ï¼Œè€Œ <code>flatMap()</code> æ˜¯æ— åºçš„</p>
<p>è¿˜æ˜¯ç”¨ <code>flatMap()</code>çš„ä¾‹å­æ¥çœ‹</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">Observable.fromIterable(listArrayList).flatMap(<span class="keyword">new</span> <span class="title class_">Function</span>&lt;List&lt;String&gt;, ObservableSource&lt;String&gt;&gt;() &#123;</span><br><span class="line">            <span class="meta">@Override</span></span><br><span class="line">            <span class="keyword">public</span> ObservableSource&lt;String&gt; <span class="title function_">apply</span><span class="params">(List&lt;String&gt; stringList1)</span> <span class="keyword">throws</span> Exception &#123;</span><br><span class="line">                <span class="keyword">if</span> (stringList1.get(<span class="number">0</span>).startsWith(<span class="string">&quot;A&quot;</span>)) &#123;</span><br><span class="line">                    <span class="keyword">return</span> Observable.fromIterable(stringList1).delay(<span class="number">200</span>, TimeUnit.MILLISECONDS);</span><br><span class="line">                &#125;</span><br><span class="line">                <span class="keyword">return</span> Observable.fromIterable(stringList1);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;).subscribe(<span class="keyword">new</span> <span class="title class_">Consumer</span>&lt;String&gt;() &#123;</span><br><span class="line">            <span class="meta">@Override</span></span><br><span class="line">            <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">accept</span><span class="params">(String s)</span> <span class="keyword">throws</span> Exception &#123;</span><br><span class="line">                Log.e(TAG, <span class="string">&quot;value is: &quot;</span> + s);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;);</span><br></pre></td></tr></table></figure>

<p>è¿›è¡Œäº†ä¸€æ¬¡å»¶æ—¶æ“ä½œï¼Œå¯ä»¥çœ‹åˆ°ä¸¤æ¬¡äº‹ä»¶çš„å‘é€é¡ºåºé¢ å€’äº†</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="number">10</span>-<span class="number">06</span> <span class="number">11</span>:<span class="number">07</span>:<span class="number">30.753</span> <span class="number">18702</span>-<span class="number">18702</span>/leavesc.hello.rxjavademo E/MainActivity: value is: B_0</span><br><span class="line"><span class="number">10</span>-<span class="number">06</span> <span class="number">11</span>:<span class="number">07</span>:<span class="number">30.753</span> <span class="number">18702</span>-<span class="number">18702</span>/leavesc.hello.rxjavademo E/MainActivity: value is: B_1</span><br><span class="line"><span class="number">10</span>-<span class="number">06</span> <span class="number">11</span>:<span class="number">07</span>:<span class="number">30.953</span> <span class="number">18702</span>-<span class="number">18716</span>/leavesc.hello.rxjavademo E/MainActivity: value is: A_0</span><br><span class="line"><span class="number">10</span>-<span class="number">06</span> <span class="number">11</span>:<span class="number">07</span>:<span class="number">30.953</span> <span class="number">18702</span>-<span class="number">18716</span>/leavesc.hello.rxjavademo E/MainActivity: value is: A_1</span><br></pre></td></tr></table></figure>

<p>ä½¿ç”¨ <code>concatMap()</code> åˆ™é¡ºåºå°†ä¿æŒä¸€è‡´</p>
<h2 id="4ã€buffer"><a href="#4ã€buffer" class="headerlink" title="4ã€buffer()"></a>4ã€buffer()</h2><p>ä»éœ€è¦å‘é€çš„äº‹ä»¶å½“ä¸­è·å–æŒ‡å®šæ•°é‡çš„äº‹ä»¶ï¼Œå¹¶å°†è¿™äº›äº‹ä»¶æ”¾åˆ°ç¼“å†²åŒºå½“ä¸­ä¸€å¹¶å‘å‡ºã€‚<code>buffer</code> æœ‰ä¸¤ä¸ªå‚æ•°ï¼Œå‚æ•°ä¸€<code>count</code>ç”¨äºæŒ‡ç‚¹ç¼“å†²åŒºå¤§å°ï¼Œå‚æ•°äºŒ <code>skip</code>ç”¨æŒ‡å®šå½“ç¼“å†²åŒºæ»¡äº†æ—¶ï¼Œå‘é€ä¸‹ä¸€æ¬¡äº‹ä»¶åºåˆ—çš„æ—¶å€™è¦è·³è¿‡å¤šå°‘å…ƒç´ </p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line">Observable.just(<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>, <span class="number">6</span>)</span><br><span class="line">             .buffer(<span class="number">2</span>, <span class="number">2</span>)</span><br><span class="line">             .subscribe(<span class="keyword">new</span> <span class="title class_">Observer</span>&lt;List&lt;Integer&gt;&gt;() &#123;</span><br><span class="line">                 <span class="meta">@Override</span></span><br><span class="line">                 <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">onSubscribe</span><span class="params">(Disposable d)</span> &#123;</span><br><span class="line">                     Log.e(TAG, <span class="string">&quot;onSubscribe&quot;</span>);</span><br><span class="line">                 &#125;</span><br><span class="line"></span><br><span class="line">                 <span class="meta">@Override</span></span><br><span class="line">                 <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">onNext</span><span class="params">(List&lt;Integer&gt; integers)</span> &#123;</span><br><span class="line">                     Log.e(TAG, <span class="string">&quot;ç¼“å†²åŒºå¤§å°ï¼š &quot;</span> + integers.size());</span><br><span class="line">                     <span class="keyword">for</span> (Integer i : integers) &#123;</span><br><span class="line">                         Log.e(TAG, <span class="string">&quot;å…ƒç´ ï¼š &quot;</span> + i);</span><br><span class="line">                     &#125;</span><br><span class="line">                 &#125;</span><br><span class="line"></span><br><span class="line">                 <span class="meta">@Override</span></span><br><span class="line">                 <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">onError</span><span class="params">(Throwable e)</span> &#123;</span><br><span class="line">                     Log.e(TAG, <span class="string">&quot;onError: &quot;</span> + e.getMessage());</span><br><span class="line">                 &#125;</span><br><span class="line"></span><br><span class="line">                 <span class="meta">@Override</span></span><br><span class="line">                 <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">onComplete</span><span class="params">()</span> &#123;</span><br><span class="line">                     Log.e(TAG, <span class="string">&quot;onComplete&quot;</span>);</span><br><span class="line">                 &#125;</span><br><span class="line">             &#125;);</span><br></pre></td></tr></table></figure>

<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">onSubscribe</span><br><span class="line">ç¼“å†²åŒºå¤§å°ï¼š <span class="number">2</span></span><br><span class="line">å…ƒç´ ï¼š <span class="number">1</span></span><br><span class="line">å…ƒç´ ï¼š <span class="number">2</span></span><br><span class="line">ç¼“å†²åŒºå¤§å°ï¼š <span class="number">2</span></span><br><span class="line">å…ƒç´ ï¼š <span class="number">3</span></span><br><span class="line">å…ƒç´ ï¼š <span class="number">4</span></span><br><span class="line">ç¼“å†²åŒºå¤§å°ï¼š <span class="number">2</span></span><br><span class="line">å…ƒç´ ï¼š <span class="number">5</span></span><br><span class="line">å…ƒç´ ï¼š <span class="number">6</span></span><br><span class="line">onComplete</span><br></pre></td></tr></table></figure>

<h2 id="5ã€groupBy"><a href="#5ã€groupBy" class="headerlink" title="5ã€groupBy()"></a>5ã€groupBy()</h2><p>ç”¨äºå°†æ•°æ®è¿›è¡Œåˆ†ç»„ï¼Œæ¯ä¸ªåˆ†ç»„éƒ½ä¼šè¿”å›ä¸€ä¸ªè¢«è§‚å¯Ÿè€…ã€‚<code>groupBy()</code> æ–¹æ³•çš„è¿”å›å€¼ç”¨äºæŒ‡å®šåˆ†ç»„åï¼Œæ¯è¿”å›ä¸€ä¸ªæ–°å€¼å°±ä»£è¡¨ä¼šåˆ›å»ºä¸€ä¸ªåˆ†ç»„</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br></pre></td><td class="code"><pre><span class="line">Observable.just(<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>, <span class="number">6</span>, <span class="number">7</span>)</span><br><span class="line">            .groupBy(<span class="keyword">new</span> <span class="title class_">Function</span>&lt;Integer, String&gt;() &#123;</span><br><span class="line">                <span class="meta">@Override</span></span><br><span class="line">                <span class="keyword">public</span> String <span class="title function_">apply</span><span class="params">(Integer integer)</span> &#123;</span><br><span class="line">                    <span class="keyword">if</span> (integer &lt; <span class="number">4</span>) &#123;</span><br><span class="line">                        <span class="keyword">return</span> <span class="string">&quot;hello&quot;</span>;</span><br><span class="line">                    &#125;</span><br><span class="line">                    <span class="keyword">return</span> <span class="string">&quot;hi&quot;</span>;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;)</span><br><span class="line">            .subscribe(<span class="keyword">new</span> <span class="title class_">Observer</span>&lt;GroupedObservable&lt;String, Integer&gt;&gt;() &#123;</span><br><span class="line">                <span class="meta">@Override</span></span><br><span class="line">                <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">onSubscribe</span><span class="params">(Disposable d)</span> &#123;</span><br><span class="line">                    Log.e(TAG, <span class="string">&quot;onSubscribe&quot;</span>);</span><br><span class="line">                &#125;</span><br><span class="line"></span><br><span class="line">                <span class="meta">@Override</span></span><br><span class="line">                <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">onNext</span><span class="params">(<span class="keyword">final</span> GroupedObservable&lt;String, Integer&gt; observable)</span> &#123;</span><br><span class="line">                    observable.subscribe(<span class="keyword">new</span> <span class="title class_">Observer</span>&lt;Integer&gt;() &#123;</span><br><span class="line">                        <span class="meta">@Override</span></span><br><span class="line">                        <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">onSubscribe</span><span class="params">(Disposable d)</span> &#123;</span><br><span class="line">                            Log.e(TAG, <span class="string">&quot;GroupedObservable onSubscribe&quot;</span>);</span><br><span class="line">                        &#125;</span><br><span class="line"></span><br><span class="line">                        <span class="meta">@Override</span></span><br><span class="line">                        <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">onNext</span><span class="params">(Integer integer)</span> &#123;</span><br><span class="line">                            Log.e(TAG, <span class="string">&quot;GroupedObservable onNext key :&quot;</span> + observable.getKey());</span><br><span class="line">                            Log.e(TAG, <span class="string">&quot;GroupedObservable onNext value :&quot;</span> + integer);</span><br><span class="line">                        &#125;</span><br><span class="line"></span><br><span class="line">                        <span class="meta">@Override</span></span><br><span class="line">                        <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">onError</span><span class="params">(Throwable e)</span> &#123;</span><br><span class="line">                            Log.e(TAG, <span class="string">&quot;GroupedObservable onError&quot;</span>);</span><br><span class="line">                        &#125;</span><br><span class="line"></span><br><span class="line">                        <span class="meta">@Override</span></span><br><span class="line">                        <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">onComplete</span><span class="params">()</span> &#123;</span><br><span class="line">                            Log.e(TAG, <span class="string">&quot;GroupedObservable onComplete&quot;</span>);</span><br><span class="line">                        &#125;</span><br><span class="line">                    &#125;);</span><br><span class="line">                &#125;</span><br><span class="line"></span><br><span class="line">                <span class="meta">@Override</span></span><br><span class="line">                <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">onError</span><span class="params">(Throwable e)</span> &#123;</span><br><span class="line">                    Log.e(TAG, <span class="string">&quot;onError&quot;</span>);</span><br><span class="line">                &#125;</span><br><span class="line"></span><br><span class="line">                <span class="meta">@Override</span></span><br><span class="line">                <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">onComplete</span><span class="params">()</span> &#123;</span><br><span class="line">                    Log.e(TAG, <span class="string">&quot;onComplete&quot;</span>);</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;);</span><br></pre></td></tr></table></figure>

<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="number">10</span>-<span class="number">06</span> <span class="number">11</span>:<span class="number">16</span>:<span class="number">35.616</span> <span class="number">19015</span>-<span class="number">19015</span>/? E/MainActivity: onSubscribe</span><br><span class="line"><span class="number">10</span>-<span class="number">06</span> <span class="number">11</span>:<span class="number">16</span>:<span class="number">35.616</span> <span class="number">19015</span>-<span class="number">19015</span>/? E/MainActivity: GroupedObservable onSubscribe</span><br><span class="line"><span class="number">10</span>-<span class="number">06</span> <span class="number">11</span>:<span class="number">16</span>:<span class="number">35.616</span> <span class="number">19015</span>-<span class="number">19015</span>/? E/MainActivity: GroupedObservable onNext key :hello</span><br><span class="line"><span class="number">10</span>-<span class="number">06</span> <span class="number">11</span>:<span class="number">16</span>:<span class="number">35.616</span> <span class="number">19015</span>-<span class="number">19015</span>/? E/MainActivity: GroupedObservable onNext value :<span class="number">1</span></span><br><span class="line"><span class="number">10</span>-<span class="number">06</span> <span class="number">11</span>:<span class="number">16</span>:<span class="number">35.616</span> <span class="number">19015</span>-<span class="number">19015</span>/? E/MainActivity: GroupedObservable onNext key :hello</span><br><span class="line"><span class="number">10</span>-<span class="number">06</span> <span class="number">11</span>:<span class="number">16</span>:<span class="number">35.616</span> <span class="number">19015</span>-<span class="number">19015</span>/? E/MainActivity: GroupedObservable onNext value :<span class="number">2</span></span><br><span class="line"><span class="number">10</span>-<span class="number">06</span> <span class="number">11</span>:<span class="number">16</span>:<span class="number">35.616</span> <span class="number">19015</span>-<span class="number">19015</span>/? E/MainActivity: GroupedObservable onNext key :hello</span><br><span class="line"><span class="number">10</span>-<span class="number">06</span> <span class="number">11</span>:<span class="number">16</span>:<span class="number">35.616</span> <span class="number">19015</span>-<span class="number">19015</span>/? E/MainActivity: GroupedObservable onNext value :<span class="number">3</span></span><br><span class="line"><span class="number">10</span>-<span class="number">06</span> <span class="number">11</span>:<span class="number">16</span>:<span class="number">35.616</span> <span class="number">19015</span>-<span class="number">19015</span>/? E/MainActivity: GroupedObservable onSubscribe</span><br><span class="line"><span class="number">10</span>-<span class="number">06</span> <span class="number">11</span>:<span class="number">16</span>:<span class="number">35.616</span> <span class="number">19015</span>-<span class="number">19015</span>/? E/MainActivity: GroupedObservable onNext key :hi</span><br><span class="line"><span class="number">10</span>-<span class="number">06</span> <span class="number">11</span>:<span class="number">16</span>:<span class="number">35.616</span> <span class="number">19015</span>-<span class="number">19015</span>/? E/MainActivity: GroupedObservable onNext value :<span class="number">4</span></span><br><span class="line"><span class="number">10</span>-<span class="number">06</span> <span class="number">11</span>:<span class="number">16</span>:<span class="number">35.616</span> <span class="number">19015</span>-<span class="number">19015</span>/? E/MainActivity: GroupedObservable onNext key :hi</span><br><span class="line"><span class="number">10</span>-<span class="number">06</span> <span class="number">11</span>:<span class="number">16</span>:<span class="number">35.616</span> <span class="number">19015</span>-<span class="number">19015</span>/? E/MainActivity: GroupedObservable onNext value :<span class="number">5</span></span><br><span class="line"><span class="number">10</span>-<span class="number">06</span> <span class="number">11</span>:<span class="number">16</span>:<span class="number">35.616</span> <span class="number">19015</span>-<span class="number">19015</span>/? E/MainActivity: GroupedObservable onNext key :hi</span><br><span class="line"><span class="number">10</span>-<span class="number">06</span> <span class="number">11</span>:<span class="number">16</span>:<span class="number">35.616</span> <span class="number">19015</span>-<span class="number">19015</span>/? E/MainActivity: GroupedObservable onNext value :<span class="number">6</span></span><br><span class="line"><span class="number">10</span>-<span class="number">06</span> <span class="number">11</span>:<span class="number">16</span>:<span class="number">35.616</span> <span class="number">19015</span>-<span class="number">19015</span>/? E/MainActivity: GroupedObservable onNext key :hi</span><br><span class="line"><span class="number">10</span>-<span class="number">06</span> <span class="number">11</span>:<span class="number">16</span>:<span class="number">35.616</span> <span class="number">19015</span>-<span class="number">19015</span>/? E/MainActivity: GroupedObservable onNext value :<span class="number">7</span></span><br><span class="line"><span class="number">10</span>-<span class="number">06</span> <span class="number">11</span>:<span class="number">16</span>:<span class="number">35.616</span> <span class="number">19015</span>-<span class="number">19015</span>/? E/MainActivity: GroupedObservable onComplete</span><br><span class="line"><span class="number">10</span>-<span class="number">06</span> <span class="number">11</span>:<span class="number">16</span>:<span class="number">35.616</span> <span class="number">19015</span>-<span class="number">19015</span>/? E/MainActivity: GroupedObservable onComplete</span><br><span class="line"><span class="number">10</span>-<span class="number">06</span> <span class="number">11</span>:<span class="number">16</span>:<span class="number">35.616</span> <span class="number">19015</span>-<span class="number">19015</span>/? E/MainActivity: onComplete</span><br></pre></td></tr></table></figure>

<h2 id="6ã€scan"><a href="#6ã€scan" class="headerlink" title="6ã€scan()"></a>6ã€scan()</h2><p><code>scan()</code> æ“ä½œç¬¦å¯¹åŸå§‹ <code>Observable</code> å‘å°„çš„ç¬¬ä¸€æ¡æ•°æ®åº”ç”¨ä¸€ä¸ªå‡½æ•°ï¼Œç„¶åå°†é‚£ä¸ªå‡½æ•°çš„ç»“æœä½œä¸ºè‡ªå·±çš„ç¬¬ä¸€é¡¹æ•°æ®å‘å°„ã€‚å®ƒå°†å‡½æ•°çš„ç»“æœåŒç¬¬äºŒé¡¹æ•°æ®ä¸€èµ·å¡«å……ç»™è¿™ä¸ªå‡½æ•°æ¥äº§ç”Ÿå®ƒè‡ªå·±çš„ç¬¬äºŒé¡¹æ•°æ®ã€‚å®ƒæŒç»­è¿›è¡Œè¿™ä¸ªè¿‡ç¨‹æ¥äº§ç”Ÿå‰©ä½™çš„æ•°æ®åºåˆ—</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">Observable.just(<span class="number">1</span>, <span class="number">5</span>, <span class="number">8</span>, <span class="number">12</span>).scan(<span class="keyword">new</span> <span class="title class_">BiFunction</span>&lt;Integer, Integer, Integer&gt;() &#123;</span><br><span class="line">          <span class="meta">@Override</span></span><br><span class="line">          <span class="keyword">public</span> Integer <span class="title function_">apply</span><span class="params">(Integer integer, Integer integer2)</span> &#123;</span><br><span class="line">              Log.e(TAG, <span class="string">&quot;integer : &quot;</span> + integer);</span><br><span class="line">              Log.e(TAG, <span class="string">&quot;integer2 : &quot;</span> + integer2);</span><br><span class="line">              <span class="keyword">return</span> integer + integer2;</span><br><span class="line">          &#125;</span><br><span class="line">      &#125;).subscribe(<span class="keyword">new</span> <span class="title class_">Consumer</span>&lt;Integer&gt;() &#123;</span><br><span class="line">          <span class="meta">@Override</span></span><br><span class="line">          <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">accept</span><span class="params">(Integer integer)</span> &#123;</span><br><span class="line">              Log.e(TAG, <span class="string">&quot;accept : &quot;</span> + integer);</span><br><span class="line">          &#125;</span><br><span class="line">      &#125;);</span><br></pre></td></tr></table></figure>

<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="number">10</span>-<span class="number">06</span> <span class="number">11</span>:<span class="number">25</span>:<span class="number">19.389</span> <span class="number">19158</span>-<span class="number">19158</span>/leavesc.hello.rxjavademo E/MainActivity: accept : <span class="number">1</span></span><br><span class="line"><span class="number">10</span>-<span class="number">06</span> <span class="number">11</span>:<span class="number">25</span>:<span class="number">19.389</span> <span class="number">19158</span>-<span class="number">19158</span>/leavesc.hello.rxjavademo E/MainActivity: integer : <span class="number">1</span></span><br><span class="line"><span class="number">10</span>-<span class="number">06</span> <span class="number">11</span>:<span class="number">25</span>:<span class="number">19.389</span> <span class="number">19158</span>-<span class="number">19158</span>/leavesc.hello.rxjavademo E/MainActivity: integer2 : <span class="number">5</span></span><br><span class="line"><span class="number">10</span>-<span class="number">06</span> <span class="number">11</span>:<span class="number">25</span>:<span class="number">19.399</span> <span class="number">19158</span>-<span class="number">19158</span>/leavesc.hello.rxjavademo E/MainActivity: accept : <span class="number">6</span></span><br><span class="line"><span class="number">10</span>-<span class="number">06</span> <span class="number">11</span>:<span class="number">25</span>:<span class="number">19.399</span> <span class="number">19158</span>-<span class="number">19158</span>/leavesc.hello.rxjavademo E/MainActivity: integer : <span class="number">6</span></span><br><span class="line"><span class="number">10</span>-<span class="number">06</span> <span class="number">11</span>:<span class="number">25</span>:<span class="number">19.399</span> <span class="number">19158</span>-<span class="number">19158</span>/leavesc.hello.rxjavademo E/MainActivity: integer2 : <span class="number">8</span></span><br><span class="line"><span class="number">10</span>-<span class="number">06</span> <span class="number">11</span>:<span class="number">25</span>:<span class="number">19.399</span> <span class="number">19158</span>-<span class="number">19158</span>/leavesc.hello.rxjavademo E/MainActivity: accept : <span class="number">14</span></span><br><span class="line"><span class="number">10</span>-<span class="number">06</span> <span class="number">11</span>:<span class="number">25</span>:<span class="number">19.399</span> <span class="number">19158</span>-<span class="number">19158</span>/leavesc.hello.rxjavademo E/MainActivity: integer : <span class="number">14</span></span><br><span class="line"><span class="number">10</span>-<span class="number">06</span> <span class="number">11</span>:<span class="number">25</span>:<span class="number">19.409</span> <span class="number">19158</span>-<span class="number">19158</span>/leavesc.hello.rxjavademo E/MainActivity: integer2 : <span class="number">12</span></span><br><span class="line"><span class="number">10</span>-<span class="number">06</span> <span class="number">11</span>:<span class="number">25</span>:<span class="number">19.409</span> <span class="number">19158</span>-<span class="number">19158</span>/leavesc.hello.rxjavademo E/MainActivity: accept : <span class="number">26</span></span><br></pre></td></tr></table></figure>

<h1 id="å››ã€ç»„åˆæ“ä½œç¬¦"><a href="#å››ã€ç»„åˆæ“ä½œç¬¦" class="headerlink" title="å››ã€ç»„åˆæ“ä½œç¬¦"></a>å››ã€ç»„åˆæ“ä½œç¬¦</h1><h2 id="1ã€concat-concatArray"><a href="#1ã€concat-concatArray" class="headerlink" title="1ã€concat() &amp; concatArray()"></a>1ã€concat() &amp; concatArray()</h2><p>ç”¨äºå°†å¤šä¸ªè§‚å¯Ÿè€…ç»„åˆåœ¨ä¸€èµ·ï¼Œç„¶åæŒ‰ç…§å‚æ•°çš„ä¼ å…¥é¡ºåºå‘é€äº‹ä»¶ï¼Œ<code>concat()</code> æœ€å¤šåªå¯ä»¥å‘é€4ä¸ªäº‹ä»¶</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">Observable.concat(Observable.just(<span class="number">1</span>, <span class="number">2</span>),</span><br><span class="line">              Observable.just(<span class="number">3</span>, <span class="number">4</span>),</span><br><span class="line">              Observable.just(<span class="number">5</span>, <span class="number">6</span>),</span><br><span class="line">              Observable.just(<span class="number">7</span>, <span class="number">8</span>)).subscribe(<span class="keyword">new</span> <span class="title class_">Consumer</span>&lt;Integer&gt;() &#123;</span><br><span class="line">          <span class="meta">@Override</span></span><br><span class="line">          <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">accept</span><span class="params">(Integer integer)</span> <span class="keyword">throws</span> Exception &#123;</span><br><span class="line">              Log.e(TAG, <span class="string">&quot;accept: &quot;</span> + integer);</span><br><span class="line">          &#125;</span><br><span class="line">      &#125;);</span><br></pre></td></tr></table></figure>

<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">accept: <span class="number">1</span></span><br><span class="line">accept: <span class="number">2</span></span><br><span class="line">accept: <span class="number">3</span></span><br><span class="line">accept: <span class="number">4</span></span><br><span class="line">accept: <span class="number">5</span></span><br><span class="line">accept: <span class="number">6</span></span><br><span class="line">accept: <span class="number">7</span></span><br><span class="line">accept: <span class="number">8</span></span><br></pre></td></tr></table></figure>

<p><code>concatArray()</code> ä½œç”¨ä¸ <code>concat()</code> ä½œç”¨ä¸€æ ·ï¼Œä¸è¿‡å‰è€…å¯ä»¥å‘é€å¤šäº 4 ä¸ªçš„è¢«è§‚å¯Ÿè€…</p>
<h2 id="2ã€merge-mergeArray"><a href="#2ã€merge-mergeArray" class="headerlink" title="2ã€merge() &amp; mergeArray()"></a>2ã€merge() &amp; mergeArray()</h2><p>è¿™ä¸ªæ–¹æ³•ä¸ <code>concat()</code> ä½œç”¨åŸºæœ¬ä¸€æ ·ï¼Œåªæ˜¯ <code>concat()</code> æ˜¯ä¸²è¡Œå‘é€äº‹ä»¶ï¼Œè€Œ <code>merge()</code> å¹¶è¡Œå‘é€äº‹ä»¶</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">Observable.merge(Observable.interval(<span class="number">1</span>, TimeUnit.SECONDS).map(<span class="keyword">new</span> <span class="title class_">Function</span>&lt;Long, String&gt;() &#123;</span><br><span class="line">                   <span class="meta">@Override</span></span><br><span class="line">                   <span class="keyword">public</span> String <span class="title function_">apply</span><span class="params">(Long aLong)</span> &#123;</span><br><span class="line">                       <span class="keyword">return</span> <span class="string">&quot;Test_A_&quot;</span> + aLong;</span><br><span class="line">                   &#125;</span><br><span class="line">               &#125;),</span><br><span class="line">               Observable.interval(<span class="number">1</span>, TimeUnit.SECONDS).map(<span class="keyword">new</span> <span class="title class_">Function</span>&lt;Long, String&gt;() &#123;</span><br><span class="line">                   <span class="meta">@Override</span></span><br><span class="line">                   <span class="keyword">public</span> String <span class="title function_">apply</span><span class="params">(Long aLong)</span> &#123;</span><br><span class="line">                       <span class="keyword">return</span> <span class="string">&quot;Test_B_&quot;</span> + aLong;</span><br><span class="line">                   &#125;</span><br><span class="line">               &#125;)).subscribe(<span class="keyword">new</span> <span class="title class_">Consumer</span>&lt;String&gt;() &#123;</span><br><span class="line">           <span class="meta">@Override</span></span><br><span class="line">           <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">accept</span><span class="params">(String s)</span> &#123;</span><br><span class="line">               Log.e(TAG, <span class="string">&quot;accept: &quot;</span> + s);</span><br><span class="line">           &#125;</span><br><span class="line">       &#125;);</span><br></pre></td></tr></table></figure>

<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">Test_A_0</span><br><span class="line">Test_B_0</span><br><span class="line">Test_A_1</span><br><span class="line">Test_B_1</span><br><span class="line">Test_A_2</span><br><span class="line">Test_B_2</span><br><span class="line">Test_B_3</span><br><span class="line">Test_A_3</span><br><span class="line">Test_A_4</span><br><span class="line">Test_B_4</span><br><span class="line">Test_A_5</span><br><span class="line">Test_B_5</span><br></pre></td></tr></table></figure>

<p><code>mergeArray()</code> å¯ä»¥å‘é€ 4 ä¸ªä»¥ä¸Šçš„è¢«è§‚å¯Ÿè€…</p>
<h2 id="3ã€concatArrayDelayError-mergeArrayDelayError"><a href="#3ã€concatArrayDelayError-mergeArrayDelayError" class="headerlink" title="3ã€concatArrayDelayError()  &amp;  mergeArrayDelayError()"></a>3ã€concatArrayDelayError()  &amp;  mergeArrayDelayError()</h2><p>åœ¨ <code>concatArray()</code> å’Œ <code>mergeArray()</code> ä¸¤ä¸ªæ–¹æ³•å½“ä¸­ï¼Œå¦‚æœå…¶ä¸­æœ‰ä¸€ä¸ªè¢«è§‚å¯Ÿè€…å‘é€äº†ä¸€ä¸ª <code>Error</code> äº‹ä»¶ï¼Œé‚£ä¹ˆå°±ä¼šåœæ­¢å‘é€äº‹ä»¶ï¼Œå¦‚æœæƒ³ <code>onError()</code> äº‹ä»¶å»¶è¿Ÿåˆ°æ‰€æœ‰è¢«è§‚å¯Ÿè€…éƒ½å‘é€å®Œäº‹ä»¶åå†æ‰§è¡Œçš„è¯ï¼Œå¯ä»¥ä½¿ç”¨  <code>concatArrayDelayError()</code> å’Œ <code>mergeArrayDelayError()</code></p>
<p>é¦–å…ˆä½¿ç”¨ <code>concatArray()</code> æ¥éªŒè¯å…¶å‘é€ <code>onError()</code> äº‹ä»¶æ˜¯å¦ä¼šä¸­æ–­å…¶ä»–è¢«è§‚å¯Ÿè€…çš„å‘é€äº‹ä»¶</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line">Observable.concatArray(Observable.create(<span class="keyword">new</span> <span class="title class_">ObservableOnSubscribe</span>&lt;Integer&gt;() &#123;</span><br><span class="line">            <span class="meta">@Override</span></span><br><span class="line">            <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">subscribe</span><span class="params">(ObservableEmitter&lt;Integer&gt; emitter)</span> &#123;</span><br><span class="line">                emitter.onNext(<span class="number">1</span>);</span><br><span class="line">                emitter.onNext(<span class="number">2</span>);</span><br><span class="line">                emitter.onError(<span class="keyword">new</span> <span class="title class_">Exception</span>(<span class="string">&quot;Normal Exception&quot;</span>));</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;), Observable.just(<span class="number">30</span>, <span class="number">40</span>, <span class="number">50</span>)).subscribe(<span class="keyword">new</span> <span class="title class_">Observer</span>&lt;Integer&gt;() &#123;</span><br><span class="line">            <span class="meta">@Override</span></span><br><span class="line">            <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">onSubscribe</span><span class="params">(Disposable d)</span> &#123;</span><br><span class="line"></span><br><span class="line">            &#125;</span><br><span class="line"></span><br><span class="line">            <span class="meta">@Override</span></span><br><span class="line">            <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">onNext</span><span class="params">(Integer integer)</span> &#123;</span><br><span class="line">                Log.e(TAG, <span class="string">&quot;onNext: &quot;</span> + integer);</span><br><span class="line">            &#125;</span><br><span class="line"></span><br><span class="line">            <span class="meta">@Override</span></span><br><span class="line">            <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">onError</span><span class="params">(Throwable e)</span> &#123;</span><br><span class="line">                Log.e(TAG, <span class="string">&quot;onError: &quot;</span> + e.getMessage());</span><br><span class="line">            &#125;</span><br><span class="line"></span><br><span class="line">            <span class="meta">@Override</span></span><br><span class="line">            <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">onComplete</span><span class="params">()</span> &#123;</span><br><span class="line"></span><br><span class="line">            &#125;</span><br><span class="line">        &#125;);</span><br></pre></td></tr></table></figure>

<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">onNext: <span class="number">1</span></span><br><span class="line">onNext: <span class="number">2</span></span><br><span class="line">onError: Normal Exception</span><br></pre></td></tr></table></figure>

<p>ä»ç»“æœå¯ä»¥çŸ¥é“ï¼Œç¡®å®ä¸­æ–­äº†ï¼Œç°åœ¨æ¢ç”¨ <code>concatArrayDelayError()</code></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="number">10</span>-<span class="number">06</span> <span class="number">04</span>:<span class="number">00</span>:<span class="number">04.935</span> <span class="number">6514</span>-<span class="number">6514</span>/? E/MainActivity: onNext: <span class="number">1</span></span><br><span class="line"><span class="number">10</span>-<span class="number">06</span> <span class="number">04</span>:<span class="number">00</span>:<span class="number">04.935</span> <span class="number">6514</span>-<span class="number">6514</span>/? E/MainActivity: onNext: <span class="number">2</span></span><br><span class="line"><span class="number">10</span>-<span class="number">06</span> <span class="number">04</span>:<span class="number">00</span>:<span class="number">04.935</span> <span class="number">6514</span>-<span class="number">6514</span>/? E/MainActivity: onNext: <span class="number">30</span></span><br><span class="line"><span class="number">10</span>-<span class="number">06</span> <span class="number">04</span>:<span class="number">00</span>:<span class="number">04.935</span> <span class="number">6514</span>-<span class="number">6514</span>/? E/MainActivity: onNext: <span class="number">40</span></span><br><span class="line"><span class="number">10</span>-<span class="number">06</span> <span class="number">04</span>:<span class="number">00</span>:<span class="number">04.935</span> <span class="number">6514</span>-<span class="number">6514</span>/? E/MainActivity: onNext: <span class="number">50</span></span><br><span class="line"><span class="number">10</span>-<span class="number">06</span> <span class="number">04</span>:<span class="number">00</span>:<span class="number">04.935</span> <span class="number">6514</span>-<span class="number">6514</span>/? E/MainActivity: onError: Normal Exception</span><br></pre></td></tr></table></figure>

<p>ä»ç»“æœå¯ä»¥çœ‹åˆ°ï¼Œ<code>onError</code> äº‹ä»¶æ˜¯åœ¨æ‰€æœ‰è¢«è§‚å¯Ÿè€…å‘é€å®Œäº‹ä»¶æ‰å‘é€çš„</p>
<h2 id="4ã€zip"><a href="#4ã€zip" class="headerlink" title="4ã€zip()"></a>4ã€zip()</h2><p><code>zip()</code> æ“ä½œç¬¦è¿”å›ä¸€ä¸ª <code>Obversable</code>ï¼Œå®ƒä½¿ç”¨è¿™ä¸ªå‡½æ•°æŒ‰é¡ºåºç»“åˆä¸¤ä¸ªæˆ–å¤šä¸ª Observables å‘å°„çš„æ•°æ®é¡¹ï¼Œç„¶åå®ƒå‘å°„è¿™ä¸ªå‡½æ•°è¿”å›çš„ç»“æœã€‚å®ƒæŒ‰ç…§ä¸¥æ ¼çš„é¡ºåºåº”ç”¨è¿™ä¸ªå‡½æ•°ã€‚å®ƒåªå‘å°„ä¸å‘å°„æ•°æ®é¡¹æœ€å°‘çš„é‚£ä¸ª Observable ä¸€æ ·å¤šçš„æ•°æ®</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">Observable.zip(Observable.just(<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>), Observable.just(<span class="number">5</span>, <span class="number">6</span>, <span class="number">7</span>, <span class="number">8</span>, <span class="number">9</span>),</span><br><span class="line">              <span class="keyword">new</span> <span class="title class_">BiFunction</span>&lt;Integer, Integer, String&gt;() &#123;</span><br><span class="line">                  <span class="meta">@Override</span></span><br><span class="line">                  <span class="keyword">public</span> String <span class="title function_">apply</span><span class="params">(Integer integer, Integer integer2)</span> <span class="keyword">throws</span> Exception &#123;</span><br><span class="line">                      <span class="keyword">return</span> String.valueOf(integer) + <span class="string">&quot;_&quot;</span> + String.valueOf(integer2);</span><br><span class="line">                  &#125;</span><br><span class="line">              &#125;)</span><br><span class="line">              .subscribe(<span class="keyword">new</span> <span class="title class_">Consumer</span>&lt;String&gt;() &#123;</span><br><span class="line">                  <span class="meta">@Override</span></span><br><span class="line">                  <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">accept</span><span class="params">(String s)</span> <span class="keyword">throws</span> Exception &#123;</span><br><span class="line">                      Log.e(TAG, <span class="string">&quot;accept: &quot;</span> + s);</span><br><span class="line">                  &#125;</span><br><span class="line">              &#125;);</span><br></pre></td></tr></table></figure>

<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">accept: <span class="number">1_5</span></span><br><span class="line">accept: <span class="number">2_6</span></span><br><span class="line">accept: <span class="number">3_7</span></span><br><span class="line">accept: <span class="number">4_8</span></span><br></pre></td></tr></table></figure>

<h2 id="5ã€combineLatest-combineLatestDelayError"><a href="#5ã€combineLatest-combineLatestDelayError" class="headerlink" title="5ã€combineLatest() &amp; combineLatestDelayError()"></a>5ã€combineLatest() &amp; combineLatestDelayError()</h2><p><code>combineLatest()</code> çš„ä½œç”¨ä¸ <code>zip()</code> ç±»ä¼¼ï¼Œ<code>combineLatest()</code> å‘é€äº‹ä»¶çš„åºåˆ—æ˜¯ä¸å‘é€çš„æ—¶é—´çº¿æœ‰å…³çš„ï¼Œå½“ä¸¤ä¸ª <code>Observables</code> ä¸­çš„ä»»ä½•ä¸€ä¸ªå‘å°„äº†ä¸€ä¸ªæ•°æ®æ—¶ï¼Œé€šè¿‡ä¸€ä¸ªæŒ‡å®šçš„å‡½æ•°ç»„åˆæ¯ä¸ª <code>Observable</code> å‘å°„çš„æœ€æ–°æ•°æ®ï¼Œç„¶åå‘å°„è¿™ä¸ªå‡½æ•°çš„ç»“æœ</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line">Observable.zip(</span><br><span class="line">               Observable.intervalRange(<span class="number">1</span>, <span class="number">4</span>, <span class="number">1</span>, <span class="number">1</span>, TimeUnit.SECONDS)</span><br><span class="line">                        .map(<span class="keyword">new</span> <span class="title class_">Function</span>&lt;Long, String&gt;() &#123;</span><br><span class="line">                            <span class="meta">@Override</span></span><br><span class="line">                            <span class="keyword">public</span> String <span class="title function_">apply</span><span class="params">(Long aLong)</span> &#123;</span><br><span class="line">                                <span class="type">String</span> <span class="variable">s1</span> <span class="operator">=</span> <span class="string">&quot;A&quot;</span> + aLong;</span><br><span class="line">                                Log.e(TAG, <span class="string">&quot;A å‘é€çš„äº‹ä»¶ &quot;</span> + s1);</span><br><span class="line">                                <span class="keyword">return</span> s1;</span><br><span class="line">                            &#125;</span><br><span class="line">                        &#125;), Observable.intervalRange(<span class="number">1</span>, <span class="number">4</span>, <span class="number">2</span>, <span class="number">1</span>, TimeUnit.SECONDS)</span><br><span class="line">                        .map(<span class="keyword">new</span> <span class="title class_">Function</span>&lt;Long, String&gt;() &#123;</span><br><span class="line">                            <span class="meta">@Override</span></span><br><span class="line">                            <span class="keyword">public</span> String <span class="title function_">apply</span><span class="params">(Long aLong)</span> &#123;</span><br><span class="line">                                <span class="type">String</span> <span class="variable">s1</span> <span class="operator">=</span> <span class="string">&quot;B&quot;</span> + aLong;</span><br><span class="line">                                Log.e(TAG, <span class="string">&quot;B å‘é€çš„äº‹ä»¶ &quot;</span> + s1);</span><br><span class="line">                                <span class="keyword">return</span> s1;</span><br><span class="line">                            &#125;</span><br><span class="line">                        &#125;),</span><br><span class="line">                <span class="keyword">new</span> <span class="title class_">BiFunction</span>&lt;String, String, String&gt;() &#123;</span><br><span class="line">                    <span class="meta">@Override</span></span><br><span class="line">                    <span class="keyword">public</span> String <span class="title function_">apply</span><span class="params">(String value1, String value2)</span> <span class="keyword">throws</span> Exception &#123;</span><br><span class="line">                        <span class="keyword">return</span> value1 + <span class="string">&quot;_&quot;</span> + value2;</span><br><span class="line">                    &#125;</span><br><span class="line">                &#125;)</span><br><span class="line">                .subscribe(<span class="keyword">new</span> <span class="title class_">Consumer</span>&lt;String&gt;() &#123;</span><br><span class="line">                    <span class="meta">@Override</span></span><br><span class="line">                    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">accept</span><span class="params">(String s)</span> <span class="keyword">throws</span> Exception &#123;</span><br><span class="line">                        Log.e(TAG, <span class="string">&quot;accept: &quot;</span> + s);</span><br><span class="line">                    &#125;</span><br><span class="line">                &#125;);</span><br></pre></td></tr></table></figure>

<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="number">10</span>-<span class="number">06</span> <span class="number">05</span>:<span class="number">17</span>:<span class="number">06.337</span> <span class="number">7227</span>-<span class="number">7241</span>/leavesc.hello.rxjavademo E/MainActivity: A å‘é€çš„äº‹ä»¶ A1</span><br><span class="line"><span class="number">10</span>-<span class="number">06</span> <span class="number">05</span>:<span class="number">17</span>:<span class="number">07.337</span> <span class="number">7227</span>-<span class="number">7241</span>/leavesc.hello.rxjavademo E/MainActivity: A å‘é€çš„äº‹ä»¶ A2</span><br><span class="line"><span class="number">10</span>-<span class="number">06</span> <span class="number">05</span>:<span class="number">17</span>:<span class="number">07.337</span> <span class="number">7227</span>-<span class="number">7242</span>/leavesc.hello.rxjavademo E/MainActivity: B å‘é€çš„äº‹ä»¶ B1</span><br><span class="line"><span class="number">10</span>-<span class="number">06</span> <span class="number">05</span>:<span class="number">17</span>:<span class="number">07.337</span> <span class="number">7227</span>-<span class="number">7242</span>/leavesc.hello.rxjavademo E/MainActivity: accept: A1_B1</span><br><span class="line"><span class="number">10</span>-<span class="number">06</span> <span class="number">05</span>:<span class="number">17</span>:<span class="number">08.337</span> <span class="number">7227</span>-<span class="number">7241</span>/leavesc.hello.rxjavademo E/MainActivity: A å‘é€çš„äº‹ä»¶ A3</span><br><span class="line"><span class="number">10</span>-<span class="number">06</span> <span class="number">05</span>:<span class="number">17</span>:<span class="number">08.337</span> <span class="number">7227</span>-<span class="number">7242</span>/leavesc.hello.rxjavademo E/MainActivity: B å‘é€çš„äº‹ä»¶ B2</span><br><span class="line"><span class="number">10</span>-<span class="number">06</span> <span class="number">05</span>:<span class="number">17</span>:<span class="number">08.337</span> <span class="number">7227</span>-<span class="number">7242</span>/leavesc.hello.rxjavademo E/MainActivity: accept: A2_B2</span><br><span class="line"><span class="number">10</span>-<span class="number">06</span> <span class="number">05</span>:<span class="number">17</span>:<span class="number">09.337</span> <span class="number">7227</span>-<span class="number">7242</span>/leavesc.hello.rxjavademo E/MainActivity: B å‘é€çš„äº‹ä»¶ B3</span><br><span class="line"><span class="number">10</span>-<span class="number">06</span> <span class="number">05</span>:<span class="number">17</span>:<span class="number">09.337</span> <span class="number">7227</span>-<span class="number">7242</span>/leavesc.hello.rxjavademo E/MainActivity: accept: A3_B3</span><br><span class="line"><span class="number">10</span>-<span class="number">06</span> <span class="number">05</span>:<span class="number">17</span>:<span class="number">09.337</span> <span class="number">7227</span>-<span class="number">7241</span>/leavesc.hello.rxjavademo E/MainActivity: A å‘é€çš„äº‹ä»¶ A4</span><br><span class="line"><span class="number">10</span>-<span class="number">06</span> <span class="number">05</span>:<span class="number">17</span>:<span class="number">10.337</span> <span class="number">7227</span>-<span class="number">7242</span>/leavesc.hello.rxjavademo E/MainActivity: B å‘é€çš„äº‹ä»¶ B4</span><br><span class="line"><span class="number">10</span>-<span class="number">06</span> <span class="number">05</span>:<span class="number">17</span>:<span class="number">10.337</span> <span class="number">7227</span>-<span class="number">7242</span>/leavesc.hello.rxjavademo E/MainActivity: accept: A4_B4</span><br></pre></td></tr></table></figure>

<p>å½“å‘é€ A1 å’Œ A2 äº‹ä»¶æ—¶ï¼ŒB å¹¶æ²¡æœ‰å‘é€ä»»ä½•äº‹ä»¶ï¼Œæ‰€ä»¥ä¸ä¼šè§¦å‘åˆ° <code>accept</code> æ–¹æ³•ã€‚å½“å‘é€äº† B1 äº‹ä»¶ä¹‹åï¼Œå°±ä¼šä¸ A æœ€æ–°å‘é€çš„äº‹ä»¶ A2 ç»“åˆæˆ A1_B2ï¼Œä¹‹åçš„å‘å°„è§„åˆ™ä¹Ÿä»¥æ­¤ç±»æ¨</p>
<p> <code>combineLatestDelayError()</code> å¤šäº†å»¶è¿Ÿå‘é€ <code>onError()</code> çš„åŠŸèƒ½</p>
<h2 id="6ã€reduce"><a href="#6ã€reduce" class="headerlink" title="6ã€reduce()"></a>6ã€reduce()</h2><p>ä¸ <code>scan()</code> æ“ä½œç¬¦çš„ä½œç”¨ç±»ä¼¼ï¼Œä¹Ÿæ˜¯å°†å‘é€æ•°æ®ä»¥ä¸€å®šé€»è¾‘èšåˆèµ·æ¥ï¼ŒåŒºåˆ«åœ¨äº <code>scan()</code> æ¯å¤„ç†ä¸€æ¬¡æ•°æ®å°±ä¼šå°†äº‹ä»¶å‘é€ç»™è§‚å¯Ÿè€…ï¼Œè€Œ <code>reduce()</code> ä¼šå°†æ‰€æœ‰æ•°æ®èšåˆåœ¨ä¸€èµ·æ‰ä¼šå‘é€äº‹ä»¶ç»™è§‚å¯Ÿè€…</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">Observable.just(<span class="number">1</span>, <span class="number">3</span>, <span class="number">5</span>, <span class="number">7</span>).reduce(<span class="keyword">new</span> <span class="title class_">BiFunction</span>&lt;Integer, Integer, Integer&gt;() &#123;</span><br><span class="line">            <span class="meta">@Override</span></span><br><span class="line">            <span class="keyword">public</span> Integer <span class="title function_">apply</span><span class="params">(Integer integer, Integer integer2)</span> <span class="keyword">throws</span> Exception &#123;</span><br><span class="line">                Log.e(TAG, <span class="string">&quot;integer1 : &quot;</span> + integer);</span><br><span class="line">                Log.e(TAG, <span class="string">&quot;integer2 : &quot;</span> + integer2);</span><br><span class="line">                <span class="keyword">return</span> integer + integer2;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;).subscribe(<span class="keyword">new</span> <span class="title class_">Consumer</span>&lt;Integer&gt;() &#123;</span><br><span class="line">            <span class="meta">@Override</span></span><br><span class="line">            <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">accept</span><span class="params">(Integer integer)</span> <span class="keyword">throws</span> Exception &#123;</span><br><span class="line">                Log.e(TAG, <span class="string">&quot;accept : &quot;</span> + integer);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;);</span><br></pre></td></tr></table></figure>

<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">integer1 : <span class="number">1</span></span><br><span class="line">integer2 : <span class="number">3</span></span><br><span class="line">integer1 : <span class="number">4</span></span><br><span class="line">integer2 : <span class="number">5</span></span><br><span class="line">integer1 : <span class="number">9</span></span><br><span class="line">integer2 : <span class="number">7</span></span><br><span class="line">accept : <span class="number">16</span></span><br></pre></td></tr></table></figure>

<h2 id="7ã€collect"><a href="#7ã€collect" class="headerlink" title="7ã€collect()"></a>7ã€collect()</h2><p><code>collect()</code> ä¸ <code>reduce()</code> ç±»ä¼¼ï¼Œä½†å®ƒçš„ç›®çš„æ˜¯æ”¶é›†åŸå§‹ Observable å‘å°„çš„æ‰€æœ‰æ•°æ®åˆ°ä¸€ä¸ªå¯å˜çš„æ•°æ®ç»“æ„</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line">Observable.just(<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>)</span><br><span class="line">                .collect(<span class="keyword">new</span> <span class="title class_">Callable</span>&lt;ArrayList&lt;Integer&gt;&gt;() &#123;</span><br><span class="line">                    <span class="meta">@Override</span></span><br><span class="line">                    <span class="keyword">public</span> ArrayList&lt;Integer&gt; <span class="title function_">call</span><span class="params">()</span> <span class="keyword">throws</span> Exception &#123;</span><br><span class="line">                        <span class="keyword">return</span> <span class="keyword">new</span> <span class="title class_">ArrayList</span>&lt;&gt;();</span><br><span class="line">                    &#125;</span><br><span class="line">                &#125;, <span class="keyword">new</span> <span class="title class_">BiConsumer</span>&lt;ArrayList&lt;Integer&gt;, Integer&gt;() &#123;</span><br><span class="line">                    <span class="meta">@Override</span></span><br><span class="line">                    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">accept</span><span class="params">(ArrayList&lt;Integer&gt; integers, Integer integer)</span> <span class="keyword">throws</span> Exception &#123;</span><br><span class="line">                        integers.add(integer);</span><br><span class="line">                    &#125;</span><br><span class="line">                &#125;)</span><br><span class="line">                .subscribe(<span class="keyword">new</span> <span class="title class_">Consumer</span>&lt;ArrayList&lt;Integer&gt;&gt;() &#123;</span><br><span class="line">                    <span class="meta">@Override</span></span><br><span class="line">                    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">accept</span><span class="params">(ArrayList&lt;Integer&gt; integers)</span> <span class="keyword">throws</span> Exception &#123;</span><br><span class="line">                        Log.e(TAG, <span class="string">&quot;accept : &quot;</span> + integers);</span><br><span class="line">                    &#125;</span><br><span class="line">                &#125;);</span><br></pre></td></tr></table></figure>

<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">accept : [<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>]</span><br></pre></td></tr></table></figure>

<h2 id="8ã€startWith-startWithArray"><a href="#8ã€startWith-startWithArray" class="headerlink" title="8ã€startWith()  &amp;  startWithArray()"></a>8ã€startWith()  &amp;  startWithArray()</h2><p>åœ¨å‘é€äº‹ä»¶ä¹‹å‰è¿½åŠ äº‹ä»¶ï¼Œ<code>startWith()</code> è¿½åŠ ä¸€ä¸ªäº‹ä»¶ï¼Œ<code>startWithArray()</code> å¯ä»¥è¿½åŠ å¤šä¸ªäº‹ä»¶ï¼Œè¿½åŠ çš„äº‹ä»¶ä¼šå…ˆå‘å‡º</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">Observable.just(<span class="number">4</span>, <span class="number">5</span>)</span><br><span class="line">        .startWithArray(<span class="number">2</span>, <span class="number">3</span>)</span><br><span class="line">        .startWith(<span class="number">1</span>)</span><br><span class="line">        .subscribe(<span class="keyword">new</span> <span class="title class_">Consumer</span>&lt;Integer&gt;() &#123;</span><br><span class="line">            <span class="meta">@Override</span></span><br><span class="line">            <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">accept</span><span class="params">(Integer integer)</span> <span class="keyword">throws</span> Exception &#123;</span><br><span class="line">                Log.e(TAG, <span class="string">&quot;accept : &quot;</span> + integer);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;);</span><br></pre></td></tr></table></figure>

<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="number">10</span>-<span class="number">06</span> <span class="number">05</span>:<span class="number">38</span>:<span class="number">21.081</span> <span class="number">8033</span>-<span class="number">8033</span>/leavesc.hello.rxjavademo E/MainActivity: accept : <span class="number">1</span></span><br><span class="line"><span class="number">10</span>-<span class="number">06</span> <span class="number">05</span>:<span class="number">38</span>:<span class="number">21.081</span> <span class="number">8033</span>-<span class="number">8033</span>/leavesc.hello.rxjavademo E/MainActivity: accept : <span class="number">2</span></span><br><span class="line"><span class="number">10</span>-<span class="number">06</span> <span class="number">05</span>:<span class="number">38</span>:<span class="number">21.081</span> <span class="number">8033</span>-<span class="number">8033</span>/leavesc.hello.rxjavademo E/MainActivity: accept : <span class="number">3</span></span><br><span class="line"><span class="number">10</span>-<span class="number">06</span> <span class="number">05</span>:<span class="number">38</span>:<span class="number">21.081</span> <span class="number">8033</span>-<span class="number">8033</span>/leavesc.hello.rxjavademo E/MainActivity: accept : <span class="number">4</span></span><br><span class="line"><span class="number">10</span>-<span class="number">06</span> <span class="number">05</span>:<span class="number">38</span>:<span class="number">21.081</span> <span class="number">8033</span>-<span class="number">8033</span>/leavesc.hello.rxjavademo E/MainActivity: accept : <span class="number">5</span></span><br></pre></td></tr></table></figure>

<h2 id="9ã€count"><a href="#9ã€count" class="headerlink" title="9ã€count()"></a>9ã€count()</h2><p>è¿”å›è¢«è§‚å¯Ÿè€…å‘é€äº‹ä»¶çš„æ•°é‡</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">Observable.just(<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>)</span><br><span class="line">        .count()</span><br><span class="line">        .subscribe(<span class="keyword">new</span> <span class="title class_">Consumer</span>&lt;Long&gt;() &#123;</span><br><span class="line">            <span class="meta">@Override</span></span><br><span class="line">            <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">accept</span><span class="params">(Long aLong)</span> <span class="keyword">throws</span> Exception &#123;</span><br><span class="line">                Log.e(TAG, <span class="string">&quot;aLong : &quot;</span> + aLong);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;);</span><br></pre></td></tr></table></figure>

<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">aLong : 3</span><br></pre></td></tr></table></figure>

<h1 id="äº”ã€åŠŸèƒ½æ“ä½œç¬¦"><a href="#äº”ã€åŠŸèƒ½æ“ä½œç¬¦" class="headerlink" title="äº”ã€åŠŸèƒ½æ“ä½œç¬¦"></a>äº”ã€åŠŸèƒ½æ“ä½œç¬¦</h1><h2 id="1ã€delay"><a href="#1ã€delay" class="headerlink" title="1ã€delay()"></a>1ã€delay()</h2><p>å»¶è¿Ÿä¸€æ®µäº‹ä»¶å†å‘é€äº‹ä»¶</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">Observable.just(<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>)</span><br><span class="line">        .delay(<span class="number">3</span>, TimeUnit.SECONDS)</span><br><span class="line">        .subscribe(<span class="keyword">new</span> <span class="title class_">Consumer</span>&lt;Integer&gt;() &#123;</span><br><span class="line">            <span class="meta">@Override</span></span><br><span class="line">            <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">accept</span><span class="params">(Integer value)</span> <span class="keyword">throws</span> Exception &#123;</span><br><span class="line">                Log.e(TAG, <span class="string">&quot;value : &quot;</span> + value);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;);</span><br></pre></td></tr></table></figure>

<h2 id="2ã€doOnEach"><a href="#2ã€doOnEach" class="headerlink" title="2ã€doOnEach()"></a>2ã€doOnEach()</h2><p><code>Observable</code> å‘é€ä¸€æ¬¡äº‹ä»¶ä¹‹å‰éƒ½ä¼šå›è°ƒè¿™ä¸ªæ–¹æ³•</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">Observable.just(<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>)</span><br><span class="line">                .doOnEach(<span class="keyword">new</span> <span class="title class_">Consumer</span>&lt;Notification&lt;Integer&gt;&gt;() &#123;</span><br><span class="line">                    <span class="meta">@Override</span></span><br><span class="line">                    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">accept</span><span class="params">(Notification&lt;Integer&gt; integerNotification)</span> <span class="keyword">throws</span> Exception &#123;</span><br><span class="line">                        Log.e(TAG, <span class="string">&quot;integerNotification value : &quot;</span> + integerNotification.getValue());</span><br><span class="line">                    &#125;</span><br><span class="line">                &#125;)</span><br><span class="line">                .subscribe(<span class="keyword">new</span> <span class="title class_">Consumer</span>&lt;Integer&gt;() &#123;</span><br><span class="line">                    <span class="meta">@Override</span></span><br><span class="line">                    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">accept</span><span class="params">(Integer value)</span> <span class="keyword">throws</span> Exception &#123;</span><br><span class="line">                        Log.e(TAG, <span class="string">&quot;accept : &quot;</span> + value);</span><br><span class="line">                    &#125;</span><br><span class="line">                &#125;);</span><br></pre></td></tr></table></figure>

<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="number">10</span>-<span class="number">06</span> <span class="number">05</span>:<span class="number">53</span>:<span class="number">28.510</span> <span class="number">8645</span>-<span class="number">8645</span>/? E/MainActivity: integerNotification value : <span class="number">1</span></span><br><span class="line"><span class="number">10</span>-<span class="number">06</span> <span class="number">05</span>:<span class="number">53</span>:<span class="number">28.510</span> <span class="number">8645</span>-<span class="number">8645</span>/? E/MainActivity: accept : <span class="number">1</span></span><br><span class="line"><span class="number">10</span>-<span class="number">06</span> <span class="number">05</span>:<span class="number">53</span>:<span class="number">28.510</span> <span class="number">8645</span>-<span class="number">8645</span>/? E/MainActivity: integerNotification value : <span class="number">2</span></span><br><span class="line"><span class="number">10</span>-<span class="number">06</span> <span class="number">05</span>:<span class="number">53</span>:<span class="number">28.510</span> <span class="number">8645</span>-<span class="number">8645</span>/? E/MainActivity: accept : <span class="number">2</span></span><br><span class="line"><span class="number">10</span>-<span class="number">06</span> <span class="number">05</span>:<span class="number">53</span>:<span class="number">28.510</span> <span class="number">8645</span>-<span class="number">8645</span>/? E/MainActivity: integerNotification value : <span class="number">3</span></span><br><span class="line"><span class="number">10</span>-<span class="number">06</span> <span class="number">05</span>:<span class="number">53</span>:<span class="number">28.510</span> <span class="number">8645</span>-<span class="number">8645</span>/? E/MainActivity: accept : <span class="number">3</span></span><br><span class="line"><span class="number">10</span>-<span class="number">06</span> <span class="number">05</span>:<span class="number">53</span>:<span class="number">28.510</span> <span class="number">8645</span>-<span class="number">8645</span>/? E/MainActivity: integerNotification value : <span class="literal">null</span></span><br></pre></td></tr></table></figure>

<h2 id="3ã€doOnNext"><a href="#3ã€doOnNext" class="headerlink" title="3ã€doOnNext()"></a>3ã€doOnNext()</h2><p><code>Observable</code> å‘é€ <code>onNext()</code> ä¹‹å‰éƒ½ä¼šå…ˆå›è°ƒè¿™ä¸ªæ–¹æ³•</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">Observable.just(<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>)</span><br><span class="line">                .doOnNext(<span class="keyword">new</span> <span class="title class_">Consumer</span>&lt;Integer&gt;() &#123;</span><br><span class="line">                    <span class="meta">@Override</span></span><br><span class="line">                    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">accept</span><span class="params">(Integer integer)</span> <span class="keyword">throws</span> Exception &#123;</span><br><span class="line">                        Log.e(TAG, <span class="string">&quot;doOnNext accept : &quot;</span> + integer);</span><br><span class="line">                    &#125;</span><br><span class="line">                &#125;)</span><br><span class="line">                .subscribe(<span class="keyword">new</span> <span class="title class_">Consumer</span>&lt;Integer&gt;() &#123;</span><br><span class="line">                    <span class="meta">@Override</span></span><br><span class="line">                    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">accept</span><span class="params">(Integer value)</span> <span class="keyword">throws</span> Exception &#123;</span><br><span class="line">                        Log.e(TAG, <span class="string">&quot;accept : &quot;</span> + value);</span><br><span class="line">                    &#125;</span><br><span class="line">                &#125;);</span><br></pre></td></tr></table></figure>

<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="number">10</span>-<span class="number">06</span> <span class="number">05</span>:<span class="number">55</span>:<span class="number">25.618</span> <span class="number">8758</span>-<span class="number">8758</span>/leavesc.hello.rxjavademo E/MainActivity: doOnNext accept : <span class="number">1</span></span><br><span class="line"><span class="number">10</span>-<span class="number">06</span> <span class="number">05</span>:<span class="number">55</span>:<span class="number">25.618</span> <span class="number">8758</span>-<span class="number">8758</span>/leavesc.hello.rxjavademo E/MainActivity: accept : <span class="number">1</span></span><br><span class="line"><span class="number">10</span>-<span class="number">06</span> <span class="number">05</span>:<span class="number">55</span>:<span class="number">25.618</span> <span class="number">8758</span>-<span class="number">8758</span>/leavesc.hello.rxjavademo E/MainActivity: doOnNext accept : <span class="number">2</span></span><br><span class="line"><span class="number">10</span>-<span class="number">06</span> <span class="number">05</span>:<span class="number">55</span>:<span class="number">25.618</span> <span class="number">8758</span>-<span class="number">8758</span>/leavesc.hello.rxjavademo E/MainActivity: accept : <span class="number">2</span></span><br><span class="line"><span class="number">10</span>-<span class="number">06</span> <span class="number">05</span>:<span class="number">55</span>:<span class="number">25.618</span> <span class="number">8758</span>-<span class="number">8758</span>/leavesc.hello.rxjavademo E/MainActivity: doOnNext accept : <span class="number">3</span></span><br><span class="line"><span class="number">10</span>-<span class="number">06</span> <span class="number">05</span>:<span class="number">55</span>:<span class="number">25.618</span> <span class="number">8758</span>-<span class="number">8758</span>/leavesc.hello.rxjavademo E/MainActivity: accept : <span class="number">3</span></span><br></pre></td></tr></table></figure>

<h2 id="4ã€doAfterNext"><a href="#4ã€doAfterNext" class="headerlink" title="4ã€doAfterNext()"></a>4ã€doAfterNext()</h2><p><code>Observable</code> å‘é€ <code>onNext()</code> ä¹‹åéƒ½ä¼šå›è°ƒè¿™ä¸ªæ–¹æ³•</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">Observable.just(<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>)</span><br><span class="line">                .doAfterNext(<span class="keyword">new</span> <span class="title class_">Consumer</span>&lt;Integer&gt;() &#123;</span><br><span class="line">                    <span class="meta">@Override</span></span><br><span class="line">                    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">accept</span><span class="params">(Integer integer)</span> <span class="keyword">throws</span> Exception &#123;</span><br><span class="line">                        Log.e(TAG, <span class="string">&quot;doOnNext accept : &quot;</span> + integer);</span><br><span class="line">                    &#125;</span><br><span class="line">                &#125;)</span><br><span class="line">                .subscribe(<span class="keyword">new</span> <span class="title class_">Consumer</span>&lt;Integer&gt;() &#123;</span><br><span class="line">                    <span class="meta">@Override</span></span><br><span class="line">                    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">accept</span><span class="params">(Integer value)</span> <span class="keyword">throws</span> Exception &#123;</span><br><span class="line">                        Log.e(TAG, <span class="string">&quot;accept : &quot;</span> + value);</span><br><span class="line">                    &#125;</span><br><span class="line">                &#125;);</span><br></pre></td></tr></table></figure>

<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="number">10</span>-<span class="number">06</span> <span class="number">05</span>:<span class="number">57</span>:<span class="number">09.357</span> <span class="number">8872</span>-<span class="number">8872</span>/leavesc.hello.rxjavademo E/MainActivity: accept : <span class="number">1</span></span><br><span class="line"><span class="number">10</span>-<span class="number">06</span> <span class="number">05</span>:<span class="number">57</span>:<span class="number">09.357</span> <span class="number">8872</span>-<span class="number">8872</span>/leavesc.hello.rxjavademo E/MainActivity: doOnNext accept : <span class="number">1</span></span><br><span class="line"><span class="number">10</span>-<span class="number">06</span> <span class="number">05</span>:<span class="number">57</span>:<span class="number">09.357</span> <span class="number">8872</span>-<span class="number">8872</span>/leavesc.hello.rxjavademo E/MainActivity: accept : <span class="number">2</span></span><br><span class="line"><span class="number">10</span>-<span class="number">06</span> <span class="number">05</span>:<span class="number">57</span>:<span class="number">09.357</span> <span class="number">8872</span>-<span class="number">8872</span>/leavesc.hello.rxjavademo E/MainActivity: doOnNext accept : <span class="number">2</span></span><br><span class="line"><span class="number">10</span>-<span class="number">06</span> <span class="number">05</span>:<span class="number">57</span>:<span class="number">09.357</span> <span class="number">8872</span>-<span class="number">8872</span>/leavesc.hello.rxjavademo E/MainActivity: accept : <span class="number">3</span></span><br><span class="line"><span class="number">10</span>-<span class="number">06</span> <span class="number">05</span>:<span class="number">57</span>:<span class="number">09.357</span> <span class="number">8872</span>-<span class="number">8872</span>/leavesc.hello.rxjavademo E/MainActivity: doOnNext accept : <span class="number">3</span></span><br></pre></td></tr></table></figure>

<h2 id="5ã€doOnComplete"><a href="#5ã€doOnComplete" class="headerlink" title="5ã€doOnComplete()"></a>5ã€doOnComplete()</h2><p><code>Observable</code> è°ƒç”¨ <code>onComplete()</code> ä¹‹å‰éƒ½ä¼šå›è°ƒè¿™ä¸ªæ–¹æ³•</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">Observable.just(<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>)</span><br><span class="line">                .doOnComplete(<span class="keyword">new</span> <span class="title class_">Action</span>() &#123;</span><br><span class="line">                    <span class="meta">@Override</span></span><br><span class="line">                    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">run</span><span class="params">()</span> <span class="keyword">throws</span> Exception &#123;</span><br><span class="line">                        Log.e(TAG, <span class="string">&quot;doOnComplete run()&quot;</span>);</span><br><span class="line">                    &#125;</span><br><span class="line">                &#125;)</span><br><span class="line">                .subscribe(<span class="keyword">new</span> <span class="title class_">Consumer</span>&lt;Integer&gt;() &#123;</span><br><span class="line">                    <span class="meta">@Override</span></span><br><span class="line">                    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">accept</span><span class="params">(Integer value)</span> <span class="keyword">throws</span> Exception &#123;</span><br><span class="line">                        Log.e(TAG, <span class="string">&quot;accept : &quot;</span> + value);</span><br><span class="line">                    &#125;</span><br><span class="line">                &#125;);</span><br></pre></td></tr></table></figure>

<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="number">10</span>-<span class="number">06</span> <span class="number">06</span>:08:<span class="number">43.688</span> <span class="number">8982</span>-<span class="number">8982</span>/leavesc.hello.rxjavademo E/MainActivity: accept : <span class="number">1</span></span><br><span class="line"><span class="number">10</span>-<span class="number">06</span> <span class="number">06</span>:08:<span class="number">43.688</span> <span class="number">8982</span>-<span class="number">8982</span>/leavesc.hello.rxjavademo E/MainActivity: accept : <span class="number">2</span></span><br><span class="line"><span class="number">10</span>-<span class="number">06</span> <span class="number">06</span>:08:<span class="number">43.688</span> <span class="number">8982</span>-<span class="number">8982</span>/leavesc.hello.rxjavademo E/MainActivity: accept : <span class="number">3</span></span><br><span class="line"><span class="number">10</span>-<span class="number">06</span> <span class="number">06</span>:08:<span class="number">43.688</span> <span class="number">8982</span>-<span class="number">8982</span>/leavesc.hello.rxjavademo E/MainActivity: doOnComplete <span class="title function_">run</span><span class="params">()</span></span><br></pre></td></tr></table></figure>

<h2 id="6ã€doOnError"><a href="#6ã€doOnError" class="headerlink" title="6ã€doOnError()"></a>6ã€doOnError()</h2><p><code>Observable</code> å‘é€ <code>onError()</code> ä¹‹å‰éƒ½ä¼šå›è°ƒè¿™ä¸ªæ–¹æ³•</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><span class="line">Observable.create(<span class="keyword">new</span> <span class="title class_">ObservableOnSubscribe</span>&lt;Integer&gt;() &#123;</span><br><span class="line">            <span class="meta">@Override</span></span><br><span class="line">            <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">subscribe</span><span class="params">(ObservableEmitter&lt;Integer&gt; emitter)</span> <span class="keyword">throws</span> Exception &#123;</span><br><span class="line">                emitter.onNext(<span class="number">1</span>);</span><br><span class="line">                emitter.onNext(<span class="number">2</span>);</span><br><span class="line">                emitter.onError(<span class="keyword">new</span> <span class="title class_">Exception</span>(<span class="string">&quot;Normal Exception&quot;</span>));</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;).doOnError(<span class="keyword">new</span> <span class="title class_">Consumer</span>&lt;Throwable&gt;() &#123;</span><br><span class="line">            <span class="meta">@Override</span></span><br><span class="line">            <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">accept</span><span class="params">(Throwable throwable)</span> <span class="keyword">throws</span> Exception &#123;</span><br><span class="line">                Log.e(TAG, <span class="string">&quot;doOnError accept() : &quot;</span> + throwable.getMessage());</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;).subscribe(<span class="keyword">new</span> <span class="title class_">Observer</span>&lt;Integer&gt;() &#123;</span><br><span class="line">            <span class="meta">@Override</span></span><br><span class="line">            <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">onSubscribe</span><span class="params">(Disposable d)</span> &#123;</span><br><span class="line"></span><br><span class="line">            &#125;</span><br><span class="line"></span><br><span class="line">            <span class="meta">@Override</span></span><br><span class="line">            <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">onNext</span><span class="params">(Integer integer)</span> &#123;</span><br><span class="line">                Log.e(TAG, <span class="string">&quot;onNext : &quot;</span> + integer);</span><br><span class="line">            &#125;</span><br><span class="line"></span><br><span class="line">            <span class="meta">@Override</span></span><br><span class="line">            <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">onError</span><span class="params">(Throwable e)</span> &#123;</span><br><span class="line">                Log.e(TAG, <span class="string">&quot;onError : &quot;</span> + e.getMessage());</span><br><span class="line">            &#125;</span><br><span class="line"></span><br><span class="line">            <span class="meta">@Override</span></span><br><span class="line">            <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">onComplete</span><span class="params">()</span> &#123;</span><br><span class="line"></span><br><span class="line">            &#125;</span><br><span class="line">        &#125;);</span><br></pre></td></tr></table></figure>

<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="number">10</span>-<span class="number">06</span> <span class="number">06</span>:<span class="number">14</span>:<span class="number">17.894</span> <span class="number">9230</span>-<span class="number">9230</span>/? E/MainActivity: onNext : <span class="number">1</span></span><br><span class="line"><span class="number">10</span>-<span class="number">06</span> <span class="number">06</span>:<span class="number">14</span>:<span class="number">17.894</span> <span class="number">9230</span>-<span class="number">9230</span>/? E/MainActivity: onNext : <span class="number">2</span></span><br><span class="line"><span class="number">10</span>-<span class="number">06</span> <span class="number">06</span>:<span class="number">14</span>:<span class="number">17.894</span> <span class="number">9230</span>-<span class="number">9230</span>/? E/MainActivity: doOnError <span class="title function_">accept</span><span class="params">()</span> : Normal Exception</span><br><span class="line"><span class="number">10</span>-<span class="number">06</span> <span class="number">06</span>:<span class="number">14</span>:<span class="number">17.894</span> <span class="number">9230</span>-<span class="number">9230</span>/? E/MainActivity: onError : Normal Exception</span><br></pre></td></tr></table></figure>

<h2 id="7ã€doOnSubscribe"><a href="#7ã€doOnSubscribe" class="headerlink" title="7ã€doOnSubscribe()"></a>7ã€doOnSubscribe()</h2><p><code>Observable</code> å‘é€ <code>onSubscribe()</code> ä¹‹å‰ä¼šå›è°ƒè¿™ä¸ªæ–¹æ³•</p>
<h2 id="8ã€doOnDispose"><a href="#8ã€doOnDispose" class="headerlink" title="8ã€doOnDispose()"></a>8ã€doOnDispose()</h2><p>å½“è°ƒç”¨ <code>Disposable</code> çš„ <code>dispose()</code> ä¹‹åä¼šå›è°ƒè¯¥æ–¹æ³•</p>
<h2 id="9ã€doOnLifecycle"><a href="#9ã€doOnLifecycle" class="headerlink" title="9ã€doOnLifecycle()"></a>9ã€doOnLifecycle()</h2><p>åœ¨å›è°ƒ <code>onSubscribe</code> ä¹‹å‰å›è°ƒè¯¥æ–¹æ³•çš„ç¬¬ä¸€ä¸ªå‚æ•°çš„å›è°ƒæ–¹æ³•ï¼Œå¯ä»¥ä½¿ç”¨è¯¥å›è°ƒæ–¹æ³•å†³å®šæ˜¯å¦å–æ¶ˆè®¢é˜…ï¼Œ<code>doOnLifecycle()</code> ç¬¬äºŒä¸ªå‚æ•°çš„å›è°ƒæ–¹æ³•çš„ä½œç”¨ä¸ <code>doOnDispose()</code> ä¸€æ ·</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br></pre></td><td class="code"><pre><span class="line">Observable.create(<span class="keyword">new</span> <span class="title class_">ObservableOnSubscribe</span>&lt;Integer&gt;() &#123;</span><br><span class="line">            <span class="meta">@Override</span></span><br><span class="line">            <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">subscribe</span><span class="params">(ObservableEmitter&lt;Integer&gt; emitter)</span> <span class="keyword">throws</span> Exception &#123;</span><br><span class="line">                emitter.onNext(<span class="number">1</span>);</span><br><span class="line">                emitter.onNext(<span class="number">2</span>);</span><br><span class="line">                emitter.onComplete();</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;).doOnLifecycle(<span class="keyword">new</span> <span class="title class_">Consumer</span>&lt;Disposable&gt;() &#123;</span><br><span class="line">            <span class="meta">@Override</span></span><br><span class="line">            <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">accept</span><span class="params">(Disposable disposable)</span> <span class="keyword">throws</span> Exception &#123;</span><br><span class="line">                Log.e(TAG, <span class="string">&quot;doOnLifecycle accept&quot;</span>);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;, <span class="keyword">new</span> <span class="title class_">Action</span>() &#123;</span><br><span class="line">            <span class="meta">@Override</span></span><br><span class="line">            <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">run</span><span class="params">()</span> <span class="keyword">throws</span> Exception &#123;</span><br><span class="line">                Log.e(TAG, <span class="string">&quot;doOnLifecycle run&quot;</span>);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;).subscribe(<span class="keyword">new</span> <span class="title class_">Observer</span>&lt;Integer&gt;() &#123;</span><br><span class="line"></span><br><span class="line">            <span class="keyword">private</span> Disposable disposable;</span><br><span class="line"></span><br><span class="line">            <span class="meta">@Override</span></span><br><span class="line">            <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">onSubscribe</span><span class="params">(Disposable d)</span> &#123;</span><br><span class="line">                Log.e(TAG, <span class="string">&quot;onSubscribe&quot;</span>);</span><br><span class="line">                <span class="built_in">this</span>.disposable = d;</span><br><span class="line">            &#125;</span><br><span class="line"></span><br><span class="line">            <span class="meta">@Override</span></span><br><span class="line">            <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">onNext</span><span class="params">(Integer integer)</span> &#123;</span><br><span class="line">                Log.e(TAG, <span class="string">&quot;onNext : &quot;</span> + integer);</span><br><span class="line">                disposable.dispose();</span><br><span class="line">            &#125;</span><br><span class="line"></span><br><span class="line">            <span class="meta">@Override</span></span><br><span class="line">            <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">onError</span><span class="params">(Throwable e)</span> &#123;</span><br><span class="line">                Log.e(TAG, <span class="string">&quot;onError : &quot;</span> + e.getMessage());</span><br><span class="line">            &#125;</span><br><span class="line"></span><br><span class="line">            <span class="meta">@Override</span></span><br><span class="line">            <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">onComplete</span><span class="params">()</span> &#123;</span><br><span class="line">                Log.e(TAG, <span class="string">&quot;onComplete&quot;</span>);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;);</span><br></pre></td></tr></table></figure>

<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="number">10</span>-<span class="number">06</span> <span class="number">06</span>:<span class="number">31</span>:<span class="number">45.011</span> <span class="number">9602</span>-<span class="number">9602</span>/leavesc.hello.rxjavademo E/MainActivity: doOnLifecycle accept</span><br><span class="line"><span class="number">10</span>-<span class="number">06</span> <span class="number">06</span>:<span class="number">31</span>:<span class="number">45.011</span> <span class="number">9602</span>-<span class="number">9602</span>/leavesc.hello.rxjavademo E/MainActivity: onSubscribe</span><br><span class="line"><span class="number">10</span>-<span class="number">06</span> <span class="number">06</span>:<span class="number">31</span>:<span class="number">45.011</span> <span class="number">9602</span>-<span class="number">9602</span>/leavesc.hello.rxjavademo E/MainActivity: onNext : <span class="number">1</span></span><br><span class="line"><span class="number">10</span>-<span class="number">06</span> <span class="number">06</span>:<span class="number">31</span>:<span class="number">45.011</span> <span class="number">9602</span>-<span class="number">9602</span>/leavesc.hello.rxjavademo E/MainActivity: doOnLifecycle run</span><br></pre></td></tr></table></figure>

<h2 id="10ã€doOnTerminate-doAfterTerminate"><a href="#10ã€doOnTerminate-doAfterTerminate" class="headerlink" title="10ã€doOnTerminate() &amp; doAfterTerminate()"></a>10ã€doOnTerminate() &amp; doAfterTerminate()</h2><p><code>doOnTerminate</code> æ˜¯åœ¨ <code>onError</code> æˆ–è€… <code>onComplete</code> å‘é€ä¹‹å‰å›è°ƒï¼Œè€Œ <code>doAfterTerminate</code> åˆ™æ˜¯ <code>onError</code> æˆ–è€… <code>onComplete</code> å‘é€ä¹‹åå›è°ƒ</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br></pre></td><td class="code"><pre><span class="line">Observable.create(<span class="keyword">new</span> <span class="title class_">ObservableOnSubscribe</span>&lt;Integer&gt;() &#123;</span><br><span class="line">            <span class="meta">@Override</span></span><br><span class="line">            <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">subscribe</span><span class="params">(ObservableEmitter&lt;Integer&gt; emitter)</span> <span class="keyword">throws</span> Exception &#123;</span><br><span class="line">                emitter.onNext(<span class="number">1</span>);</span><br><span class="line">                emitter.onNext(<span class="number">2</span>);</span><br><span class="line">                emitter.onComplete();</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;).doOnTerminate(<span class="keyword">new</span> <span class="title class_">Action</span>() &#123;</span><br><span class="line">            <span class="meta">@Override</span></span><br><span class="line">            <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">run</span><span class="params">()</span> <span class="keyword">throws</span> Exception &#123;</span><br><span class="line">                Log.e(TAG, <span class="string">&quot;doOnTerminate run&quot;</span>);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;).doAfterTerminate(<span class="keyword">new</span> <span class="title class_">Action</span>() &#123;</span><br><span class="line">            <span class="meta">@Override</span></span><br><span class="line">            <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">run</span><span class="params">()</span> <span class="keyword">throws</span> Exception &#123;</span><br><span class="line">                Log.e(TAG, <span class="string">&quot;doAfterTerminate run&quot;</span>);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;).subscribe(<span class="keyword">new</span> <span class="title class_">Observer</span>&lt;Integer&gt;() &#123;</span><br><span class="line"></span><br><span class="line">            <span class="meta">@Override</span></span><br><span class="line">            <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">onSubscribe</span><span class="params">(Disposable d)</span> &#123;</span><br><span class="line">                Log.e(TAG, <span class="string">&quot;onSubscribe&quot;</span>);</span><br><span class="line">            &#125;</span><br><span class="line"></span><br><span class="line">            <span class="meta">@Override</span></span><br><span class="line">            <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">onNext</span><span class="params">(Integer integer)</span> &#123;</span><br><span class="line">                Log.e(TAG, <span class="string">&quot;onNext : &quot;</span> + integer);</span><br><span class="line">            &#125;</span><br><span class="line"></span><br><span class="line">            <span class="meta">@Override</span></span><br><span class="line">            <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">onError</span><span class="params">(Throwable e)</span> &#123;</span><br><span class="line">                Log.e(TAG, <span class="string">&quot;onError : &quot;</span> + e.getMessage());</span><br><span class="line">            &#125;</span><br><span class="line"></span><br><span class="line">            <span class="meta">@Override</span></span><br><span class="line">            <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">onComplete</span><span class="params">()</span> &#123;</span><br><span class="line">                Log.e(TAG, <span class="string">&quot;onComplete&quot;</span>);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;);</span><br></pre></td></tr></table></figure>

<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="number">10</span>-<span class="number">06</span> <span class="number">06</span>:<span class="number">34</span>:<span class="number">55.968</span> <span class="number">9713</span>-<span class="number">9713</span>/? E/MainActivity: onSubscribe</span><br><span class="line"><span class="number">10</span>-<span class="number">06</span> <span class="number">06</span>:<span class="number">34</span>:<span class="number">55.968</span> <span class="number">9713</span>-<span class="number">9713</span>/? E/MainActivity: onNext : <span class="number">1</span></span><br><span class="line"><span class="number">10</span>-<span class="number">06</span> <span class="number">06</span>:<span class="number">34</span>:<span class="number">55.968</span> <span class="number">9713</span>-<span class="number">9713</span>/? E/MainActivity: onNext : <span class="number">2</span></span><br><span class="line"><span class="number">10</span>-<span class="number">06</span> <span class="number">06</span>:<span class="number">34</span>:<span class="number">55.968</span> <span class="number">9713</span>-<span class="number">9713</span>/? E/MainActivity: doOnTerminate run</span><br><span class="line"><span class="number">10</span>-<span class="number">06</span> <span class="number">06</span>:<span class="number">34</span>:<span class="number">55.968</span> <span class="number">9713</span>-<span class="number">9713</span>/? E/MainActivity: onComplete</span><br><span class="line"><span class="number">10</span>-<span class="number">06</span> <span class="number">06</span>:<span class="number">34</span>:<span class="number">55.968</span> <span class="number">9713</span>-<span class="number">9713</span>/? E/MainActivity: doAfterTerminate run</span><br></pre></td></tr></table></figure>

<h2 id="11ã€doFinally"><a href="#11ã€doFinally" class="headerlink" title="11ã€doFinally()"></a>11ã€doFinally()</h2><p>åœ¨æ‰€æœ‰äº‹ä»¶å‘é€å®Œæ¯•ä¹‹åå›è°ƒè¯¥æ–¹æ³•ã€‚ <code>doFinally()</code> å’Œ <code>doAfterTerminate()</code> çš„åŒºåˆ«åœ¨äºå–æ¶ˆè®¢é˜…æ—¶ï¼Œå¦‚æœå–æ¶ˆè®¢é˜…ï¼Œä¹‹å <code>doAfterTerminate()</code> å°±ä¸ä¼šè¢«å›è°ƒï¼Œè€Œ <code>doFinally()</code> æ— è®ºæ€ä¹ˆæ ·éƒ½ä¼šè¢«å›è°ƒï¼Œä¸”éƒ½ä¼šåœ¨äº‹ä»¶åºåˆ—çš„æœ€å</p>
<h2 id="12ã€onErrorReturn"><a href="#12ã€onErrorReturn" class="headerlink" title="12ã€onErrorReturn()"></a>12ã€onErrorReturn()</h2><p>å½“æ¥å—åˆ°ä¸€ä¸ª <code>onError()</code> äº‹ä»¶ä¹‹åå›è°ƒï¼Œè¿”å›çš„å€¼ä¼šå›è°ƒ <code>onNext()</code> æ–¹æ³•ï¼Œå¹¶æ­£å¸¸ç»“æŸè¯¥äº‹ä»¶åºåˆ—</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><span class="line">Observable.create(<span class="keyword">new</span> <span class="title class_">ObservableOnSubscribe</span>&lt;Integer&gt;() &#123;</span><br><span class="line">            <span class="meta">@Override</span></span><br><span class="line">            <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">subscribe</span><span class="params">(ObservableEmitter&lt;Integer&gt; emitter)</span> <span class="keyword">throws</span> Exception &#123;</span><br><span class="line">                emitter.onNext(<span class="number">1</span>);</span><br><span class="line">                emitter.onNext(<span class="number">2</span>);</span><br><span class="line">                emitter.onError(<span class="keyword">new</span> <span class="title class_">Exception</span>(<span class="string">&quot;Normal Exception&quot;</span>));</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;).onErrorReturn(<span class="keyword">new</span> <span class="title class_">Function</span>&lt;Throwable, Integer&gt;() &#123;</span><br><span class="line">            <span class="meta">@Override</span></span><br><span class="line">            <span class="keyword">public</span> Integer <span class="title function_">apply</span><span class="params">(Throwable throwable)</span> <span class="keyword">throws</span> Exception &#123;</span><br><span class="line">                <span class="keyword">return</span> <span class="number">7</span>;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;).subscribe(<span class="keyword">new</span> <span class="title class_">Observer</span>&lt;Integer&gt;() &#123;</span><br><span class="line"></span><br><span class="line">            <span class="meta">@Override</span></span><br><span class="line">            <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">onSubscribe</span><span class="params">(Disposable d)</span> &#123;</span><br><span class="line">                Log.e(TAG, <span class="string">&quot;onSubscribe&quot;</span>);</span><br><span class="line">            &#125;</span><br><span class="line"></span><br><span class="line">            <span class="meta">@Override</span></span><br><span class="line">            <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">onNext</span><span class="params">(Integer integer)</span> &#123;</span><br><span class="line">                Log.e(TAG, <span class="string">&quot;onNext : &quot;</span> + integer);</span><br><span class="line">            &#125;</span><br><span class="line"></span><br><span class="line">            <span class="meta">@Override</span></span><br><span class="line">            <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">onError</span><span class="params">(Throwable e)</span> &#123;</span><br><span class="line">                Log.e(TAG, <span class="string">&quot;onError : &quot;</span> + e.getMessage());</span><br><span class="line">            &#125;</span><br><span class="line"></span><br><span class="line">            <span class="meta">@Override</span></span><br><span class="line">            <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">onComplete</span><span class="params">()</span> &#123;</span><br><span class="line">                Log.e(TAG, <span class="string">&quot;onComplete&quot;</span>);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;);</span><br></pre></td></tr></table></figure>

<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="number">10</span>-<span class="number">06</span> <span class="number">06</span>:<span class="number">43</span>:<span class="number">13.702</span> <span class="number">9946</span>-<span class="number">9946</span>/leavesc.hello.rxjavademo E/MainActivity: onSubscribe</span><br><span class="line"><span class="number">10</span>-<span class="number">06</span> <span class="number">06</span>:<span class="number">43</span>:<span class="number">13.702</span> <span class="number">9946</span>-<span class="number">9946</span>/leavesc.hello.rxjavademo E/MainActivity: onNext : <span class="number">1</span></span><br><span class="line"><span class="number">10</span>-<span class="number">06</span> <span class="number">06</span>:<span class="number">43</span>:<span class="number">13.702</span> <span class="number">9946</span>-<span class="number">9946</span>/leavesc.hello.rxjavademo E/MainActivity: onNext : <span class="number">2</span></span><br><span class="line"><span class="number">10</span>-<span class="number">06</span> <span class="number">06</span>:<span class="number">43</span>:<span class="number">13.712</span> <span class="number">9946</span>-<span class="number">9946</span>/leavesc.hello.rxjavademo E/MainActivity: onNext : <span class="number">7</span></span><br><span class="line"><span class="number">10</span>-<span class="number">06</span> <span class="number">06</span>:<span class="number">43</span>:<span class="number">13.712</span> <span class="number">9946</span>-<span class="number">9946</span>/leavesc.hello.rxjavademo E/MainActivity: onComplete</span><br></pre></td></tr></table></figure>

<h2 id="13ã€onErrorResumeNext"><a href="#13ã€onErrorResumeNext" class="headerlink" title="13ã€onErrorResumeNext()"></a>13ã€onErrorResumeNext()</h2><p>å½“æ¥æ”¶åˆ° <code>onError()</code> äº‹ä»¶æ—¶ï¼Œè¿”å›ä¸€ä¸ªæ–°çš„ <code>Observable</code>ï¼Œå¹¶æ­£å¸¸ç»“æŸäº‹ä»¶åºåˆ—</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br></pre></td><td class="code"><pre><span class="line">Observable.create(<span class="keyword">new</span> <span class="title class_">ObservableOnSubscribe</span>&lt;Integer&gt;() &#123;</span><br><span class="line">            <span class="meta">@Override</span></span><br><span class="line">            <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">subscribe</span><span class="params">(ObservableEmitter&lt;Integer&gt; emitter)</span> <span class="keyword">throws</span> Exception &#123;</span><br><span class="line">                emitter.onNext(<span class="number">1</span>);</span><br><span class="line">                emitter.onNext(<span class="number">2</span>);</span><br><span class="line">                emitter.onError(<span class="keyword">new</span> <span class="title class_">Exception</span>(<span class="string">&quot;Normal Exception&quot;</span>));</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;).onErrorResumeNext(<span class="keyword">new</span> <span class="title class_">Function</span>&lt;Throwable, ObservableSource&lt;? <span class="keyword">extends</span> <span class="title class_">Integer</span>&gt;&gt;() &#123;</span><br><span class="line">            <span class="meta">@Override</span></span><br><span class="line">            <span class="keyword">public</span> ObservableSource&lt;? <span class="keyword">extends</span> <span class="title class_">Integer</span>&gt; apply(Throwable throwable) <span class="keyword">throws</span> Exception &#123;</span><br><span class="line">                Log.e(TAG, <span class="string">&quot;onErrorResumeNext apply: &quot;</span> + throwable.getMessage());</span><br><span class="line">                <span class="keyword">return</span> Observable.just(<span class="number">4</span>, <span class="number">5</span>, <span class="number">6</span>);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;).subscribe(<span class="keyword">new</span> <span class="title class_">Observer</span>&lt;Integer&gt;() &#123;</span><br><span class="line"></span><br><span class="line">            <span class="meta">@Override</span></span><br><span class="line">            <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">onSubscribe</span><span class="params">(Disposable d)</span> &#123;</span><br><span class="line">                Log.e(TAG, <span class="string">&quot;onSubscribe&quot;</span>);</span><br><span class="line">            &#125;</span><br><span class="line"></span><br><span class="line">            <span class="meta">@Override</span></span><br><span class="line">            <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">onNext</span><span class="params">(Integer integer)</span> &#123;</span><br><span class="line">                Log.e(TAG, <span class="string">&quot;onNext : &quot;</span> + integer);</span><br><span class="line">            &#125;</span><br><span class="line"></span><br><span class="line">            <span class="meta">@Override</span></span><br><span class="line">            <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">onError</span><span class="params">(Throwable e)</span> &#123;</span><br><span class="line">                Log.e(TAG, <span class="string">&quot;onError : &quot;</span> + e.getMessage());</span><br><span class="line">            &#125;</span><br><span class="line"></span><br><span class="line">            <span class="meta">@Override</span></span><br><span class="line">            <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">onComplete</span><span class="params">()</span> &#123;</span><br><span class="line">                Log.e(TAG, <span class="string">&quot;onComplete&quot;</span>);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;);</span><br></pre></td></tr></table></figure>

<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="number">10</span>-<span class="number">06</span> <span class="number">06</span>:<span class="number">46</span>:<span class="number">36.650</span> <span class="number">10243</span>-<span class="number">10243</span>/leavesc.hello.rxjavademo E/MainActivity: onSubscribe</span><br><span class="line"><span class="number">10</span>-<span class="number">06</span> <span class="number">06</span>:<span class="number">46</span>:<span class="number">36.650</span> <span class="number">10243</span>-<span class="number">10243</span>/leavesc.hello.rxjavademo E/MainActivity: onNext : <span class="number">1</span></span><br><span class="line"><span class="number">10</span>-<span class="number">06</span> <span class="number">06</span>:<span class="number">46</span>:<span class="number">36.650</span> <span class="number">10243</span>-<span class="number">10243</span>/leavesc.hello.rxjavademo E/MainActivity: onNext : <span class="number">2</span></span><br><span class="line"><span class="number">10</span>-<span class="number">06</span> <span class="number">06</span>:<span class="number">46</span>:<span class="number">36.650</span> <span class="number">10243</span>-<span class="number">10243</span>/leavesc.hello.rxjavademo E/MainActivity: onErrorResumeNext apply: Normal Exception</span><br><span class="line"><span class="number">10</span>-<span class="number">06</span> <span class="number">06</span>:<span class="number">46</span>:<span class="number">36.650</span> <span class="number">10243</span>-<span class="number">10243</span>/leavesc.hello.rxjavademo E/MainActivity: onNext : <span class="number">4</span></span><br><span class="line"><span class="number">10</span>-<span class="number">06</span> <span class="number">06</span>:<span class="number">46</span>:<span class="number">36.650</span> <span class="number">10243</span>-<span class="number">10243</span>/leavesc.hello.rxjavademo E/MainActivity: onNext : <span class="number">5</span></span><br><span class="line"><span class="number">10</span>-<span class="number">06</span> <span class="number">06</span>:<span class="number">46</span>:<span class="number">36.650</span> <span class="number">10243</span>-<span class="number">10243</span>/leavesc.hello.rxjavademo E/MainActivity: onNext : <span class="number">6</span></span><br><span class="line"><span class="number">10</span>-<span class="number">06</span> <span class="number">06</span>:<span class="number">46</span>:<span class="number">36.650</span> <span class="number">10243</span>-<span class="number">10243</span>/leavesc.hello.rxjavademo E/MainActivity: onComplete</span><br></pre></td></tr></table></figure>

<h2 id="14ã€-onExceptionResumeNext"><a href="#14ã€-onExceptionResumeNext" class="headerlink" title="14ã€ onExceptionResumeNext()"></a>14ã€ onExceptionResumeNext()</h2><p>ä¸ <code>onErrorResumeNext()</code> ä½œç”¨åŸºæœ¬ä¸€è‡´ï¼Œä½†æ˜¯è¿™ä¸ªæ–¹æ³•åªèƒ½æ•æ‰ <code>Exception</code>ï¼Œä¸èƒ½æ•è· <code>Error</code></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br></pre></td><td class="code"><pre><span class="line">Observable.create(<span class="keyword">new</span> <span class="title class_">ObservableOnSubscribe</span>&lt;Integer&gt;() &#123;</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">subscribe</span><span class="params">(ObservableEmitter&lt;Integer&gt; emitter)</span> <span class="keyword">throws</span> Exception &#123;</span><br><span class="line">        emitter.onNext(<span class="number">1</span>);</span><br><span class="line">        emitter.onNext(<span class="number">2</span>);</span><br><span class="line">        emitter.onError(<span class="keyword">new</span> <span class="title class_">Exception</span>(<span class="string">&quot;Normal Exception&quot;</span>));</span><br><span class="line">    &#125;</span><br><span class="line">&#125;).onExceptionResumeNext(<span class="keyword">new</span> <span class="title class_">Observable</span>&lt;Integer&gt;() &#123;</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">protected</span> <span class="keyword">void</span> <span class="title function_">subscribeActual</span><span class="params">(Observer&lt;? <span class="built_in">super</span> Integer&gt; observer)</span> &#123;</span><br><span class="line">        Log.e(TAG, <span class="string">&quot;onExceptionResumeNext subscribeActual&quot;</span>);</span><br><span class="line">        observer.onNext(<span class="number">3</span>);</span><br><span class="line">        observer.onComplete();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;).subscribe(<span class="keyword">new</span> <span class="title class_">Observer</span>&lt;Integer&gt;() &#123;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">onSubscribe</span><span class="params">(Disposable d)</span> &#123;</span><br><span class="line">        Log.e(TAG, <span class="string">&quot;onSubscribe&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">onNext</span><span class="params">(Integer integer)</span> &#123;</span><br><span class="line">        Log.e(TAG, <span class="string">&quot;onNext : &quot;</span> + integer);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">onError</span><span class="params">(Throwable e)</span> &#123;</span><br><span class="line">        Log.e(TAG, <span class="string">&quot;onError : &quot;</span> + e.getMessage());</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">onComplete</span><span class="params">()</span> &#123;</span><br><span class="line">        Log.e(TAG, <span class="string">&quot;onComplete&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>

<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="number">10</span>-<span class="number">06</span> <span class="number">06</span>:<span class="number">51</span>:<span class="number">49.396</span> <span class="number">10369</span>-<span class="number">10369</span>/leavesc.hello.rxjavademo E/MainActivity: onSubscribe</span><br><span class="line"><span class="number">10</span>-<span class="number">06</span> <span class="number">06</span>:<span class="number">51</span>:<span class="number">49.396</span> <span class="number">10369</span>-<span class="number">10369</span>/leavesc.hello.rxjavademo E/MainActivity: onNext : <span class="number">1</span></span><br><span class="line"><span class="number">10</span>-<span class="number">06</span> <span class="number">06</span>:<span class="number">51</span>:<span class="number">49.396</span> <span class="number">10369</span>-<span class="number">10369</span>/leavesc.hello.rxjavademo E/MainActivity: onNext : <span class="number">2</span></span><br><span class="line"><span class="number">10</span>-<span class="number">06</span> <span class="number">06</span>:<span class="number">51</span>:<span class="number">49.396</span> <span class="number">10369</span>-<span class="number">10369</span>/leavesc.hello.rxjavademo E/MainActivity: onExceptionResumeNext subscribeActual</span><br><span class="line"><span class="number">10</span>-<span class="number">06</span> <span class="number">06</span>:<span class="number">51</span>:<span class="number">49.396</span> <span class="number">10369</span>-<span class="number">10369</span>/leavesc.hello.rxjavademo E/MainActivity: onNext : <span class="number">3</span></span><br><span class="line"><span class="number">10</span>-<span class="number">06</span> <span class="number">06</span>:<span class="number">51</span>:<span class="number">49.396</span> <span class="number">10369</span>-<span class="number">10369</span>/leavesc.hello.rxjavademo E/MainActivity: onComplete</span><br></pre></td></tr></table></figure>

<p>å°† <code>emitter.onError(new Exception(&quot;Normal Exception&quot;))</code> æ”¹ä¸º <code>emitter.onError(new Error(&quot;Normal Exception&quot;));</code></p>
<p>å¼‚å¸¸å°†ä¸ä¼šè¢«æ•è·</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="number">10</span>-<span class="number">06</span> <span class="number">06</span>:<span class="number">53</span>:<span class="number">21.655</span> <span class="number">10479</span>-<span class="number">10479</span>/leavesc.hello.rxjavademo E/MainActivity: onSubscribe</span><br><span class="line"><span class="number">10</span>-<span class="number">06</span> <span class="number">06</span>:<span class="number">53</span>:<span class="number">21.655</span> <span class="number">10479</span>-<span class="number">10479</span>/leavesc.hello.rxjavademo E/MainActivity: onNext : <span class="number">1</span></span><br><span class="line"><span class="number">10</span>-<span class="number">06</span> <span class="number">06</span>:<span class="number">53</span>:<span class="number">21.655</span> <span class="number">10479</span>-<span class="number">10479</span>/leavesc.hello.rxjavademo E/MainActivity: onNext : <span class="number">2</span></span><br><span class="line"><span class="number">10</span>-<span class="number">06</span> <span class="number">06</span>:<span class="number">53</span>:<span class="number">21.655</span> <span class="number">10479</span>-<span class="number">10479</span>/leavesc.hello.rxjavademo E/MainActivity: onError : Normal Exception</span><br></pre></td></tr></table></figure>

<h2 id="15ã€retry"><a href="#15ã€retry" class="headerlink" title="15ã€retry()"></a>15ã€retry()</h2><p>å¦‚æœå‡ºç°é”™è¯¯äº‹ä»¶ï¼Œåˆ™ä¼šé‡æ–°å‘é€æ‰€æœ‰äº‹ä»¶åºåˆ—æŒ‡å®šæ¬¡æ•°</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line">Observable.create(<span class="keyword">new</span> <span class="title class_">ObservableOnSubscribe</span>&lt;Integer&gt;() &#123;</span><br><span class="line">            <span class="meta">@Override</span></span><br><span class="line">            <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">subscribe</span><span class="params">(ObservableEmitter&lt;Integer&gt; emitter)</span> <span class="keyword">throws</span> Exception &#123;</span><br><span class="line">                emitter.onNext(<span class="number">1</span>);</span><br><span class="line">                emitter.onNext(<span class="number">2</span>);</span><br><span class="line">                emitter.onError(<span class="keyword">new</span> <span class="title class_">Error</span>(<span class="string">&quot;Normal Exception&quot;</span>));</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;).retry(<span class="number">2</span>).subscribe(<span class="keyword">new</span> <span class="title class_">Observer</span>&lt;Integer&gt;() &#123;</span><br><span class="line"></span><br><span class="line">            <span class="meta">@Override</span></span><br><span class="line">            <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">onSubscribe</span><span class="params">(Disposable d)</span> &#123;</span><br><span class="line">                Log.e(TAG, <span class="string">&quot;onSubscribe&quot;</span>);</span><br><span class="line">            &#125;</span><br><span class="line"></span><br><span class="line">            <span class="meta">@Override</span></span><br><span class="line">            <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">onNext</span><span class="params">(Integer integer)</span> &#123;</span><br><span class="line">                Log.e(TAG, <span class="string">&quot;onNext : &quot;</span> + integer);</span><br><span class="line">            &#125;</span><br><span class="line"></span><br><span class="line">            <span class="meta">@Override</span></span><br><span class="line">            <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">onError</span><span class="params">(Throwable e)</span> &#123;</span><br><span class="line">                Log.e(TAG, <span class="string">&quot;onError : &quot;</span> + e.getMessage());</span><br><span class="line">            &#125;</span><br><span class="line"></span><br><span class="line">            <span class="meta">@Override</span></span><br><span class="line">            <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">onComplete</span><span class="params">()</span> &#123;</span><br><span class="line">                Log.e(TAG, <span class="string">&quot;onComplete&quot;</span>);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;);</span><br></pre></td></tr></table></figure>

<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="number">10</span>-<span class="number">06</span> <span class="number">06</span>:<span class="number">55</span>:<span class="number">17.273</span> <span class="number">10591</span>-<span class="number">10591</span>/? E/MainActivity: onSubscribe</span><br><span class="line"><span class="number">10</span>-<span class="number">06</span> <span class="number">06</span>:<span class="number">55</span>:<span class="number">17.273</span> <span class="number">10591</span>-<span class="number">10591</span>/? E/MainActivity: onNext : <span class="number">1</span></span><br><span class="line"><span class="number">10</span>-<span class="number">06</span> <span class="number">06</span>:<span class="number">55</span>:<span class="number">17.273</span> <span class="number">10591</span>-<span class="number">10591</span>/? E/MainActivity: onNext : <span class="number">2</span></span><br><span class="line"><span class="number">10</span>-<span class="number">06</span> <span class="number">06</span>:<span class="number">55</span>:<span class="number">17.273</span> <span class="number">10591</span>-<span class="number">10591</span>/? E/MainActivity: onNext : <span class="number">1</span></span><br><span class="line"><span class="number">10</span>-<span class="number">06</span> <span class="number">06</span>:<span class="number">55</span>:<span class="number">17.273</span> <span class="number">10591</span>-<span class="number">10591</span>/? E/MainActivity: onNext : <span class="number">2</span></span><br><span class="line"><span class="number">10</span>-<span class="number">06</span> <span class="number">06</span>:<span class="number">55</span>:<span class="number">17.273</span> <span class="number">10591</span>-<span class="number">10591</span>/? E/MainActivity: onNext : <span class="number">1</span></span><br><span class="line"><span class="number">10</span>-<span class="number">06</span> <span class="number">06</span>:<span class="number">55</span>:<span class="number">17.273</span> <span class="number">10591</span>-<span class="number">10591</span>/? E/MainActivity: onNext : <span class="number">2</span></span><br><span class="line"><span class="number">10</span>-<span class="number">06</span> <span class="number">06</span>:<span class="number">55</span>:<span class="number">17.273</span> <span class="number">10591</span>-<span class="number">10591</span>/? E/MainActivity: onError : Normal Exception</span><br></pre></td></tr></table></figure>

<h2 id="16ã€retryUntil"><a href="#16ã€retryUntil" class="headerlink" title="16ã€retryUntil()"></a>16ã€retryUntil()</h2><p>å‡ºç°é”™è¯¯äº‹ä»¶ä¹‹åï¼Œå¯ä»¥é€šè¿‡æ­¤æ–¹æ³•åˆ¤æ–­æ˜¯å¦ç»§ç»­å‘é€äº‹ä»¶</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br></pre></td><td class="code"><pre><span class="line">    <span class="keyword">private</span> <span class="type">int</span> <span class="variable">index</span> <span class="operator">=</span> <span class="number">1</span>;</span><br><span class="line"></span><br><span class="line">Observable.create(<span class="keyword">new</span> <span class="title class_">ObservableOnSubscribe</span>&lt;Integer&gt;() &#123;</span><br><span class="line">            <span class="meta">@Override</span></span><br><span class="line">            <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">subscribe</span><span class="params">(ObservableEmitter&lt;Integer&gt; emitter)</span> <span class="keyword">throws</span> Exception &#123;</span><br><span class="line">                emitter.onNext(<span class="number">1</span>);</span><br><span class="line">                emitter.onNext(<span class="number">2</span>);</span><br><span class="line">                emitter.onError(<span class="keyword">new</span> <span class="title class_">Exception</span>(<span class="string">&quot;Normal Exception&quot;</span>));</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;).retryUntil(<span class="keyword">new</span> <span class="title class_">BooleanSupplier</span>() &#123;</span><br><span class="line">            <span class="meta">@Override</span></span><br><span class="line">            <span class="keyword">public</span> <span class="type">boolean</span> <span class="title function_">getAsBoolean</span><span class="params">()</span> <span class="keyword">throws</span> Exception &#123;</span><br><span class="line">                Log.e(TAG, <span class="string">&quot;getAsBoolean&quot;</span>);</span><br><span class="line">                <span class="keyword">return</span> index == <span class="number">7</span>;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;).subscribe(<span class="keyword">new</span> <span class="title class_">Observer</span>&lt;Integer&gt;() &#123;</span><br><span class="line"></span><br><span class="line">            <span class="meta">@Override</span></span><br><span class="line">            <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">onSubscribe</span><span class="params">(Disposable d)</span> &#123;</span><br><span class="line">                Log.e(TAG, <span class="string">&quot;onSubscribe&quot;</span>);</span><br><span class="line">            &#125;</span><br><span class="line"></span><br><span class="line">            <span class="meta">@Override</span></span><br><span class="line">            <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">onNext</span><span class="params">(Integer integer)</span> &#123;</span><br><span class="line">                Log.e(TAG, <span class="string">&quot;onNext : &quot;</span> + integer);</span><br><span class="line">                index++;</span><br><span class="line">            &#125;</span><br><span class="line"></span><br><span class="line">            <span class="meta">@Override</span></span><br><span class="line">            <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">onError</span><span class="params">(Throwable e)</span> &#123;</span><br><span class="line">                Log.e(TAG, <span class="string">&quot;onError : &quot;</span> + e.getMessage());</span><br><span class="line">            &#125;</span><br><span class="line"></span><br><span class="line">            <span class="meta">@Override</span></span><br><span class="line">            <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">onComplete</span><span class="params">()</span> &#123;</span><br><span class="line">                Log.e(TAG, <span class="string">&quot;onComplete&quot;</span>);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;);</span><br></pre></td></tr></table></figure>

<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="number">10</span>-<span class="number">06</span> <span class="number">07</span>:<span class="number">19</span>:<span class="number">07.675</span> <span class="number">11433</span>-<span class="number">11433</span>/leavesc.hello.rxjavademo E/MainActivity: onSubscribe</span><br><span class="line"><span class="number">10</span>-<span class="number">06</span> <span class="number">07</span>:<span class="number">19</span>:<span class="number">07.675</span> <span class="number">11433</span>-<span class="number">11433</span>/leavesc.hello.rxjavademo E/MainActivity: onNext : <span class="number">1</span></span><br><span class="line"><span class="number">10</span>-<span class="number">06</span> <span class="number">07</span>:<span class="number">19</span>:<span class="number">07.675</span> <span class="number">11433</span>-<span class="number">11433</span>/leavesc.hello.rxjavademo E/MainActivity: onNext : <span class="number">2</span></span><br><span class="line"><span class="number">10</span>-<span class="number">06</span> <span class="number">07</span>:<span class="number">19</span>:<span class="number">07.675</span> <span class="number">11433</span>-<span class="number">11433</span>/leavesc.hello.rxjavademo E/MainActivity: getAsBoolean</span><br><span class="line"><span class="number">10</span>-<span class="number">06</span> <span class="number">07</span>:<span class="number">19</span>:<span class="number">07.675</span> <span class="number">11433</span>-<span class="number">11433</span>/leavesc.hello.rxjavademo E/MainActivity: onNext : <span class="number">1</span></span><br><span class="line"><span class="number">10</span>-<span class="number">06</span> <span class="number">07</span>:<span class="number">19</span>:<span class="number">07.675</span> <span class="number">11433</span>-<span class="number">11433</span>/leavesc.hello.rxjavademo E/MainActivity: onNext : <span class="number">2</span></span><br><span class="line"><span class="number">10</span>-<span class="number">06</span> <span class="number">07</span>:<span class="number">19</span>:<span class="number">07.675</span> <span class="number">11433</span>-<span class="number">11433</span>/leavesc.hello.rxjavademo E/MainActivity: getAsBoolean</span><br><span class="line"><span class="number">10</span>-<span class="number">06</span> <span class="number">07</span>:<span class="number">19</span>:<span class="number">07.675</span> <span class="number">11433</span>-<span class="number">11433</span>/leavesc.hello.rxjavademo E/MainActivity: onNext : <span class="number">1</span></span><br><span class="line"><span class="number">10</span>-<span class="number">06</span> <span class="number">07</span>:<span class="number">19</span>:<span class="number">07.675</span> <span class="number">11433</span>-<span class="number">11433</span>/leavesc.hello.rxjavademo E/MainActivity: onNext : <span class="number">2</span></span><br><span class="line"><span class="number">10</span>-<span class="number">06</span> <span class="number">07</span>:<span class="number">19</span>:<span class="number">07.675</span> <span class="number">11433</span>-<span class="number">11433</span>/leavesc.hello.rxjavademo E/MainActivity: getAsBoolean</span><br><span class="line"><span class="number">10</span>-<span class="number">06</span> <span class="number">07</span>:<span class="number">19</span>:<span class="number">07.675</span> <span class="number">11433</span>-<span class="number">11433</span>/leavesc.hello.rxjavademo E/MainActivity: onError : Normal Exception</span><br></pre></td></tr></table></figure>

<h2 id="17ã€repeat"><a href="#17ã€repeat" class="headerlink" title="17ã€repeat()"></a>17ã€repeat()</h2><p>ä»¥æŒ‡å®šæ¬¡æ•°é‡å¤å‘é€è¢«è§‚å¯Ÿè€…çš„äº‹ä»¶</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line">Observable.create(<span class="keyword">new</span> <span class="title class_">ObservableOnSubscribe</span>&lt;Integer&gt;() &#123;</span><br><span class="line">            <span class="meta">@Override</span></span><br><span class="line">            <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">subscribe</span><span class="params">(ObservableEmitter&lt;Integer&gt; emitter)</span> <span class="keyword">throws</span> Exception &#123;</span><br><span class="line">                emitter.onNext(<span class="number">1</span>);</span><br><span class="line">                emitter.onNext(<span class="number">2</span>);</span><br><span class="line">                emitter.onComplete();</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;).repeat(<span class="number">2</span>).subscribe(<span class="keyword">new</span> <span class="title class_">Observer</span>&lt;Integer&gt;() &#123;</span><br><span class="line"></span><br><span class="line">            <span class="meta">@Override</span></span><br><span class="line">            <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">onSubscribe</span><span class="params">(Disposable d)</span> &#123;</span><br><span class="line">                Log.e(TAG, <span class="string">&quot;onSubscribe&quot;</span>);</span><br><span class="line">            &#125;</span><br><span class="line"></span><br><span class="line">            <span class="meta">@Override</span></span><br><span class="line">            <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">onNext</span><span class="params">(Integer integer)</span> &#123;</span><br><span class="line">                Log.e(TAG, <span class="string">&quot;onNext : &quot;</span> + integer);</span><br><span class="line">            &#125;</span><br><span class="line"></span><br><span class="line">            <span class="meta">@Override</span></span><br><span class="line">            <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">onError</span><span class="params">(Throwable e)</span> &#123;</span><br><span class="line">                Log.e(TAG, <span class="string">&quot;onError : &quot;</span> + e.getMessage());</span><br><span class="line">            &#125;</span><br><span class="line"></span><br><span class="line">            <span class="meta">@Override</span></span><br><span class="line">            <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">onComplete</span><span class="params">()</span> &#123;</span><br><span class="line">                Log.e(TAG, <span class="string">&quot;onComplete&quot;</span>);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;);</span><br></pre></td></tr></table></figure>

<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="number">10</span>-<span class="number">06</span> <span class="number">07</span>:<span class="number">38</span>:<span class="number">47.680</span> <span class="number">12155</span>-<span class="number">12155</span>/? E/MainActivity: onSubscribe</span><br><span class="line"><span class="number">10</span>-<span class="number">06</span> <span class="number">07</span>:<span class="number">38</span>:<span class="number">47.690</span> <span class="number">12155</span>-<span class="number">12155</span>/? E/MainActivity: onNext : <span class="number">1</span></span><br><span class="line"><span class="number">10</span>-<span class="number">06</span> <span class="number">07</span>:<span class="number">38</span>:<span class="number">47.690</span> <span class="number">12155</span>-<span class="number">12155</span>/? E/MainActivity: onNext : <span class="number">2</span></span><br><span class="line"><span class="number">10</span>-<span class="number">06</span> <span class="number">07</span>:<span class="number">38</span>:<span class="number">47.690</span> <span class="number">12155</span>-<span class="number">12155</span>/? E/MainActivity: onNext : <span class="number">1</span></span><br><span class="line"><span class="number">10</span>-<span class="number">06</span> <span class="number">07</span>:<span class="number">38</span>:<span class="number">47.690</span> <span class="number">12155</span>-<span class="number">12155</span>/? E/MainActivity: onNext : <span class="number">2</span></span><br><span class="line"><span class="number">10</span>-<span class="number">06</span> <span class="number">07</span>:<span class="number">38</span>:<span class="number">47.690</span> <span class="number">12155</span>-<span class="number">12155</span>/? E/MainActivity: onComplete</span><br></pre></td></tr></table></figure>

<h2 id="18ã€repeatWhen"><a href="#18ã€repeatWhen" class="headerlink" title="18ã€repeatWhen()"></a>18ã€repeatWhen()</h2><p>è¿”å›ä¸€ä¸ªæ–°çš„è¢«è§‚å¯Ÿè€…æ¥å†³å®šæ˜¯å¦é‡å¤å‘é€äº‹ä»¶ã€‚å¦‚æœæ–°çš„è¢«è§‚å¯Ÿè€…è¿”å› <code>onComplete</code> æˆ–è€… <code>onError</code> äº‹ä»¶ï¼Œåˆ™æ—§çš„è¢«è§‚å¯Ÿè€…ä¸ä¼šå‘é€äº‹ä»¶ã€‚å¦‚æœæ–°çš„è¢«è§‚å¯Ÿè€…è¿”å›å…¶ä»–äº‹ä»¶ï¼Œåˆ™æ—§çš„è§‚å¯Ÿè€…ä¼šå‘é€äº‹ä»¶</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br></pre></td><td class="code"><pre><span class="line">Observable.create(<span class="keyword">new</span> <span class="title class_">ObservableOnSubscribe</span>&lt;Integer&gt;() &#123;</span><br><span class="line">            <span class="meta">@Override</span></span><br><span class="line">            <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">subscribe</span><span class="params">(ObservableEmitter&lt;Integer&gt; e)</span> <span class="keyword">throws</span> Exception &#123;</span><br><span class="line">                e.onNext(<span class="number">1</span>);</span><br><span class="line">                e.onNext(<span class="number">2</span>);</span><br><span class="line">                e.onNext(<span class="number">3</span>);</span><br><span class="line">                e.onComplete();</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;).repeatWhen(<span class="keyword">new</span> <span class="title class_">Function</span>&lt;Observable&lt;Object&gt;, ObservableSource&lt;?&gt;&gt;() &#123;</span><br><span class="line">            <span class="meta">@Override</span></span><br><span class="line">            <span class="keyword">public</span> ObservableSource&lt;?&gt; apply(Observable&lt;Object&gt; objectObservable) <span class="keyword">throws</span> Exception &#123;</span><br><span class="line"><span class="comment">//                return Observable.empty();</span></span><br><span class="line"><span class="comment">//                return Observable.error(new Exception(&quot;Normal Exception&quot;));</span></span><br><span class="line"><span class="comment">//                return Observable.just(1);</span></span><br><span class="line">            &#125;</span><br><span class="line">        &#125;).subscribe(<span class="keyword">new</span> <span class="title class_">Observer</span>&lt;Integer&gt;() &#123;</span><br><span class="line"></span><br><span class="line">            <span class="meta">@Override</span></span><br><span class="line">            <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">onSubscribe</span><span class="params">(Disposable d)</span> &#123;</span><br><span class="line">                Log.e(TAG, <span class="string">&quot;onSubscribe&quot;</span>);</span><br><span class="line">            &#125;</span><br><span class="line"></span><br><span class="line">            <span class="meta">@Override</span></span><br><span class="line">            <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">onNext</span><span class="params">(Integer integer)</span> &#123;</span><br><span class="line">                Log.e(TAG, <span class="string">&quot;onNext : &quot;</span> + integer);</span><br><span class="line">            &#125;</span><br><span class="line"></span><br><span class="line">            <span class="meta">@Override</span></span><br><span class="line">            <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">onError</span><span class="params">(Throwable e)</span> &#123;</span><br><span class="line">                Log.e(TAG, <span class="string">&quot;onError : &quot;</span> + e.getMessage());</span><br><span class="line">            &#125;</span><br><span class="line"></span><br><span class="line">            <span class="meta">@Override</span></span><br><span class="line">            <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">onComplete</span><span class="params">()</span> &#123;</span><br><span class="line">                Log.e(TAG, <span class="string">&quot;onComplete&quot;</span>);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;);</span><br></pre></td></tr></table></figure>

<p>ä»¥ä¸Šä¸‰ç§æƒ…å†µçš„è¾“å‡ºç»“æœåˆ†åˆ«æ˜¯</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="number">10</span>-<span class="number">06</span> <span class="number">14</span>:<span class="number">29</span>:<span class="number">05.641</span> <span class="number">20921</span>-<span class="number">20921</span>/leavesc.hello.rxjavademo E/MainActivity: onSubscribe</span><br><span class="line"><span class="number">10</span>-<span class="number">06</span> <span class="number">14</span>:<span class="number">29</span>:<span class="number">05.641</span> <span class="number">20921</span>-<span class="number">20921</span>/leavesc.hello.rxjavademo E/MainActivity: onComplete</span><br></pre></td></tr></table></figure>

<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="number">10</span>-<span class="number">06</span> <span class="number">14</span>:<span class="number">29</span>:<span class="number">36.150</span> <span class="number">21027</span>-<span class="number">21027</span>/? E/MainActivity: onSubscribe</span><br><span class="line"><span class="number">10</span>-<span class="number">06</span> <span class="number">14</span>:<span class="number">29</span>:<span class="number">36.150</span> <span class="number">21027</span>-<span class="number">21027</span>/? E/MainActivity: onError : Normal Exception</span><br></pre></td></tr></table></figure>

<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="number">10</span>-<span class="number">06</span> <span class="number">14</span>:<span class="number">30</span>:<span class="number">33.220</span> <span class="number">21135</span>-<span class="number">21135</span>/leavesc.hello.rxjavademo E/MainActivity: onSubscribe</span><br><span class="line"><span class="number">10</span>-<span class="number">06</span> <span class="number">14</span>:<span class="number">30</span>:<span class="number">33.220</span> <span class="number">21135</span>-<span class="number">21135</span>/leavesc.hello.rxjavademo E/MainActivity: onNext : <span class="number">1</span></span><br><span class="line"><span class="number">10</span>-<span class="number">06</span> <span class="number">14</span>:<span class="number">30</span>:<span class="number">33.220</span> <span class="number">21135</span>-<span class="number">21135</span>/leavesc.hello.rxjavademo E/MainActivity: onNext : <span class="number">2</span></span><br><span class="line"><span class="number">10</span>-<span class="number">06</span> <span class="number">14</span>:<span class="number">30</span>:<span class="number">33.220</span> <span class="number">21135</span>-<span class="number">21135</span>/leavesc.hello.rxjavademo E/MainActivity: onNext : <span class="number">3</span></span><br><span class="line"><span class="number">10</span>-<span class="number">06</span> <span class="number">14</span>:<span class="number">30</span>:<span class="number">33.220</span> <span class="number">21135</span>-<span class="number">21135</span>/leavesc.hello.rxjavademo E/MainActivity: onComplete</span><br></pre></td></tr></table></figure>

<h2 id="19ã€subscribeOn-observeOn"><a href="#19ã€subscribeOn-observeOn" class="headerlink" title="19ã€subscribeOn() &amp; observeOn()"></a>19ã€subscribeOn() &amp; observeOn()</h2><p><code>subscribeOn()</code> ç”¨äºæŒ‡å®šè¢«è§‚å¯Ÿè€…çš„çº¿ç¨‹ï¼Œè¦æ³¨æ„çš„æ—¶ï¼Œå¦‚æœå¤šæ¬¡è°ƒç”¨æ­¤æ–¹æ³•ï¼Œåªæœ‰ç¬¬ä¸€æ¬¡æœ‰æ•ˆ</p>
<p><code>observeOn()</code> ç”¨äºæŒ‡å®šè§‚å¯Ÿè€…çš„çº¿ç¨‹ï¼Œæ¯æŒ‡å®šä¸€æ¬¡å°±ä¼šç”Ÿæ•ˆä¸€æ¬¡</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line">Observable.create(<span class="keyword">new</span> <span class="title class_">ObservableOnSubscribe</span>&lt;Integer&gt;() &#123;</span><br><span class="line">            <span class="meta">@Override</span></span><br><span class="line">            <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">subscribe</span><span class="params">(ObservableEmitter&lt;Integer&gt; emitter)</span> <span class="keyword">throws</span> Exception &#123;</span><br><span class="line">                Log.e(TAG, <span class="string">&quot;Observable Thread Name:  &quot;</span> + Thread.currentThread().getName());</span><br><span class="line">                emitter.onNext(<span class="number">1</span>);</span><br><span class="line">                emitter.onNext(<span class="number">2</span>);</span><br><span class="line">                emitter.onComplete();</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;).subscribeOn(Schedulers.newThread()).observeOn(AndroidSchedulers.mainThread()).subscribe(<span class="keyword">new</span> <span class="title class_">Observer</span>&lt;Integer&gt;() &#123;</span><br><span class="line"></span><br><span class="line">            <span class="meta">@Override</span></span><br><span class="line">            <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">onSubscribe</span><span class="params">(Disposable d)</span> &#123;</span><br><span class="line">                Log.e(TAG, <span class="string">&quot;onSubscribe&quot;</span>);</span><br><span class="line">                Log.e(TAG, <span class="string">&quot;Observer Thread Name:  &quot;</span> + Thread.currentThread().getName());</span><br><span class="line">            &#125;</span><br><span class="line"></span><br><span class="line">            <span class="meta">@Override</span></span><br><span class="line">            <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">onNext</span><span class="params">(Integer integer)</span> &#123;</span><br><span class="line">                Log.e(TAG, <span class="string">&quot;onNext : &quot;</span> + integer);</span><br><span class="line">            &#125;</span><br><span class="line"></span><br><span class="line">            <span class="meta">@Override</span></span><br><span class="line">            <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">onError</span><span class="params">(Throwable e)</span> &#123;</span><br><span class="line">                Log.e(TAG, <span class="string">&quot;onError : &quot;</span> + e.getMessage());</span><br><span class="line">            &#125;</span><br><span class="line"></span><br><span class="line">            <span class="meta">@Override</span></span><br><span class="line">            <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">onComplete</span><span class="params">()</span> &#123;</span><br><span class="line">                Log.e(TAG, <span class="string">&quot;onComplete&quot;</span>);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;);</span><br></pre></td></tr></table></figure>

<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="number">10</span>-<span class="number">06</span> <span class="number">07</span>:<span class="number">54</span>:<span class="number">02.839</span> <span class="number">12629</span>-<span class="number">12629</span>/leavesc.hello.rxjavademo E/MainActivity: onSubscribe</span><br><span class="line"><span class="number">10</span>-<span class="number">06</span> <span class="number">07</span>:<span class="number">54</span>:<span class="number">02.839</span> <span class="number">12629</span>-<span class="number">12629</span>/leavesc.hello.rxjavademo E/MainActivity: Observer Thread Name:  main</span><br><span class="line"><span class="number">10</span>-<span class="number">06</span> <span class="number">07</span>:<span class="number">54</span>:<span class="number">02.839</span> <span class="number">12629</span>-<span class="number">12643</span>/leavesc.hello.rxjavademo E/MainActivity: Observable Thread Name:  RxNewThreadScheduler-<span class="number">1</span></span><br><span class="line"><span class="number">10</span>-<span class="number">06</span> <span class="number">07</span>:<span class="number">54</span>:<span class="number">02.859</span> <span class="number">12629</span>-<span class="number">12629</span>/leavesc.hello.rxjavademo E/MainActivity: onNext : <span class="number">1</span></span><br><span class="line"><span class="number">10</span>-<span class="number">06</span> <span class="number">07</span>:<span class="number">54</span>:<span class="number">02.869</span> <span class="number">12629</span>-<span class="number">12629</span>/leavesc.hello.rxjavademo E/MainActivity: onNext : <span class="number">2</span></span><br><span class="line"><span class="number">10</span>-<span class="number">06</span> <span class="number">07</span>:<span class="number">54</span>:<span class="number">02.869</span> <span class="number">12629</span>-<span class="number">12629</span>/leavesc.hello.rxjavademo E/MainActivity: onComplete</span><br></pre></td></tr></table></figure>

<table>
<thead>
<tr>
<th>è°ƒåº¦å™¨</th>
<th>ä½œç”¨</th>
</tr>
</thead>
<tbody><tr>
<td>Schedulers.computation(â€¯)</td>
<td>ç”¨äºä½¿ç”¨è®¡ç®—ä»»åŠ¡ï¼Œå¦‚äº‹ä»¶å¾ªç¯å’Œå›è°ƒå¤„ç†</td>
</tr>
<tr>
<td>Schedulers.immediate(â€¯)</td>
<td>å½“å‰çº¿ç¨‹</td>
</tr>
<tr>
<td>Schedulers.io(â€¯)</td>
<td>ç”¨äº IO å¯†é›†å‹ä»»åŠ¡ï¼Œå¦‚æœå¼‚æ­¥é˜»å¡ IO æ“ä½œã€‚</td>
</tr>
<tr>
<td>Schedulers.newThread(â€¯)</td>
<td>åˆ›å»ºä¸€ä¸ªæ–°çš„çº¿ç¨‹</td>
</tr>
<tr>
<td>AndroidSchedulers.mainThread()</td>
<td>Android çš„ UI çº¿ç¨‹ï¼Œç”¨äºæ“ä½œ UIã€‚</td>
</tr>
</tbody></table>
<h1 id="å…­ã€è¿‡æ»¤æ“ä½œç¬¦"><a href="#å…­ã€è¿‡æ»¤æ“ä½œç¬¦" class="headerlink" title="å…­ã€è¿‡æ»¤æ“ä½œç¬¦"></a>å…­ã€è¿‡æ»¤æ“ä½œç¬¦</h1><h2 id="1ã€filter"><a href="#1ã€filter" class="headerlink" title="1ã€filter()"></a>1ã€filter()</h2><p>é€šè¿‡ä¸€å®šé€»è¾‘æ¥è¿‡æ»¤è¢«è§‚å¯Ÿè€…å‘é€çš„äº‹ä»¶ï¼Œå¦‚æœè¿”å› <code>true</code> åˆ™ä¼šå‘é€äº‹ä»¶ï¼Œå¦åˆ™ä¸ä¼šå‘é€</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">Observable.just(<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>).filter(<span class="keyword">new</span> <span class="title class_">Predicate</span>&lt;Integer&gt;() &#123;</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> <span class="type">boolean</span> <span class="title function_">test</span><span class="params">(Integer integer)</span> <span class="keyword">throws</span> Exception &#123;</span><br><span class="line">        <span class="keyword">return</span> integer % <span class="number">2</span> == <span class="number">0</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;).subscribe(<span class="keyword">new</span> <span class="title class_">Consumer</span>&lt;Integer&gt;() &#123;</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">accept</span><span class="params">(Integer integer)</span> <span class="keyword">throws</span> Exception &#123;</span><br><span class="line">        Log.e(TAG, <span class="string">&quot;accept : &quot;</span> + integer);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>

<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="number">10</span>-<span class="number">06</span> <span class="number">07</span>:<span class="number">57</span>:<span class="number">48.196</span> <span class="number">12753</span>-<span class="number">12753</span>/? E/MainActivity: accept : <span class="number">2</span></span><br><span class="line"><span class="number">10</span>-<span class="number">06</span> <span class="number">07</span>:<span class="number">57</span>:<span class="number">48.196</span> <span class="number">12753</span>-<span class="number">12753</span>/? E/MainActivity: accept : <span class="number">4</span></span><br></pre></td></tr></table></figure>

<h2 id="2ã€ofType"><a href="#2ã€ofType" class="headerlink" title="2ã€ofType()"></a>2ã€ofType()</h2><p>è¿‡æ»¤ä¸ç¬¦åˆè¯¥ç±»å‹çš„äº‹ä»¶</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">Observable.just(<span class="number">1</span>, <span class="number">2</span>, <span class="string">&quot;Hi&quot;</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="string">&quot;Hello&quot;</span>).ofType(Integer.class).subscribe(<span class="keyword">new</span> <span class="title class_">Consumer</span>&lt;Integer&gt;() &#123;</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">accept</span><span class="params">(Integer integer)</span> <span class="keyword">throws</span> Exception &#123;</span><br><span class="line">        Log.e(TAG, <span class="string">&quot;accept : &quot;</span> + integer);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>

<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="number">10</span>-<span class="number">06</span> <span class="number">07</span>:<span class="number">59</span>:<span class="number">41.265</span> <span class="number">12857</span>-<span class="number">12857</span>/leavesc.hello.rxjavademo E/MainActivity: accept : <span class="number">1</span></span><br><span class="line"><span class="number">10</span>-<span class="number">06</span> <span class="number">07</span>:<span class="number">59</span>:<span class="number">41.265</span> <span class="number">12857</span>-<span class="number">12857</span>/leavesc.hello.rxjavademo E/MainActivity: accept : <span class="number">2</span></span><br><span class="line"><span class="number">10</span>-<span class="number">06</span> <span class="number">07</span>:<span class="number">59</span>:<span class="number">41.265</span> <span class="number">12857</span>-<span class="number">12857</span>/leavesc.hello.rxjavademo E/MainActivity: accept : <span class="number">3</span></span><br><span class="line"><span class="number">10</span>-<span class="number">06</span> <span class="number">07</span>:<span class="number">59</span>:<span class="number">41.265</span> <span class="number">12857</span>-<span class="number">12857</span>/leavesc.hello.rxjavademo E/MainActivity: accept : <span class="number">4</span></span><br></pre></td></tr></table></figure>

<h2 id="3ã€skip"><a href="#3ã€skip" class="headerlink" title="3ã€skip()"></a>3ã€skip()</h2><p>ä»¥æ­£åºè·³è¿‡æŒ‡å®šæ•°é‡çš„äº‹ä»¶</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">Observable.just(<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>).skip(<span class="number">2</span>).subscribe(<span class="keyword">new</span> <span class="title class_">Consumer</span>&lt;Integer&gt;() &#123;</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">accept</span><span class="params">(Integer integer)</span> <span class="keyword">throws</span> Exception &#123;</span><br><span class="line">        Log.e(TAG, <span class="string">&quot;accept : &quot;</span> + integer);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>

<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="number">10</span>-<span class="number">06</span> 08:<span class="number">01</span>:<span class="number">09.183</span> <span class="number">12971</span>-<span class="number">12971</span>/leavesc.hello.rxjavademo E/MainActivity: accept : <span class="number">3</span></span><br><span class="line"><span class="number">10</span>-<span class="number">06</span> 08:<span class="number">01</span>:<span class="number">09.183</span> <span class="number">12971</span>-<span class="number">12971</span>/leavesc.hello.rxjavademo E/MainActivity: accept : <span class="number">4</span></span><br></pre></td></tr></table></figure>

<h2 id="4ã€skipLast"><a href="#4ã€skipLast" class="headerlink" title="4ã€skipLast()"></a>4ã€skipLast()</h2><p>ä»¥ååºè·³è¿‡æŒ‡å®šæ•°é‡çš„äº‹ä»¶</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">Observable.just(<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>).skipLast(<span class="number">2</span>).subscribe(<span class="keyword">new</span> <span class="title class_">Consumer</span>&lt;Integer&gt;() &#123;</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">accept</span><span class="params">(Integer integer)</span> <span class="keyword">throws</span> Exception &#123;</span><br><span class="line">        Log.e(TAG, <span class="string">&quot;accept : &quot;</span> + integer);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>

<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="number">10</span>-<span class="number">06</span> 08:<span class="number">02</span>:<span class="number">00.753</span> <span class="number">13079</span>-<span class="number">13079</span>/leavesc.hello.rxjavademo E/MainActivity: accept : <span class="number">1</span></span><br><span class="line"><span class="number">10</span>-<span class="number">06</span> 08:<span class="number">02</span>:<span class="number">00.753</span> <span class="number">13079</span>-<span class="number">13079</span>/leavesc.hello.rxjavademo E/MainActivity: accept : <span class="number">2</span></span><br></pre></td></tr></table></figure>

<h2 id="5ã€distinct"><a href="#5ã€distinct" class="headerlink" title="5ã€distinct()"></a>5ã€distinct()</h2><p>è¿‡æ»¤äº‹ä»¶åºåˆ—ä¸­çš„é‡å¤äº‹ä»¶</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">Observable.just(<span class="number">1</span>, <span class="number">2</span>, <span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">3</span>).distinct().subscribe(<span class="keyword">new</span> <span class="title class_">Consumer</span>&lt;Integer&gt;() &#123;</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">accept</span><span class="params">(Integer integer)</span> <span class="keyword">throws</span> Exception &#123;</span><br><span class="line">        Log.e(TAG, <span class="string">&quot;accept : &quot;</span> + integer);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>

<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="number">10</span>-<span class="number">06</span> 08:<span class="number">03</span>:<span class="number">27.402</span> <span class="number">13189</span>-<span class="number">13189</span>/leavesc.hello.rxjavademo E/MainActivity: accept : <span class="number">1</span></span><br><span class="line"><span class="number">10</span>-<span class="number">06</span> 08:<span class="number">03</span>:<span class="number">27.402</span> <span class="number">13189</span>-<span class="number">13189</span>/leavesc.hello.rxjavademo E/MainActivity: accept : <span class="number">2</span></span><br><span class="line"><span class="number">10</span>-<span class="number">06</span> 08:<span class="number">03</span>:<span class="number">27.402</span> <span class="number">13189</span>-<span class="number">13189</span>/leavesc.hello.rxjavademo E/MainActivity: accept : <span class="number">3</span></span><br><span class="line"><span class="number">10</span>-<span class="number">06</span> 08:<span class="number">03</span>:<span class="number">27.402</span> <span class="number">13189</span>-<span class="number">13189</span>/leavesc.hello.rxjavademo E/MainActivity: accept : <span class="number">4</span></span><br></pre></td></tr></table></figure>

<h2 id="6ã€distinctUntilChanged"><a href="#6ã€distinctUntilChanged" class="headerlink" title="6ã€distinctUntilChanged()"></a>6ã€distinctUntilChanged()</h2><p>è¿‡æ»¤æ‰è¿ç»­é‡å¤çš„äº‹ä»¶</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">Observable.just(<span class="number">1</span>, <span class="number">2</span>, <span class="number">2</span>, <span class="number">1</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">3</span>, <span class="number">3</span>).distinctUntilChanged().subscribe(<span class="keyword">new</span> <span class="title class_">Consumer</span>&lt;Integer&gt;() &#123;</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">accept</span><span class="params">(Integer integer)</span> <span class="keyword">throws</span> Exception &#123;</span><br><span class="line">        Log.e(TAG, <span class="string">&quot;accept : &quot;</span> + integer);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>

<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="number">10</span>-<span class="number">06</span> 08:<span class="number">04</span>:<span class="number">44.531</span> <span class="number">13294</span>-<span class="number">13294</span>/leavesc.hello.rxjavademo E/MainActivity: accept : <span class="number">1</span></span><br><span class="line"><span class="number">10</span>-<span class="number">06</span> 08:<span class="number">04</span>:<span class="number">44.541</span> <span class="number">13294</span>-<span class="number">13294</span>/leavesc.hello.rxjavademo E/MainActivity: accept : <span class="number">2</span></span><br><span class="line"><span class="number">10</span>-<span class="number">06</span> 08:<span class="number">04</span>:<span class="number">44.541</span> <span class="number">13294</span>-<span class="number">13294</span>/leavesc.hello.rxjavademo E/MainActivity: accept : <span class="number">1</span></span><br><span class="line"><span class="number">10</span>-<span class="number">06</span> 08:<span class="number">04</span>:<span class="number">44.541</span> <span class="number">13294</span>-<span class="number">13294</span>/leavesc.hello.rxjavademo E/MainActivity: accept : <span class="number">3</span></span><br><span class="line"><span class="number">10</span>-<span class="number">06</span> 08:<span class="number">04</span>:<span class="number">44.541</span> <span class="number">13294</span>-<span class="number">13294</span>/leavesc.hello.rxjavademo E/MainActivity: accept : <span class="number">4</span></span><br><span class="line"><span class="number">10</span>-<span class="number">06</span> 08:<span class="number">04</span>:<span class="number">44.541</span> <span class="number">13294</span>-<span class="number">13294</span>/leavesc.hello.rxjavademo E/MainActivity: accept : <span class="number">3</span></span><br></pre></td></tr></table></figure>

<h2 id="7ã€take"><a href="#7ã€take" class="headerlink" title="7ã€take()"></a>7ã€take()</h2><p>æ§åˆ¶è§‚å¯Ÿè€…æ¥æ”¶äº‹ä»¶çš„æ•°é‡</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">Observable.just(<span class="number">1</span>, <span class="number">2</span>, <span class="number">2</span>, <span class="number">1</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">3</span>, <span class="number">3</span>).take(<span class="number">3</span>).subscribe(<span class="keyword">new</span> <span class="title class_">Consumer</span>&lt;Integer&gt;() &#123;</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">accept</span><span class="params">(Integer integer)</span> <span class="keyword">throws</span> Exception &#123;</span><br><span class="line">        Log.e(TAG, <span class="string">&quot;accept : &quot;</span> + integer);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>

<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="number">10</span>-<span class="number">06</span> 08:<span class="number">05</span>:<span class="number">43.520</span> <span class="number">13397</span>-<span class="number">13397</span>/? E/MainActivity: accept : <span class="number">1</span></span><br><span class="line"><span class="number">10</span>-<span class="number">06</span> 08:<span class="number">05</span>:<span class="number">43.520</span> <span class="number">13397</span>-<span class="number">13397</span>/? E/MainActivity: accept : <span class="number">2</span></span><br><span class="line"><span class="number">10</span>-<span class="number">06</span> 08:<span class="number">05</span>:<span class="number">43.520</span> <span class="number">13397</span>-<span class="number">13397</span>/? E/MainActivity: accept : <span class="number">2</span></span><br></pre></td></tr></table></figure>

<h2 id="8ã€debounce"><a href="#8ã€debounce" class="headerlink" title="8ã€debounce()"></a>8ã€debounce()</h2><p>å¦‚æœä¸¤ä¸ªäº‹ä»¶å‘é€çš„æ—¶é—´é—´éš”å°äºè®¾å®šçš„æ—¶é—´é—´éš”ï¼Œåˆ™å‰ä¸€ä»¶äº‹ä»¶ä¸ä¼šå‘é€ç»™è§‚å¯Ÿè€…</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">Observable.create(<span class="keyword">new</span> <span class="title class_">ObservableOnSubscribe</span>&lt;Integer&gt;() &#123;</span><br><span class="line">           <span class="meta">@Override</span></span><br><span class="line">           <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">subscribe</span><span class="params">(ObservableEmitter&lt;Integer&gt; emitter)</span> <span class="keyword">throws</span> Exception &#123;</span><br><span class="line">               emitter.onNext(<span class="number">1</span>);</span><br><span class="line">               Thread.sleep(<span class="number">900</span>);</span><br><span class="line">               emitter.onNext(<span class="number">2</span>);</span><br><span class="line">           &#125;</span><br><span class="line">       &#125;).debounce(<span class="number">1</span>, TimeUnit.SECONDS).subscribe(<span class="keyword">new</span> <span class="title class_">Consumer</span>&lt;Integer&gt;() &#123;</span><br><span class="line">           <span class="meta">@Override</span></span><br><span class="line">           <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">accept</span><span class="params">(Integer integer)</span> <span class="keyword">throws</span> Exception &#123;</span><br><span class="line">               Log.e(TAG, <span class="string">&quot;accept : &quot;</span> + integer);</span><br><span class="line">           &#125;</span><br><span class="line">       &#125;);</span><br></pre></td></tr></table></figure>

<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="number">10</span>-<span class="number">06</span> 08:08:<span class="number">59.337</span> <span class="number">13509</span>-<span class="number">13523</span>/leavesc.hello.rxjavademo E/MainActivity: accept : <span class="number">2</span></span><br></pre></td></tr></table></figure>

<h2 id="9ã€firstElement-lastElement"><a href="#9ã€firstElement-lastElement" class="headerlink" title="9ã€firstElement() &amp;&amp; lastElement()"></a>9ã€firstElement() &amp;&amp; lastElement()</h2><p><code>firstElement()</code> å–äº‹ä»¶åºåˆ—çš„ç¬¬ä¸€ä¸ªå…ƒç´ ï¼Œ<code>lastElement()</code> å–äº‹ä»¶åºåˆ—çš„æœ€åä¸€ä¸ªå…ƒç´ </p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">Observable.just(<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>).firstElement().subscribe(<span class="keyword">new</span> <span class="title class_">Consumer</span>&lt;Integer&gt;() &#123;</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">accept</span><span class="params">(Integer integer)</span> <span class="keyword">throws</span> Exception &#123;</span><br><span class="line">        Log.e(TAG, <span class="string">&quot;accept : &quot;</span> + integer);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>

<h2 id="10ã€elementAt-elementAtOrError"><a href="#10ã€elementAt-elementAtOrError" class="headerlink" title="10ã€elementAt() &amp; elementAtOrError()"></a>10ã€elementAt() &amp; elementAtOrError()</h2><p><code>elementAt()</code> å¯ä»¥æŒ‡å®šå–å‡ºäº‹ä»¶åºåˆ—ä¸­äº‹ä»¶ï¼Œä½†æ˜¯è¾“å…¥çš„ <code>index</code> è¶…å‡ºäº‹ä»¶åºåˆ—çš„æ€»æ•°çš„è¯å°±ä¸ä¼šè§¦å‘ä»»ä½•è°ƒç”¨ï¼Œæƒ³è§¦å‘å¼‚å¸¸ä¿¡æ¯çš„è¯å°±ç”¨ <code>elementAtOrError()</code> </p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">Observable.just(<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>).elementAt(<span class="number">5</span>).subscribe(<span class="keyword">new</span> <span class="title class_">Consumer</span>&lt;Integer&gt;() &#123;</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">accept</span><span class="params">(Integer integer)</span> <span class="keyword">throws</span> Exception &#123;</span><br><span class="line">        Log.e(TAG, <span class="string">&quot;accept : &quot;</span> + integer);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>

<p>ä»¥ä¸Šä»£ç ä¸ä¼šè§¦å‘ä»»ä½•</p>
<p>æ”¹ç”¨ä¸º <code>elementAtOrError()</code>ï¼Œåˆ™ä¼šæŠ›å‡ºå¼‚å¸¸</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">Observable.just(<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>).elementAtOrError(<span class="number">5</span>).subscribe(<span class="keyword">new</span> <span class="title class_">Consumer</span>&lt;Integer&gt;() &#123;</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">accept</span><span class="params">(Integer integer)</span> <span class="keyword">throws</span> Exception &#123;</span><br><span class="line">        Log.e(TAG, <span class="string">&quot;accept : &quot;</span> + integer);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>

<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">Process: leavesc.hello.rxjavademo, PID: <span class="number">13948</span></span><br><span class="line">    io.reactivex.exceptions.OnErrorNotImplementedException: The exception was not handled due to missing onError handler in the <span class="title function_">subscribe</span><span class="params">()</span> method call. Further reading: https:<span class="comment">//github.com/ReactiveX/RxJava/wiki/Error-Handling | null</span></span><br><span class="line">        at io.reactivex.internal.functions.Functions$OnErrorMissingConsumer.accept(Functions.java:<span class="number">704</span>)</span><br><span class="line">        at io.reactivex.internal.functions.Functions$OnErrorMissingConsumer.accept(Functions.java:<span class="number">701</span>)</span><br><span class="line">        at io.reactivex.internal.observers.ConsumerSingleObserver.onError(ConsumerSingleObserver.java:<span class="number">46</span>)</span><br><span class="line">        at io.reactivex.internal.operators.observable.ObservableElementAtSingle$ElementAtObserver.onComplete(ObservableElementAtSingle.java:<span class="number">115</span>)</span><br><span class="line">        at io.reactivex.internal.operators.observable.ObservableFromArray$FromArrayDisposable.run(ObservableFromArray.java:<span class="number">111</span>)</span><br><span class="line">        at io.reactivex.internal.operators.observable.ObservableFromArray.subscribeActual(ObservableFromArray.java:<span class="number">37</span>)</span><br><span class="line">        at io.reactivex.Observable.subscribe(Observable.java:<span class="number">12090</span>)</span><br><span class="line">        at io.reactivex.internal.operators.observable.ObservableElementAtSingle.subscribeActual(ObservableElementAtSingle.java:<span class="number">37</span>)</span><br><span class="line">        at io.reactivex.Single.subscribe(Single.java:<span class="number">3438</span>)</span><br><span class="line">        at io.reactivex.Single.subscribe(Single.java:<span class="number">3424</span>)</span><br></pre></td></tr></table></figure>

<h1 id="ä¸ƒã€æ¡ä»¶æ“ä½œç¬¦"><a href="#ä¸ƒã€æ¡ä»¶æ“ä½œç¬¦" class="headerlink" title="ä¸ƒã€æ¡ä»¶æ“ä½œç¬¦"></a>ä¸ƒã€æ¡ä»¶æ“ä½œç¬¦</h1><h2 id="1ã€all"><a href="#1ã€all" class="headerlink" title="1ã€all()"></a>1ã€all()</h2><p>åˆ¤æ–­äº‹ä»¶åºåˆ—æ˜¯å¦å…¨éƒ¨æ»¡è¶³æŸä¸ªäº‹ä»¶ï¼Œå¦‚æœéƒ½æ»¡è¶³åˆ™è¿”å› <code>true</code>ï¼Œåä¹‹åˆ™è¿”å› <code>false</code></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">Observable.just(<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>).all(<span class="keyword">new</span> <span class="title class_">Predicate</span>&lt;Integer&gt;() &#123;</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> <span class="type">boolean</span> <span class="title function_">test</span><span class="params">(Integer integer)</span> <span class="keyword">throws</span> Exception &#123;</span><br><span class="line">        <span class="keyword">return</span> integer % <span class="number">2</span> == <span class="number">0</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;).subscribe(<span class="keyword">new</span> <span class="title class_">Consumer</span>&lt;Boolean&gt;() &#123;</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">accept</span><span class="params">(Boolean aBoolean)</span> <span class="keyword">throws</span> Exception &#123;</span><br><span class="line">        Log.e(TAG, <span class="string">&quot;accept: &quot;</span> + aBoolean);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>

<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="number">10</span>-<span class="number">06</span> 08:<span class="number">16</span>:<span class="number">10.212</span> <span class="number">14043</span>-<span class="number">14043</span>/leavesc.hello.rxjavademo E/MainActivity: accept: <span class="literal">false</span></span><br></pre></td></tr></table></figure>

<h2 id="2ã€takeWhile"><a href="#2ã€takeWhile" class="headerlink" title="2ã€takeWhile()"></a>2ã€takeWhile()</h2><p>å‘å°„åŸå§‹ <code>Observable</code>ï¼Œç›´åˆ°æŒ‡å®šçš„æŸä¸ªæ¡ä»¶ä¸æˆç«‹çš„é‚£ä¸€åˆ»ï¼Œå®ƒåœæ­¢å‘å°„åŸå§‹ <code>Observable</code>ï¼Œå¹¶ç»ˆæ­¢è‡ªå·±çš„ <code>Observable</code></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">Observable.just(<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>, <span class="number">1</span>, <span class="number">2</span>).takeWhile(<span class="keyword">new</span> <span class="title class_">Predicate</span>&lt;Integer&gt;() &#123;</span><br><span class="line">            <span class="meta">@Override</span></span><br><span class="line">            <span class="keyword">public</span> <span class="type">boolean</span> <span class="title function_">test</span><span class="params">(Integer integer)</span> <span class="keyword">throws</span> Exception &#123;</span><br><span class="line">                <span class="keyword">return</span> integer &lt; <span class="number">4</span>;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;).subscribe(<span class="keyword">new</span> <span class="title class_">Consumer</span>&lt;Integer&gt;() &#123;</span><br><span class="line">            <span class="meta">@Override</span></span><br><span class="line">            <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">accept</span><span class="params">(Integer integer)</span> <span class="keyword">throws</span> Exception &#123;</span><br><span class="line">                Log.e(TAG, <span class="string">&quot;accept: &quot;</span> + integer);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;);</span><br></pre></td></tr></table></figure>

<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="number">10</span>-<span class="number">06</span> <span class="number">14</span>:<span class="number">03</span>:<span class="number">42.110</span> <span class="number">20095</span>-<span class="number">20095</span>/leavesc.hello.rxjavademo E/MainActivity: accept: <span class="number">1</span></span><br><span class="line"><span class="number">10</span>-<span class="number">06</span> <span class="number">14</span>:<span class="number">03</span>:<span class="number">42.110</span> <span class="number">20095</span>-<span class="number">20095</span>/leavesc.hello.rxjavademo E/MainActivity: accept: <span class="number">2</span></span><br><span class="line"><span class="number">10</span>-<span class="number">06</span> <span class="number">14</span>:<span class="number">03</span>:<span class="number">42.110</span> <span class="number">20095</span>-<span class="number">20095</span>/leavesc.hello.rxjavademo E/MainActivity: accept: <span class="number">3</span></span><br></pre></td></tr></table></figure>

<h2 id="3ã€skipWhile"><a href="#3ã€skipWhile" class="headerlink" title="3ã€skipWhile()"></a>3ã€skipWhile()</h2><p>è®¢é˜…åŸå§‹çš„ <code>Observable</code>ï¼Œä½†æ˜¯å¿½ç•¥å®ƒçš„å‘å°„ç‰©ï¼Œç›´åˆ°æŒ‡å®šçš„æŸä¸ªæ¡ä»¶å˜ä¸º false æ—¶æ‰å¼€å§‹å‘å°„åŸå§‹ Observable</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">Observable.just(<span class="number">1</span>, <span class="number">2</span>, <span class="number">4</span>, <span class="number">1</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>, <span class="number">1</span>, <span class="number">5</span>)</span><br><span class="line">             .skipWhile(<span class="keyword">new</span> <span class="title class_">Predicate</span>&lt;Integer&gt;() &#123;</span><br><span class="line">                 <span class="meta">@Override</span></span><br><span class="line">                 <span class="keyword">public</span> <span class="type">boolean</span> <span class="title function_">test</span><span class="params">(Integer integer)</span> <span class="keyword">throws</span> Exception &#123;</span><br><span class="line">                     <span class="keyword">return</span> integer &lt; <span class="number">3</span>;</span><br><span class="line">                 &#125;</span><br><span class="line">             &#125;)</span><br><span class="line">             .subscribe(<span class="keyword">new</span> <span class="title class_">Consumer</span>&lt;Integer&gt;() &#123;</span><br><span class="line">                 <span class="meta">@Override</span></span><br><span class="line">                 <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">accept</span><span class="params">(Integer integer)</span> <span class="keyword">throws</span> Exception &#123;</span><br><span class="line">                     Log.e(TAG, <span class="string">&quot;integer &quot;</span> + integer);</span><br><span class="line">                 &#125;</span><br><span class="line">             &#125;);</span><br></pre></td></tr></table></figure>

<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="number">10</span>-<span class="number">06</span> <span class="number">13</span>:<span class="number">59</span>:<span class="number">40.583</span> <span class="number">19764</span>-<span class="number">19764</span>/leavesc.hello.rxjavademo E/MainActivity: integer <span class="number">4</span></span><br><span class="line"><span class="number">10</span>-<span class="number">06</span> <span class="number">13</span>:<span class="number">59</span>:<span class="number">40.593</span> <span class="number">19764</span>-<span class="number">19764</span>/leavesc.hello.rxjavademo E/MainActivity: integer <span class="number">1</span></span><br><span class="line"><span class="number">10</span>-<span class="number">06</span> <span class="number">13</span>:<span class="number">59</span>:<span class="number">40.593</span> <span class="number">19764</span>-<span class="number">19764</span>/leavesc.hello.rxjavademo E/MainActivity: integer <span class="number">3</span></span><br><span class="line"><span class="number">10</span>-<span class="number">06</span> <span class="number">13</span>:<span class="number">59</span>:<span class="number">40.593</span> <span class="number">19764</span>-<span class="number">19764</span>/leavesc.hello.rxjavademo E/MainActivity: integer <span class="number">4</span></span><br><span class="line"><span class="number">10</span>-<span class="number">06</span> <span class="number">13</span>:<span class="number">59</span>:<span class="number">40.593</span> <span class="number">19764</span>-<span class="number">19764</span>/leavesc.hello.rxjavademo E/MainActivity: integer <span class="number">5</span></span><br><span class="line"><span class="number">10</span>-<span class="number">06</span> <span class="number">13</span>:<span class="number">59</span>:<span class="number">40.593</span> <span class="number">19764</span>-<span class="number">19764</span>/leavesc.hello.rxjavademo E/MainActivity: integer <span class="number">1</span></span><br><span class="line"><span class="number">10</span>-<span class="number">06</span> <span class="number">13</span>:<span class="number">59</span>:<span class="number">40.593</span> <span class="number">19764</span>-<span class="number">19764</span>/leavesc.hello.rxjavademo E/MainActivity: integer <span class="number">5</span></span><br></pre></td></tr></table></figure>

<h2 id="4ã€takeUntil"><a href="#4ã€takeUntil" class="headerlink" title="4ã€takeUntil()"></a>4ã€takeUntil()</h2><p>ç”¨äºè®¾ç½®ä¸€ä¸ªæ¡ä»¶ï¼Œå½“äº‹ä»¶æ»¡è¶³æ­¤æ¡ä»¶æ—¶ï¼Œæ­¤äº‹ä»¶ä¼šè¢«å‘é€ï¼Œä½†ä¹‹åçš„äº‹ä»¶å°±ä¸ä¼šè¢«å‘é€äº†</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">Observable.just(<span class="number">1</span>, <span class="number">2</span>, <span class="number">4</span>, <span class="number">1</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>, <span class="number">1</span>, <span class="number">5</span>)</span><br><span class="line">                .takeUntil(<span class="keyword">new</span> <span class="title class_">Predicate</span>&lt;Integer&gt;() &#123;</span><br><span class="line">                    <span class="meta">@Override</span></span><br><span class="line">                    <span class="keyword">public</span> <span class="type">boolean</span> <span class="title function_">test</span><span class="params">(Integer integer)</span> <span class="keyword">throws</span> Exception &#123;</span><br><span class="line">                        <span class="keyword">return</span> integer &gt; <span class="number">3</span>;</span><br><span class="line">                    &#125;</span><br><span class="line">                &#125;)</span><br><span class="line">                .subscribe(<span class="keyword">new</span> <span class="title class_">Consumer</span>&lt;Integer&gt;() &#123;</span><br><span class="line">                    <span class="meta">@Override</span></span><br><span class="line">                    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">accept</span><span class="params">(Integer integer)</span> <span class="keyword">throws</span> Exception &#123;</span><br><span class="line">                        Log.e(TAG, <span class="string">&quot;integer &quot;</span> + integer);</span><br><span class="line">                    &#125;</span><br><span class="line">                &#125;);</span><br></pre></td></tr></table></figure>

<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="number">10</span>-<span class="number">06</span> 08:<span class="number">54</span>:<span class="number">24.833</span> <span class="number">17208</span>-<span class="number">17208</span>/? E/MainActivity: integer <span class="number">1</span></span><br><span class="line"><span class="number">10</span>-<span class="number">06</span> 08:<span class="number">54</span>:<span class="number">24.833</span> <span class="number">17208</span>-<span class="number">17208</span>/? E/MainActivity: integer <span class="number">2</span></span><br><span class="line"><span class="number">10</span>-<span class="number">06</span> 08:<span class="number">54</span>:<span class="number">24.833</span> <span class="number">17208</span>-<span class="number">17208</span>/? E/MainActivity: integer <span class="number">4</span></span><br></pre></td></tr></table></figure>

<h2 id="5ã€skipUntil"><a href="#5ã€skipUntil" class="headerlink" title="5ã€skipUntil()"></a>5ã€skipUntil()</h2><p>å½“ <code>skipUntil()</code> ä¸­çš„ <code>Observable</code> å‘é€äº‹ä»¶äº†ï¼ŒåŸå§‹çš„ <code>Observable</code> æ‰ä¼šå‘é€äº‹ä»¶ç»™è§‚å¯Ÿè€…</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line">Observable.intervalRange(<span class="number">1</span>, <span class="number">6</span>, <span class="number">0</span>, <span class="number">1</span>, TimeUnit.SECONDS)</span><br><span class="line">                .skipUntil(Observable.intervalRange(<span class="number">10</span>, <span class="number">3</span>, <span class="number">1</span>, <span class="number">1</span>, TimeUnit.SECONDS))</span><br><span class="line">                .subscribe(<span class="keyword">new</span> <span class="title class_">Observer</span>&lt;Long&gt;() &#123;</span><br><span class="line">                    <span class="meta">@Override</span></span><br><span class="line">                    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">onSubscribe</span><span class="params">(Disposable d)</span> &#123;</span><br><span class="line">                        Log.e(TAG, <span class="string">&quot;onSubscribe&quot;</span>);</span><br><span class="line">                    &#125;</span><br><span class="line"></span><br><span class="line">                    <span class="meta">@Override</span></span><br><span class="line">                    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">onNext</span><span class="params">(Long along)</span> &#123;</span><br><span class="line">                        Log.e(TAG, <span class="string">&quot;onNext : &quot;</span> + along);</span><br><span class="line">                    &#125;</span><br><span class="line"></span><br><span class="line">                    <span class="meta">@Override</span></span><br><span class="line">                    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">onError</span><span class="params">(Throwable e)</span> &#123;</span><br><span class="line">                        Log.e(TAG, <span class="string">&quot;onError&quot;</span>);</span><br><span class="line">                    &#125;</span><br><span class="line"></span><br><span class="line">                    <span class="meta">@Override</span></span><br><span class="line">                    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">onComplete</span><span class="params">()</span> &#123;</span><br><span class="line">                        Log.e(TAG, <span class="string">&quot;onComplete&quot;</span>);</span><br><span class="line">                    &#125;</span><br><span class="line">                &#125;);</span><br></pre></td></tr></table></figure>

<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="number">10</span>-<span class="number">06</span> 08:<span class="number">51</span>:<span class="number">16.926</span> <span class="number">16877</span>-<span class="number">16877</span>/leavesc.hello.rxjavademo E/MainActivity: onSubscribe</span><br><span class="line"><span class="number">10</span>-<span class="number">06</span> 08:<span class="number">51</span>:<span class="number">17.946</span> <span class="number">16877</span>-<span class="number">16892</span>/leavesc.hello.rxjavademo E/MainActivity: onNext : <span class="number">2</span></span><br><span class="line"><span class="number">10</span>-<span class="number">06</span> 08:<span class="number">51</span>:<span class="number">18.936</span> <span class="number">16877</span>-<span class="number">16892</span>/leavesc.hello.rxjavademo E/MainActivity: onNext : <span class="number">3</span></span><br><span class="line"><span class="number">10</span>-<span class="number">06</span> 08:<span class="number">51</span>:<span class="number">19.946</span> <span class="number">16877</span>-<span class="number">16892</span>/leavesc.hello.rxjavademo E/MainActivity: onNext : <span class="number">4</span></span><br><span class="line"><span class="number">10</span>-<span class="number">06</span> 08:<span class="number">51</span>:<span class="number">20.936</span> <span class="number">16877</span>-<span class="number">16892</span>/leavesc.hello.rxjavademo E/MainActivity: onNext : <span class="number">5</span></span><br><span class="line"><span class="number">10</span>-<span class="number">06</span> 08:<span class="number">51</span>:<span class="number">21.946</span> <span class="number">16877</span>-<span class="number">16892</span>/leavesc.hello.rxjavademo E/MainActivity: onNext : <span class="number">6</span></span><br><span class="line"><span class="number">10</span>-<span class="number">06</span> 08:<span class="number">51</span>:<span class="number">21.946</span> <span class="number">16877</span>-<span class="number">16892</span>/leavesc.hello.rxjavademo E/MainActivity: onComplete</span><br></pre></td></tr></table></figure>

<h2 id="6ã€sequenceEqual"><a href="#6ã€sequenceEqual" class="headerlink" title="6ã€sequenceEqual()"></a>6ã€sequenceEqual()</h2><p>åˆ¤æ–­ä¸¤ä¸ª <code>Observable</code> å‘é€çš„äº‹ä»¶æ˜¯å¦ç›¸åŒï¼Œå¦‚æœä¸¤ä¸ªåºåˆ—æ˜¯ç›¸åŒçš„ï¼ˆç›¸åŒçš„æ•°æ®ï¼Œç›¸åŒçš„é¡ºåºï¼Œç›¸åŒçš„ç»ˆæ­¢çŠ¶æ€ï¼‰ï¼Œå®ƒå°±å‘å°„ trueï¼Œå¦åˆ™å‘å°„ false</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">Observable.sequenceEqual(Observable.just(<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>), Observable.just(<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>))</span><br><span class="line">        .subscribe(<span class="keyword">new</span> <span class="title class_">Consumer</span>&lt;Boolean&gt;() &#123;</span><br><span class="line">            <span class="meta">@Override</span></span><br><span class="line">            <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">accept</span><span class="params">(Boolean aBoolean)</span> <span class="keyword">throws</span> Exception &#123;</span><br><span class="line">                Log.e(TAG, <span class="string">&quot;accept aBoolean : &quot;</span> + aBoolean);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;);</span><br></pre></td></tr></table></figure>

<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="number">10</span>-<span class="number">06</span> 08:<span class="number">46</span>:<span class="number">59.369</span> <span class="number">16492</span>-<span class="number">16492</span>/leavesc.hello.rxjavademo E/MainActivity: accept aBoolean : <span class="literal">true</span></span><br></pre></td></tr></table></figure>

<h2 id="7ã€contains"><a href="#7ã€contains" class="headerlink" title="7ã€contains()"></a>7ã€contains()</h2><p>åˆ¤æ–­äº‹ä»¶åºåˆ—ä¸­æ˜¯å¦å«æœ‰æŸä¸ªå…ƒç´ ï¼Œå¦‚æœæœ‰åˆ™è¿”å› trueï¼Œå¦‚æœæ²¡æœ‰åˆ™è¿”å› false</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">Observable.just(<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>).contains(<span class="number">2</span>).subscribe(<span class="keyword">new</span> <span class="title class_">Consumer</span>&lt;Boolean&gt;() &#123;</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">accept</span><span class="params">(Boolean aBoolean)</span> <span class="keyword">throws</span> Exception &#123;</span><br><span class="line">        Log.e(TAG, <span class="string">&quot;accept aBoolean : &quot;</span> + aBoolean);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>

<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="number">10</span>-<span class="number">06</span> 08:<span class="number">45</span>:<span class="number">58.100</span> <span class="number">16386</span>-<span class="number">16386</span>/leavesc.hello.rxjavademo E/MainActivity: accept aBoolean : <span class="literal">true</span></span><br></pre></td></tr></table></figure>

<h2 id="8ã€isEmpty"><a href="#8ã€isEmpty" class="headerlink" title="8ã€isEmpty()"></a>8ã€isEmpty()</h2><p>åˆ¤æ–­äº‹ä»¶åºåˆ—æ˜¯å¦ä¸ºç©º</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">Observable.create(<span class="keyword">new</span> <span class="title class_">ObservableOnSubscribe</span>&lt;Integer&gt;() &#123;</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">subscribe</span><span class="params">(ObservableEmitter&lt;Integer&gt; emitter)</span> <span class="keyword">throws</span> Exception &#123;</span><br><span class="line">        emitter.onComplete();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;).isEmpty().subscribe(<span class="keyword">new</span> <span class="title class_">Consumer</span>&lt;Boolean&gt;() &#123;</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">accept</span><span class="params">(Boolean aBoolean)</span> <span class="keyword">throws</span> Exception &#123;</span><br><span class="line">        Log.e(TAG, <span class="string">&quot;accept aBoolean: &quot;</span> + aBoolean);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>

<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="number">10</span>-<span class="number">06</span> 08:<span class="number">43</span>:<span class="number">43.201</span> <span class="number">16278</span>-<span class="number">16278</span>/leavesc.hello.rxjavademo E/MainActivity: accept aBoolean: <span class="literal">true</span></span><br></pre></td></tr></table></figure>

<h2 id="9ã€amb"><a href="#9ã€amb" class="headerlink" title="9ã€amb()"></a>9ã€amb()</h2><p><code>amb()</code> æ¥æ”¶ä¸€ä¸ª <code>Observable</code> é›†åˆï¼Œä½†æ˜¯åªä¼šå‘é€æœ€å…ˆå‘é€äº‹ä»¶çš„ <code>Observable</code> ä¸­çš„äº‹ä»¶ï¼Œä¸ç®¡å‘å°„çš„æ˜¯ä¸€é¡¹æ•°æ®è¿˜æ˜¯ä¸€ä¸ª <code>onError</code> æˆ– <code>onCompleted</code> é€šçŸ¥ï¼Œå…¶ä½™ <code>Observable</code> å°†ä¼šè¢«ä¸¢å¼ƒ</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">List&lt;Observable&lt;Long&gt;&gt; list = <span class="keyword">new</span> <span class="title class_">ArrayList</span>&lt;&gt;();</span><br><span class="line">list.add(Observable.intervalRange(<span class="number">1</span>, <span class="number">3</span>, <span class="number">2</span>, <span class="number">1</span>, TimeUnit.SECONDS));</span><br><span class="line">list.add(Observable.intervalRange(<span class="number">10</span>, <span class="number">3</span>, <span class="number">0</span>, <span class="number">1</span>, TimeUnit.SECONDS));</span><br><span class="line">Observable.amb(list).subscribe(<span class="keyword">new</span> <span class="title class_">Consumer</span>&lt;Long&gt;() &#123;</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">accept</span><span class="params">(Long aLong)</span> <span class="keyword">throws</span> Exception &#123;</span><br><span class="line">        Log.e(TAG, <span class="string">&quot;accept: &quot;</span> + aLong);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>

<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="number">10</span>-<span class="number">06</span> 08:<span class="number">41</span>:<span class="number">45.783</span> <span class="number">16053</span>-<span class="number">16068</span>/leavesc.hello.rxjavademo E/MainActivity: accept: <span class="number">10</span></span><br><span class="line"><span class="number">10</span>-<span class="number">06</span> 08:<span class="number">41</span>:<span class="number">46.783</span> <span class="number">16053</span>-<span class="number">16068</span>/leavesc.hello.rxjavademo E/MainActivity: accept: <span class="number">11</span></span><br><span class="line"><span class="number">10</span>-<span class="number">06</span> 08:<span class="number">41</span>:<span class="number">47.783</span> <span class="number">16053</span>-<span class="number">16068</span>/leavesc.hello.rxjavademo E/MainActivity: accept: <span class="number">12</span></span><br></pre></td></tr></table></figure>

<h2 id="10ã€defaultIfEmpty"><a href="#10ã€defaultIfEmpty" class="headerlink" title="10ã€defaultIfEmpty()"></a>10ã€defaultIfEmpty()</h2><p>å¦‚æœ Observable æ²¡æœ‰å‘å°„ä»»ä½•å€¼ï¼Œåˆ™å¯ä»¥åˆ©ç”¨è¿™ä¸ªæ–¹æ³•å‘é€ä¸€ä¸ªé»˜è®¤å€¼</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">Observable.create(<span class="keyword">new</span> <span class="title class_">ObservableOnSubscribe</span>&lt;Integer&gt;() &#123;</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">subscribe</span><span class="params">(ObservableEmitter&lt;Integer&gt; emitter)</span> <span class="keyword">throws</span> Exception &#123;</span><br><span class="line">        emitter.onComplete();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;).defaultIfEmpty(<span class="number">100</span>).subscribe(<span class="keyword">new</span> <span class="title class_">Consumer</span>&lt;Integer&gt;() &#123;</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">accept</span><span class="params">(Integer integer)</span> <span class="keyword">throws</span> Exception &#123;</span><br><span class="line">        Log.e(TAG, <span class="string">&quot;accept: &quot;</span> + integer);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>

<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="number">10</span>-<span class="number">06</span> 08:<span class="number">40</span>:<span class="number">04.754</span> <span class="number">15945</span>-<span class="number">15945</span>/leavesc.hello.rxjavademo E/MainActivity: accept: <span class="number">100</span></span><br></pre></td></tr></table></figure>


  </article>
  <!-- tag -->
  <div class="mt-12 pt-6 border-t border-gray-200">
    
  </div>
  <!-- prev and next -->
  <div class="flex justify-between mt-12 pt-6 border-t border-gray-200">
    <div>
      
        <a href="/hexo-blog/public/2025/03/02/md/kotlin/%E4%B8%80%E6%96%87%E5%BF%AB%E9%80%9F%E5%85%A5%E9%97%A8%20Kotlin%20%E5%8D%8F%E7%A8%8B/" class="text-sm text-gray-400 hover:text-gray-500 flex justify-center">
          <iconify-icon width="20" icon="ri:arrow-left-s-line" data-inline="false"></iconify-icon>
          ä¸€æ–‡å¿«é€Ÿå…¥é—¨ Kotlin åç¨‹
        </a>
      
    </div>
    <div>
      
        <a href="/hexo-blog/public/2025/03/02/md/kotlin/%E4%B8%80%E6%96%87%E8%AF%BB%E6%87%82%20Handler%20%E6%9C%BA%E5%88%B6/" class="text-sm text-gray-400 hover:text-gray-500 flex justify-center">
          ä¸€æ–‡è¯»æ‡‚ Handler æœºåˆ¶
          <iconify-icon width="20" icon="ri:arrow-right-s-line" data-inline="false"></iconify-icon>
        </a>
      
    </div>
  </div>
  <!-- comment -->
  <div class="article-comments mt-12">
    
<script
  src="https://giscus.app/client.js"
  data-repo="hqqich/giscus"
  data-repo-id="R_kgDOOCZUBA"
  data-category="General"
  data-category-id="DIC_kwDOOCZUBM4Cng1l"
  data-mapping="pathname"
  data-strict="0"
  data-reactions-enabled="1"
  data-emit-metadata="0"
  data-input-position="bottom"
  data-theme="preferred_color_scheme"
  data-lang="zh-CN"
  crossorigin="anonymous"
  async
></script>
<script>
  window.onload = function () {
    console.log("giscus loaded");
    const isDark = document.documentElement.classList.contains("dark");
    const giscusFrame = document.querySelector("iframe.giscus-frame");
    giscusFrame.contentWindow.postMessage(
      {
        giscus: {
          setConfig: {
            theme: isDark ? "dark" : "light",
          },
        },
      },
      "https://giscus.app"
    );
  };
</script>


  </div>
</section>
<!-- js inspect -->

<script src="/hexo-blog/public/lib/clipboard.min.js"></script>


<script async src="https://cdn.jsdelivr.net/npm/mathjax@2/MathJax.js?config=TeX-MML-AM_CHTML"></script>
<script type="text/x-mathjax-config">
  MathJax.Hub.Config({
    "HTML-CSS": {
        preferredFont: "TeX",
        availableFonts: ["STIX","TeX"],
        linebreaks: { automatic:true },
        EqnChunk: (MathJax.Hub.Browser.isMobile ? 10 : 50)
    },
    tex2jax: {
        inlineMath: [ ["$", "$"], ["\\(","\\)"] ],
        processEscapes: true,
        ignoreClass: "tex2jax_ignore|dno",
        skipTags: ['script', 'noscript', 'style', 'textarea', 'pre', 'code']
    },
    TeX: {
        equationNumbers: { autoNumber: "AMS" },
        noUndefined: { attributes: { mathcolor: "red", mathbackground: "#FFEEEE", mathsize: "90%" } },
        Macros: { href: "{}" }
    },
    messageStyle: "none"
  });
</script>
<script type="text/x-mathjax-config">
  MathJax.Hub.Queue(function() {
      var all = MathJax.Hub.getAllJax(), i;
      for (i=0; i < all.length; i += 1) {
          all[i].SourceElement().parentNode.className += ' has-jax';
      }
  });
</script>



<script src="https://cdn.jsdelivr.net/npm/mermaid/dist/mermaid.min.js"></script>
<script>
  $(document).ready(() => {
    const maraidConfig = {
      theme: "default",
      logLevel: 3,
      flowchart: { curve: "linear" },
      gantt: { axisFormat: "%m/%d/%Y" },
      sequence: { actorMargin: 50 },
    };
    mermaid.initialize(maraidConfig);
  });
</script>



<script src="/hexo-blog/public/lib/fancybox/fancybox.umd.min.js"></script>

<script>
  $(document).ready(() => {
    $('.post-content').each(function(i){
      $(this).find('img').each(function(){
        if ($(this).parent().hasClass('fancybox') || $(this).parent().is('a')) return;
        var alt = this.alt;
        if (alt) $(this).after('<span class="fancybox-alt">' + alt + '</span>');
        $(this).wrap('<a class="fancybox-img" href="' + this.src + '" data-fancybox=\"gallery\" data-caption="' + alt + '"></a>')
      });
      $(this).find('.fancybox').each(function(){
        $(this).attr('rel', 'article' + i);
      });
    });

    Fancybox.bind('[data-fancybox="gallery"]', {
        // options
    })
  })
</script>

<!-- tocbot begin -->

<script src="/hexo-blog/public/lib/tocbot/tocbot.min.js"></script>

<script>
  $(document).ready(() => {
      tocbot.init({
        // Where to render the table of contents.
        tocSelector: '.post-toc',
        // Where to grab the headings to build the table of contents.
        contentSelector: '.post-content',
        // Which headings to grab inside of the contentSelector element.
        headingSelector: 'h1, h2, h3',
        // For headings inside relative or absolute positioned containers within content.
        hasInnerContainers: true,
    });
  })
</script>
<!-- tocbot end -->


  </main>
  <footer class="flex flex-col h-40 items-center justify-center text-gray-400 text-sm">
  <!-- busuanzi -->
  
<script async src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script>
<!-- Busuanzi Analytics -->
<div class="flex items-center gap-2">
  <span>Visitors</span>
  <span id="busuanzi_value_site_uv"></span>
  <span>Page Views</span>
  <span id="busuanzi_value_site_pv"></span>
</div>
<!-- End Busuanzi Analytics -->


  <!-- copyright -->
  <div class="flex items-center gap-2">
    <a target="_blank" href="https://creativecommons.org/licenses/by-nc-sa/4.0/" style="color: inherit;">CC BY-NC-SA 4.0</a>
    <span>Â© 2022</span>
    <iconify-icon width="18" icon="emojione-monotone:maple-leaf" ></iconify-icon>
    <a href="https://github.com/xbmlz" target="_blank" rel="noopener noreferrer">xbmlz</a>
  </div>
  <!-- powered by -->
  <div class="flex items-center gap-2">
    <span>Powered by</span>
    <a href="https://hexo.io/" target="_blank" rel="noopener noreferrer">Hexo</a>
    <span>&</span>
    <a href="https://github.com/xbmlz/hexo-theme-maple" target="_blank" rel="noopener noreferrer">Maple</a>
  </div>

</footer>

  <div class="back-to-top box-border fixed right-6 z-1024 -bottom-20 rounded py-1 px-1 bg-slate-900 opacity-60 text-white cursor-pointer text-center dark:bg-slate-600">
    <span class="flex justify-center items-center text-sm">
      <iconify-icon width="18" icon="ion:arrow-up-c" id="go-top"></iconify-icon>
      <span id="scrollpercent"><span>0</span> %</span>
    </span>
  </div>
  
<script src="/hexo-blog/public/js/main.js"></script>


  <script>
    $(document).ready(function () {
      const mapleCount = "10";
      const speed = "0.5";
      const mapleEl = document.getElementById("maple");
      const maples = Array.from({ length: mapleCount }).map(() => {
        const maple = document.createElement("div");
        const scale = Math.random() * 0.5 + 0.5;
        const offset = Math.random() * 2 - 1;
        const x = Math.random() * mapleEl.clientWidth;
        const y = -Math.random() * mapleEl.clientHeight;
        const duration = 10 / speed;
        const delay = -duration;
        maple.className = "maple";
        maple.style.width = `${24 * scale}px`;
        maple.style.height = `${24 * scale}px`;
        maple.style.left = `${x}px`;
        maple.style.top = `${y}px`;
        maple.style.setProperty("--maple-fall-offset", offset);
        maple.style.setProperty("--maple-fall-height", `${Math.abs(y) + mapleEl.clientHeight}px`);
        maple.style.animation = `fall ${duration}s linear infinite`;
        maple.style.animationDelay = `${delay}s`;
        mapleEl.appendChild(maple)
        return maple
      })
    });
  </script>
  


  <div class="fixed top-0 bottom-0 left-0 right-0 pointer-events-none print:hidden" id="maple"></div>
</body>

</html>
