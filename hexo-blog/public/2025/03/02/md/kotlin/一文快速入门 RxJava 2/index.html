<!DOCTYPE html>
<html lang="zh">
<head>
  <meta charset="UTF-8">

<!-- Global site tag (gtag.js) - Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id=G-EHXM4GYP5W"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());
  gtag('config', 'G-EHXM4GYP5W');
</script>
<!-- End Google Analytics -->



<!-- Baidu Analytics -->
<script>
  var _hmt = _hmt || [];
  (function() {
    var hm = document.createElement("script");
    hm.src = "https://hm.baidu.com/hm.js?0a6515fb9c839d6a56d4cfd8b7d243d4";
    var s = document.getElementsByTagName("script")[0];
    s.parentNode.insertBefore(hm, s);
  })();
</script>
<!-- End Baidu Analytics -->


<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0">
<meta http-equiv="X-UA-Compatible" content="ie=edge">

  <meta name="author" content="hqqich">


  <meta name="subtitle" content="忙碌把时光缩短, 苦难把岁月拉长">




<title>一文快速入门 RxJava 2 | Hexo-blog</title>



<link rel="icon" href="/hexo-blog/public/favicon.ico">



<link rel="stylesheet" href="/hexo-blog/public/css/main.css">


<link rel="stylesheet" href="/hexo-blog/public/lib/nprogress/nprogress.css">



<script src="/hexo-blog/public/lib/jquery.min.js"></script>


<script src="/hexo-blog/public/lib/iconify-icon.min.js"></script>


<script src="https://cdn.tailwindcss.com?plugins=typography"></script>
<script>
  tailwind.config = {
    darkMode: "class",
  };
</script>


<script src="/hexo-blog/public/lib/nprogress/nprogress.js"></script>

<script>
  $(document).ready(() => {
    NProgress.configure({
      showSpinner: false,
    });
    NProgress.start();
    $("#nprogress .bar").css({
      background: "#de7441",
    });
    $("#nprogress .peg").css({
      "box-shadow": "0 0 2px #de7441, 0 0 4px #de7441",
    });
    $("#nprogress .spinner-icon").css({
      "border-top-color": "#de7441",
      "border-left-color": "#de7441",
    });
    setTimeout(function () {
      NProgress.done();
      $(".fade").removeClass("out");
    }, 800);
  });
</script>

<script>
  (function () {
    const prefersDark =
      window.matchMedia &&
      window.matchMedia("(prefers-color-scheme: dark)").matches;
    const setting = localStorage.getItem("hexo-color-scheme") || "auto";
    if (setting === "dark" || (prefersDark && setting !== "light"))
      document.documentElement.classList.toggle("dark", true);
    let isDark = document.documentElement.classList.contains("dark");
  })();

  $(document).ready(function () {
    // init icon
    const prefersDark =
      window.matchMedia &&
      window.matchMedia("(prefers-color-scheme: dark)").matches;
    const isDark = document.documentElement.classList.contains("dark");
    $("#theme-icon").attr("icon", isDark ? "ri:moon-line" : "ri:sun-line");

    function toggleGiscusTheme() {
      const isDark = document.documentElement.classList.contains("dark");
      const giscusFrame = document.querySelector("iframe.giscus-frame");
      if (giscusFrame) {
        giscusFrame.contentWindow.postMessage(
          {
            giscus: {
              setConfig: {
                theme: isDark ? "dark" : "light",
              },
            },
          },
          "https://giscus.app"
        );
      }
    }

    // toggle dark mode
    function toggleDark() {
      let isDark = document.documentElement.classList.contains("dark");
      const setting = localStorage.getItem("hexo-color-scheme") || "auto";
      isDark = !isDark;
      document.documentElement.classList.toggle("dark", isDark);
      $("#theme-icon").attr("icon", isDark ? "ri:moon-line" : "ri:sun-line");
      if (prefersDark === isDark) {
        localStorage.setItem("hexo-color-scheme", "auto");
      } else {
        localStorage.setItem("hexo-color-scheme", isDark ? "dark" : "light");
      }
      toggleGiscusTheme();
    }

    // listen dark mode change
    window
      .matchMedia("(prefers-color-scheme: dark)")
      .addEventListener("change", (e) => {
        const setting = localStorage.getItem("hexo-color-scheme") || "auto";
        if (setting === "auto") {
          document.documentElement.classList.toggle("dark", e.matches);
          $("#theme-icon").attr(
            "icon",
            e.matches ? "ri:moon-line" : "ri:sun-line"
          );
          toggleGiscusTheme();
        }
      });

    $("#toggle-dark").click((event) => {
      const isAppearanceTransition = document.startViewTransition && !window.matchMedia('(prefers-reduced-motion: reduce)').matches
      if (!isAppearanceTransition) {
        toggleDark()
        return
      }
      const x = event.clientX
      const y = event.clientY
      const endRadius = Math.hypot(
        Math.max(x, innerWidth - x),
        Math.max(y, innerHeight - y),
      )
      const transition = document.startViewTransition(async () => {
        toggleDark()
      })

      transition.ready
        .then(() => {
          const isDark = document.documentElement.classList.contains("dark")
          const clipPath = [
            `circle(0px at ${x}px ${y}px)`,
            `circle(${endRadius}px at ${x}px ${y}px)`,
          ]
          document.documentElement.animate(
            {
              clipPath: isDark
                ? [...clipPath].reverse()
                : clipPath,
            },
            {
              duration: 400,
              easing: 'ease-out',
              pseudoElement: isDark
                ? '::view-transition-old(root)'
                : '::view-transition-new(root)',
            },
          )
        })
    });
  });
</script>




<meta name="generator" content="Hexo 7.3.0"></head>
<body class="font-sans bg-white dark:bg-zinc-900 text-gray-700 dark:text-gray-200 relative">
  <header class="fixed w-full px-5 py-1 z-10 backdrop-blur-xl backdrop-saturate-150 border-b border-black/5">
  <div class="max-auto">
    <nav class="flex items-center text-base">
      <a href="/hexo-blog/public/" class="group">
        <h2 class="font-medium tracking-tighterp text-l p-2">
          <img class="w-5 mr-2 inline-block transition-transform group-hover:rotate-[30deg]" id="logo" src="https://moe-counter-vercel-gamma.vercel.app/a?theme=rule34" alt="Hexo-blog" />
          Hexo-blog
        </h2>
      </a>
      <div id="header-title" class="opacity-0 md:ml-2 md:mt-[0.1rem] text-xs font-medium whitespace-nowrap overflow-hidden overflow-ellipsis">
        一文快速入门 RxJava 2
      </div>
      <div class="flex-1"></div>
      <div class="flex items-center gap-3">
        
          <a class="hidden sm:flex" href="/hexo-blog/public/archives">Posts</a>
        
          <a class="hidden sm:flex" href="/hexo-blog/public/category">Categories</a>
        
          <a class="hidden sm:flex" href="/hexo-blog/public/tag">Tags</a>
        
        
          
            <a class="w-5 h-5 hidden sm:flex" title="Github" target="_blank" rel="noopener" href="https://github.com/hqqich">
              <iconify-icon width="20" icon="ri:github-line"></iconify-icon>
            </a>
          
        
        <a class="w-5 h-5 hidden sm:flex" title="Github" href="rss2.xml">
          <iconify-icon width="20" icon="ri:rss-line"></iconify-icon>
        </a>
        <a class="w-5 h-5" title="toggle theme" id="toggle-dark">
          <iconify-icon width="20" icon="" id="theme-icon"></iconify-icon>
        </a>
      </div>
      <div class="flex items-center justify-center gap-3 ml-3 sm:hidden">
        <span class="w-5 h-5" aria-hidden="true" role="img" id="open-menu">
          <iconify-icon width="20" icon="carbon:menu" ></iconify-icon>
        </span>
        <span class="w-5 h-5 hidden" aria-hidden="true" role="img" id="close-menu">
          <iconify-icon  width="20" icon="carbon:close" ></iconify-icon>
        </span>
      </div>
    </nav>
  </div>
</header>
<div id="menu-panel" class="h-0 overflow-hidden sm:hidden fixed left-0 right-0 top-12 bottom-0 z-10">
  <div id="menu-content" class="relative z-20 bg-white/80 px-6 sm:px-8 py-2 backdrop-blur-xl -translate-y-full transition-transform duration-300">
    <ul class="nav flex flex-col sm:flex-row text-sm font-medium">
      
        <li class="nav-portfolio sm:mx-2 border-b sm:border-0 border-black/5 last:border-0 hover:text-main">
          <a href="/hexo-blog/public/archives" class="flex h-12 sm:h-auto items-center">Posts</a>
        </li>
      
        <li class="nav-portfolio sm:mx-2 border-b sm:border-0 border-black/5 last:border-0 hover:text-main">
          <a href="/hexo-blog/public/category" class="flex h-12 sm:h-auto items-center">Categories</a>
        </li>
      
        <li class="nav-portfolio sm:mx-2 border-b sm:border-0 border-black/5 last:border-0 hover:text-main">
          <a href="/hexo-blog/public/tag" class="flex h-12 sm:h-auto items-center">Tags</a>
        </li>
      
    </ul>
  </div>
  <div class="mask bg-black/20 absolute inset-0"></div>
</div>

  <main class="pt-14">
    <!-- css -->

<link rel="stylesheet" href="/hexo-blog/public/lib/fancybox/fancybox.min.css">


<link rel="stylesheet" href="/hexo-blog/public/lib/tocbot/tocbot.min.css">

<!-- toc -->

  <!-- tocbot -->
<nav class="post-toc toc text-sm w-48 relative top-32 right-0 opacity-70 hidden lg:block" style="position: fixed !important;"></nav>


<section class="px-6 max-w-prose mx-auto md:px-0">
  <!-- header -->
  <header class="overflow-hidden pt-6 pb-6 md:pt-12">
    <div class="pt-4 md:pt-6">
      <h1 id="article-title" class="text-[2rem] font-bold leading-snug mb-4 md:mb-6 md:text-[2.6rem]">
        一文快速入门 RxJava 2
      </h1>
      <div>
        <section class="flex items-center gap-3 text-sm">
          <span class="flex items-center gap-1">
            <iconify-icon width="18" icon="carbon-calendar" ></iconify-icon>
            <time>2025-03-02</time>
          </span>
          <span class="text-gray-400">·</span>
          <span class="flex items-center gap-1">
            <iconify-icon width="18" icon="ic:round-access-alarm" ></iconify-icon>
            <span>62 min</span>
          </span>
          <span class="text-gray-400">·</span>
          <span class="flex items-center gap-1">
            <iconify-icon width="18" icon="icon-park-outline:font-search" ></iconify-icon>
            <span>11.4k words</span>
          </span>
          
            <span class="text-gray-400">·</span>
            <span class="flex items-center gap-1">
              <iconify-icon width="16" icon="icon-park-outline:box" class="mr-2"></iconify-icon>
              <a class="article-category-link" href="/hexo-blog/public/categories/kotlin/">kotlin</a>
            </span>
          
        </section>
      </div>
    </div>
  </header>
  <!-- content -->
  <article class="post-content prose m-auto slide-enter-content dark:prose-invert">
    <blockquote>
<p>公众号：<a target="_blank" rel="noopener" href="https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/adbc507fc3704fd8955aae739a433db2~tplv-k3u1fbpfcp-zoom-1.image">字节数组</a></p>
<p>希望对你有所帮助 🤣🤣</p>
</blockquote>
<h1 id="一、概述"><a href="#一、概述" class="headerlink" title="一、概述"></a>一、概述</h1><p>在 RxJava 中，一个实现了 <code>Observer</code> 接口的对象可以订阅一个 <code>Observable</code> 类的实例。订阅者对 <code>Observable</code> 发射的任何数据或数据序列作出响应。这种模式简化了并发操作，因为它不需要阻塞等待 <code>Observable</code> 发射数据，而是创建了一个处于待命状态的观察者哨兵，哨兵在未来某个时刻响应 <code>Observable</code> 的通知。RxJava 提供了一套异步编程的 API，并且支持链式调用，所以使用 RxJava 编写的代码的逻辑会非常简洁</p>
<p>RxJava 有以下三个最基本的元素：</p>
<ol>
<li>被观察者（Observable）</li>
<li>观察者（Observer）</li>
<li>订阅（subscribe）</li>
</ol>
<p>创建被观察者</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">Observable&lt;Integer&gt; observable = Observable.create(<span class="keyword">new</span> <span class="title class_">ObservableOnSubscribe</span>&lt;Integer&gt;() &#123;</span><br><span class="line">          <span class="meta">@Override</span></span><br><span class="line">          <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">subscribe</span><span class="params">(ObservableEmitter&lt;Integer&gt; e)</span> &#123;</span><br><span class="line">              Log.e(TAG, <span class="string">&quot;subscribe&quot;</span>);</span><br><span class="line">              Log.e(TAG, <span class="string">&quot;currentThread name: &quot;</span> + Thread.currentThread().getName());</span><br><span class="line">              e.onNext(<span class="number">1</span>);</span><br><span class="line">              e.onNext(<span class="number">2</span>);</span><br><span class="line">              e.onNext(<span class="number">3</span>);</span><br><span class="line">              e.onComplete();</span><br><span class="line">          &#125;</span><br><span class="line">      &#125;);</span><br></pre></td></tr></table></figure>

<p>创建观察者</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line">Observer&lt;Integer&gt; observer = <span class="keyword">new</span> <span class="title class_">Observer</span>&lt;Integer&gt;() &#123;</span><br><span class="line">          <span class="meta">@Override</span></span><br><span class="line">          <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">onSubscribe</span><span class="params">(Disposable d)</span> &#123;</span><br><span class="line">              Log.e(TAG, <span class="string">&quot;onSubscribe&quot;</span>);</span><br><span class="line">          &#125;</span><br><span class="line"></span><br><span class="line">          <span class="meta">@Override</span></span><br><span class="line">          <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">onNext</span><span class="params">(Integer integer)</span> &#123;</span><br><span class="line">              Log.e(TAG, <span class="string">&quot;onNext: &quot;</span> + integer);</span><br><span class="line">          &#125;</span><br><span class="line"></span><br><span class="line">          <span class="meta">@Override</span></span><br><span class="line">          <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">onError</span><span class="params">(Throwable e)</span> &#123;</span><br><span class="line">              Log.e(TAG, <span class="string">&quot;onError: &quot;</span> + e.getMessage());</span><br><span class="line">          &#125;</span><br><span class="line"></span><br><span class="line">          <span class="meta">@Override</span></span><br><span class="line">          <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">onComplete</span><span class="params">()</span> &#123;</span><br><span class="line">              Log.e(TAG, <span class="string">&quot;onComplete&quot;</span>);</span><br><span class="line">          &#125;</span><br><span class="line">      &#125;;</span><br></pre></td></tr></table></figure>

<p>完成观察者与被观察者之间的订阅关系</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">observable.subscribe(observer);</span><br></pre></td></tr></table></figure>

<p>也可以以链式调用的方式来完成订阅</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line">Observable.create(<span class="keyword">new</span> <span class="title class_">ObservableOnSubscribe</span>&lt;Integer&gt;() &#123;</span><br><span class="line">          <span class="meta">@Override</span></span><br><span class="line">          <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">subscribe</span><span class="params">(ObservableEmitter&lt;Integer&gt; e)</span> &#123;</span><br><span class="line">              Log.e(TAG, <span class="string">&quot;subscribe&quot;</span>);</span><br><span class="line">              Log.e(TAG, <span class="string">&quot;currentThread name: &quot;</span> + Thread.currentThread().getName());</span><br><span class="line">              e.onNext(<span class="number">1</span>);</span><br><span class="line">              e.onNext(<span class="number">2</span>);</span><br><span class="line">              e.onNext(<span class="number">3</span>);</span><br><span class="line">              e.onComplete();</span><br><span class="line">          &#125;</span><br><span class="line">      &#125;).subscribe(<span class="keyword">new</span> <span class="title class_">Observer</span>&lt;Integer&gt;() &#123;</span><br><span class="line">          <span class="meta">@Override</span></span><br><span class="line">          <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">onSubscribe</span><span class="params">(Disposable d)</span> &#123;</span><br><span class="line">              Log.e(TAG, <span class="string">&quot;onSubscribe&quot;</span>);</span><br><span class="line">          &#125;</span><br><span class="line"></span><br><span class="line">          <span class="meta">@Override</span></span><br><span class="line">          <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">onNext</span><span class="params">(Integer integer)</span> &#123;</span><br><span class="line">              Log.e(TAG, <span class="string">&quot;onNext: &quot;</span> + integer);</span><br><span class="line">          &#125;</span><br><span class="line"></span><br><span class="line">          <span class="meta">@Override</span></span><br><span class="line">          <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">onError</span><span class="params">(Throwable e)</span> &#123;</span><br><span class="line">              Log.e(TAG, <span class="string">&quot;onError: &quot;</span> + e.getMessage());</span><br><span class="line">          &#125;</span><br><span class="line"></span><br><span class="line">          <span class="meta">@Override</span></span><br><span class="line">          <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">onComplete</span><span class="params">()</span> &#123;</span><br><span class="line">              Log.e(TAG, <span class="string">&quot;onComplete&quot;</span>);</span><br><span class="line">          &#125;</span><br><span class="line">      &#125;);</span><br></pre></td></tr></table></figure>

<p>最终的输出结果是一样的</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">onSubscribe</span><br><span class="line">subscribe</span><br><span class="line">currentThread name: main</span><br><span class="line">onNext: <span class="number">1</span></span><br><span class="line">onNext: <span class="number">2</span></span><br><span class="line">onNext: <span class="number">3</span></span><br><span class="line">onComplete</span><br></pre></td></tr></table></figure>

<p>被观察者发送的事件类型有以下几种</p>
<table>
<thead>
<tr>
<th>事件种类</th>
<th>作用</th>
</tr>
</thead>
<tbody><tr>
<td>onNext()</td>
<td>发送该事件时，观察者会回调 onNext() 方法</td>
</tr>
<tr>
<td>onError()</td>
<td>发送该事件时，观察者会回调 onError() 方法，当发送该事件之后，其他事件将不会继续发送</td>
</tr>
<tr>
<td>onComplete()</td>
<td>发送该事件时，观察者会回调 onComplete() 方法，当发送该事件之后，其他事件将不会继续发送</td>
</tr>
</tbody></table>
<p>下面来讲解 RxJava 中各种常见的操作符</p>
<h1 id="二、创建操作符"><a href="#二、创建操作符" class="headerlink" title="二、创建操作符"></a>二、创建操作符</h1><h2 id="1、create"><a href="#1、create" class="headerlink" title="1、create()"></a>1、create()</h2><p>用于创建一个 <code>Observable</code>。一个正确的 <code>Observable</code> 必须尝试调用观察者的 <code>onCompleted</code> 方法或者 <code>onError</code> 方法<strong>有且仅有一次</strong>，而且此后不能再调用<code>Observable</code> 的任何其它方法</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">Observable&lt;Integer&gt; observable = Observable.create(<span class="keyword">new</span> <span class="title class_">ObservableOnSubscribe</span>&lt;Integer&gt;() &#123;</span><br><span class="line">          <span class="meta">@Override</span></span><br><span class="line">          <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">subscribe</span><span class="params">(ObservableEmitter&lt;Integer&gt; e)</span> &#123;</span><br><span class="line">              Log.e(TAG, <span class="string">&quot;subscribe&quot;</span>);</span><br><span class="line">              Log.e(TAG, <span class="string">&quot;currentThread name: &quot;</span> + Thread.currentThread().getName());</span><br><span class="line">              e.onNext(<span class="number">1</span>);</span><br><span class="line">              e.onNext(<span class="number">2</span>);</span><br><span class="line">              e.onNext(<span class="number">3</span>);</span><br><span class="line">              e.onComplete();</span><br><span class="line">          &#125;</span><br><span class="line">      &#125;);</span><br></pre></td></tr></table></figure>

<h2 id="2、just"><a href="#2、just" class="headerlink" title="2、just()"></a>2、just()</h2><p>创建一个 <code>Observable</code>并发送事件，发送的事件总数不可以超出十个</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line">Observable.just(<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>).subscribe(<span class="keyword">new</span> <span class="title class_">Observer</span>&lt;Integer&gt;() &#123;</span><br><span class="line">          <span class="meta">@Override</span></span><br><span class="line">          <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">onSubscribe</span><span class="params">(Disposable d)</span> &#123;</span><br><span class="line">              Log.e(TAG, <span class="string">&quot;onSubscribe&quot;</span>);</span><br><span class="line">          &#125;</span><br><span class="line"></span><br><span class="line">          <span class="meta">@Override</span></span><br><span class="line">          <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">onNext</span><span class="params">(Integer integer)</span> &#123;</span><br><span class="line">              Log.e(TAG, <span class="string">&quot;onNext: &quot;</span> + integer);</span><br><span class="line">          &#125;</span><br><span class="line"></span><br><span class="line">          <span class="meta">@Override</span></span><br><span class="line">          <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">onError</span><span class="params">(Throwable e)</span> &#123;</span><br><span class="line">              Log.e(TAG, <span class="string">&quot;onError: &quot;</span> + e.getMessage());</span><br><span class="line">          &#125;</span><br><span class="line"></span><br><span class="line">          <span class="meta">@Override</span></span><br><span class="line">          <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">onComplete</span><span class="params">()</span> &#123;</span><br><span class="line">              Log.e(TAG, <span class="string">&quot;onComplete&quot;</span>);</span><br><span class="line">          &#125;</span><br><span class="line">      &#125;);</span><br></pre></td></tr></table></figure>

<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">onSubscribe</span><br><span class="line">onNext: <span class="number">1</span></span><br><span class="line">onNext: <span class="number">2</span></span><br><span class="line">onNext: <span class="number">3</span></span><br><span class="line">onComplete</span><br></pre></td></tr></table></figure>

<h2 id="3、fromArray"><a href="#3、fromArray" class="headerlink" title="3、fromArray"></a>3、fromArray</h2><p>和 <code>just()</code> 类似，但 <code>fromArray</code> 可以传入多于十个的变量，并且可以传入一个数组</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line">Integer[] arrays = <span class="keyword">new</span> <span class="title class_">Integer</span>[]&#123;<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>&#125;;</span><br><span class="line">   Observable.fromArray(arrays).subscribe(<span class="keyword">new</span> <span class="title class_">Observer</span>&lt;Integer&gt;() &#123;</span><br><span class="line">       <span class="meta">@Override</span></span><br><span class="line">       <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">onSubscribe</span><span class="params">(Disposable d)</span> &#123;</span><br><span class="line">           Log.e(TAG, <span class="string">&quot;onSubscribe&quot;</span>);</span><br><span class="line">       &#125;</span><br><span class="line"></span><br><span class="line">       <span class="meta">@Override</span></span><br><span class="line">       <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">onNext</span><span class="params">(Integer integer)</span> &#123;</span><br><span class="line">           Log.e(TAG, <span class="string">&quot;onNext: &quot;</span> + integer);</span><br><span class="line">       &#125;</span><br><span class="line"></span><br><span class="line">       <span class="meta">@Override</span></span><br><span class="line">       <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">onError</span><span class="params">(Throwable e)</span> &#123;</span><br><span class="line">           Log.e(TAG, <span class="string">&quot;onError: &quot;</span> + e.getMessage());</span><br><span class="line">       &#125;</span><br><span class="line"></span><br><span class="line">       <span class="meta">@Override</span></span><br><span class="line">       <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">onComplete</span><span class="params">()</span> &#123;</span><br><span class="line">           Log.e(TAG, <span class="string">&quot;onComplete&quot;</span>);</span><br><span class="line">       &#125;</span><br><span class="line">   &#125;);</span><br></pre></td></tr></table></figure>

<h2 id="4、fromCallable"><a href="#4、fromCallable" class="headerlink" title="4、fromCallable"></a>4、fromCallable</h2><p>这里的 <code>Callable</code> 是指 <code>java.util.concurrent</code> 中的 <code>Callable</code>，<code>Callable</code> 和 <code>Runnable</code> 的用法基本一致，只是它包含一个返回值，这个结果值就是发给观察者的</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">Observable.fromCallable(<span class="keyword">new</span> <span class="title class_">Callable</span>&lt;Integer&gt;() &#123;</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> Integer <span class="title function_">call</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="number">100</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>

<h2 id="5、fromFuture"><a href="#5、fromFuture" class="headerlink" title="5、fromFuture"></a>5、fromFuture</h2><p>这里的 <code>Future</code> 是指 <code>java.util.concurrent</code> 中的 <code>Future</code>，<code>Future</code> 的作用是增加了 <code>cancel()</code> 等方法操作 <code>Callable</code>，它可以通过 <code>get()</code> 方法来获取 <code>Callable</code> 返回的值</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">final</span> FutureTask&lt;Integer&gt; futureTask = <span class="keyword">new</span> <span class="title class_">FutureTask</span>&lt;&gt;(<span class="keyword">new</span> <span class="title class_">Callable</span>&lt;Integer&gt;() &#123;</span><br><span class="line">          <span class="meta">@Override</span></span><br><span class="line">          <span class="keyword">public</span> Integer <span class="title function_">call</span><span class="params">()</span> &#123;</span><br><span class="line">              <span class="keyword">return</span> <span class="number">12</span>;</span><br><span class="line">          &#125;</span><br><span class="line">      &#125;);</span><br><span class="line">      Observable.fromFuture(futureTask).doOnSubscribe(<span class="keyword">new</span> <span class="title class_">Consumer</span>&lt;Disposable&gt;() &#123;</span><br><span class="line">          <span class="meta">@Override</span></span><br><span class="line">          <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">accept</span><span class="params">(Disposable disposable)</span> &#123;</span><br><span class="line">              futureTask.run();</span><br><span class="line">          &#125;</span><br><span class="line">      &#125;).subscribe(<span class="keyword">new</span> <span class="title class_">Consumer</span>&lt;Integer&gt;() &#123;</span><br><span class="line">          <span class="meta">@Override</span></span><br><span class="line">          <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">accept</span><span class="params">(Integer integer)</span> &#123;</span><br><span class="line">              Log.e(TAG, <span class="string">&quot;accept: &quot;</span> + integer);</span><br><span class="line">          &#125;</span><br><span class="line">      &#125;);</span><br></pre></td></tr></table></figure>

<h2 id="6、fromIterable"><a href="#6、fromIterable" class="headerlink" title="6、fromIterable()"></a>6、fromIterable()</h2><p>用于发送一个 <code>List</code> 集合数据给观察者</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">List&lt;Integer&gt; integerList = <span class="keyword">new</span> <span class="title class_">ArrayList</span>&lt;&gt;();</span><br><span class="line">   integerList.add(<span class="number">1</span>);</span><br><span class="line">   integerList.add(<span class="number">2</span>);</span><br><span class="line">   integerList.add(<span class="number">3</span>);</span><br><span class="line">   Observable.fromIterable(integerList).subscribe(<span class="keyword">new</span> <span class="title class_">Consumer</span>&lt;Integer&gt;() &#123;</span><br><span class="line">       <span class="meta">@Override</span></span><br><span class="line">       <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">accept</span><span class="params">(Integer integer)</span> &#123;</span><br><span class="line">           Log.e(TAG, <span class="string">&quot;accept: &quot;</span> + integer);</span><br><span class="line">       &#125;</span><br><span class="line">   &#125;);</span><br></pre></td></tr></table></figure>

<h2 id="7、defer"><a href="#7、defer" class="headerlink" title="7、defer()"></a>7、defer()</h2><p><code>defer</code> 操作符会一直等待直到有观察者订阅它，然后它使用 <code>Observable</code> 工厂方法生成一个 <code>Observable</code>。它对每个观察者都这样做，因此尽管每个订阅者都以为自己订阅的是同一个 <code>Observable</code> ，实际上每个订阅者获取到的都是它们自己的单独的数据序列。在某些情况下，直到发生订阅时才生成 <code>Observable</code> 可以确保 <code>Observable</code> 包含最新的数据</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line">   <span class="comment">//全局变量</span></span><br><span class="line">   <span class="keyword">private</span> <span class="type">Integer</span> <span class="variable">value</span> <span class="operator">=</span> <span class="number">100</span>;</span><br><span class="line"></span><br><span class="line">Observable&lt;Integer&gt; observable = Observable.defer(<span class="keyword">new</span> <span class="title class_">Callable</span>&lt;ObservableSource&lt;? <span class="keyword">extends</span> <span class="title class_">Integer</span>&gt;&gt;() &#123;</span><br><span class="line">           <span class="meta">@Override</span></span><br><span class="line">           <span class="keyword">public</span> ObservableSource&lt;? <span class="keyword">extends</span> <span class="title class_">Integer</span>&gt; call() &#123;</span><br><span class="line">               <span class="keyword">return</span> Observable.just(value);</span><br><span class="line">           &#125;</span><br><span class="line">       &#125;);</span><br><span class="line">       value = <span class="number">200</span>;</span><br><span class="line">       observable.subscribe(<span class="keyword">new</span> <span class="title class_">Consumer</span>&lt;Integer&gt;() &#123;</span><br><span class="line">           <span class="meta">@Override</span></span><br><span class="line">           <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">accept</span><span class="params">(Integer integer)</span> &#123;</span><br><span class="line">               Log.e(TAG, <span class="string">&quot;accept: &quot;</span> + integer);</span><br><span class="line">           &#125;</span><br><span class="line">       &#125;);</span><br><span class="line">       value = <span class="number">300</span>;</span><br><span class="line">       observable.subscribe(<span class="keyword">new</span> <span class="title class_">Consumer</span>&lt;Integer&gt;() &#123;</span><br><span class="line">           <span class="meta">@Override</span></span><br><span class="line">           <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">accept</span><span class="params">(Integer integer)</span> &#123;</span><br><span class="line">               Log.e(TAG, <span class="string">&quot;accept: &quot;</span> + integer);</span><br><span class="line">           &#125;</span><br><span class="line">       &#125;);</span><br></pre></td></tr></table></figure>

<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">accept: <span class="number">200</span></span><br><span class="line">accept: <span class="number">300</span></span><br></pre></td></tr></table></figure>

<p><code>defer()</code> 操作符能使得每次订阅操作都创建被观察者，因此两次订阅操作会创建不同的被观察者对象，因此两次打印操作返回的值并不一样</p>
<h2 id="8、timer"><a href="#8、timer" class="headerlink" title="8、timer()"></a>8、timer()</h2><p>延迟指定时间后会发送一个大小为 <code>0L</code> 的值给观察者</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">Observable.timer(<span class="number">2</span>, TimeUnit.SECONDS)</span><br><span class="line">    .subscribe(<span class="keyword">new</span> <span class="title class_">Consumer</span>&lt;Long&gt;() &#123;</span><br><span class="line">        <span class="meta">@Override</span></span><br><span class="line">        <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">accept</span><span class="params">(Long aLong)</span> &#123;</span><br><span class="line"></span><br><span class="line">        &#125;</span><br><span class="line">    &#125;);</span><br></pre></td></tr></table></figure>

<h2 id="9、interval"><a href="#9、interval" class="headerlink" title="9、interval()"></a>9、interval()</h2><p>每隔一段时间就发送一个事件，传递的值从 0 开始并不断增 1</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">Observable.interval(<span class="number">2</span>, TimeUnit.SECONDS)</span><br><span class="line">       .subscribe(<span class="keyword">new</span> <span class="title class_">Consumer</span>&lt;Long&gt;() &#123;</span><br><span class="line">           <span class="meta">@Override</span></span><br><span class="line">           <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">accept</span><span class="params">(Long aLong)</span> &#123;</span><br><span class="line">               Log.e(TAG, <span class="string">&quot;value is: &quot;</span> + aLong);</span><br><span class="line">           &#125;</span><br><span class="line">       &#125;);</span><br></pre></td></tr></table></figure>

<h2 id="10、intervalRange"><a href="#10、intervalRange" class="headerlink" title="10、intervalRange()"></a>10、intervalRange()</h2><p>可以指定发送事件的开始值和数量，其他与 <code>interval()</code> 的功能一样</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line">Observable.intervalRange(<span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>, TimeUnit.SECONDS)</span><br><span class="line">             .subscribe(<span class="keyword">new</span> <span class="title class_">Observer</span>&lt;Long&gt;() &#123;</span><br><span class="line">                 <span class="meta">@Override</span></span><br><span class="line">                 <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">onSubscribe</span><span class="params">(Disposable d)</span> &#123;</span><br><span class="line">                     Log.e(TAG, <span class="string">&quot;onSubscribe&quot;</span>);</span><br><span class="line">                 &#125;</span><br><span class="line"></span><br><span class="line">                 <span class="meta">@Override</span></span><br><span class="line">                 <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">onNext</span><span class="params">(Long aLong)</span> &#123;</span><br><span class="line">                     Log.e(TAG, <span class="string">&quot;onNext：&quot;</span> + aLong);</span><br><span class="line">                 &#125;</span><br><span class="line"></span><br><span class="line">                 <span class="meta">@Override</span></span><br><span class="line">                 <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">onError</span><span class="params">(Throwable e)</span> &#123;</span><br><span class="line">                     Log.e(TAG, <span class="string">&quot;onError: &quot;</span> + e.getMessage());</span><br><span class="line">                 &#125;</span><br><span class="line"></span><br><span class="line">                 <span class="meta">@Override</span></span><br><span class="line">                 <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">onComplete</span><span class="params">()</span> &#123;</span><br><span class="line">                     Log.e(TAG, <span class="string">&quot;onComplete&quot;</span>);</span><br><span class="line">                 &#125;</span><br><span class="line">             &#125;);</span><br></pre></td></tr></table></figure>

<p>起始值从 2 开始递增，事件共传递三次，第一次事件在订阅后延迟 4 秒触发，之后每次延迟 5 秒</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="number">10</span>-<span class="number">06</span> <span class="number">10</span>:<span class="number">48</span>:<span class="number">40.017</span> <span class="number">17976</span>-<span class="number">17976</span>/leavesc.hello.rxjavademo E/MainActivity: onSubscribe</span><br><span class="line"><span class="number">10</span>-<span class="number">06</span> <span class="number">10</span>:<span class="number">48</span>:<span class="number">44.017</span> <span class="number">17976</span>-<span class="number">17990</span>/leavesc.hello.rxjavademo E/MainActivity: onNext：<span class="number">2</span></span><br><span class="line"><span class="number">10</span>-<span class="number">06</span> <span class="number">10</span>:<span class="number">48</span>:<span class="number">49.017</span> <span class="number">17976</span>-<span class="number">17990</span>/leavesc.hello.rxjavademo E/MainActivity: onNext：<span class="number">3</span></span><br><span class="line"><span class="number">10</span>-<span class="number">06</span> <span class="number">10</span>:<span class="number">48</span>:<span class="number">54.017</span> <span class="number">17976</span>-<span class="number">17990</span>/leavesc.hello.rxjavademo E/MainActivity: onNext：<span class="number">4</span></span><br><span class="line"><span class="number">10</span>-<span class="number">06</span> <span class="number">10</span>:<span class="number">48</span>:<span class="number">54.017</span> <span class="number">17976</span>-<span class="number">17990</span>/leavesc.hello.rxjavademo E/MainActivity: onComplete</span><br></pre></td></tr></table></figure>

<h2 id="11、range"><a href="#11、range" class="headerlink" title="11、range()"></a>11、range()</h2><p>发送指定范围的事件序列</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">Observable.range(<span class="number">2</span>, <span class="number">5</span>)</span><br><span class="line">             .subscribe(<span class="keyword">new</span> <span class="title class_">Consumer</span>&lt;Integer&gt;() &#123;</span><br><span class="line">                 <span class="meta">@Override</span></span><br><span class="line">                 <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">accept</span><span class="params">(Integer integer)</span> &#123;</span><br><span class="line">                     Log.e(TAG, <span class="string">&quot;values is :&quot;</span> + integer);</span><br><span class="line">                 &#125;</span><br><span class="line">             &#125;);</span><br></pre></td></tr></table></figure>

<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">values is :<span class="number">2</span></span><br><span class="line">values is :<span class="number">3</span></span><br><span class="line">values is :<span class="number">4</span></span><br><span class="line">values is :<span class="number">5</span></span><br><span class="line">values is :<span class="number">6</span></span><br></pre></td></tr></table></figure>

<h2 id="12、rangeLong"><a href="#12、rangeLong" class="headerlink" title="12、rangeLong()"></a>12、rangeLong()</h2><p>作用与 <code>range()</code> 一样，只是数据类型是 <code>Long</code></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">Observable.rangeLong((<span class="number">2</span>, <span class="number">5</span>)</span><br><span class="line">      .subscribe(<span class="keyword">new</span> <span class="title class_">Consumer</span>&lt;Long&gt;() &#123;</span><br><span class="line">          <span class="meta">@Override</span></span><br><span class="line">          <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">accept</span><span class="params">(Long aLong)</span> &#123;</span><br><span class="line">              Log.e(TAG, <span class="string">&quot;values is :&quot;</span> + aLong);</span><br><span class="line">          &#125;</span><br><span class="line">      &#125;);</span><br></pre></td></tr></table></figure>

<h2 id="13、empty-never-error"><a href="#13、empty-never-error" class="headerlink" title="13、empty() &amp; never() &amp; error()"></a>13、empty() &amp; never() &amp; error()</h2><p><code>empty()</code> 直接发送 <code>onComplete()</code> 事件</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line">Observable.empty().subscribe(<span class="keyword">new</span> <span class="title class_">Observer</span>&lt;Object&gt;() &#123;</span><br><span class="line">          <span class="meta">@Override</span></span><br><span class="line">          <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">onSubscribe</span><span class="params">(Disposable d)</span> &#123;</span><br><span class="line">              Log.e(TAG, <span class="string">&quot;onSubscribe&quot;</span>);</span><br><span class="line">          &#125;</span><br><span class="line"></span><br><span class="line">          <span class="meta">@Override</span></span><br><span class="line">          <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">onNext</span><span class="params">(Object object)</span> &#123;</span><br><span class="line">              Log.e(TAG, <span class="string">&quot;onNext: &quot;</span> + object);</span><br><span class="line">          &#125;</span><br><span class="line"></span><br><span class="line">          <span class="meta">@Override</span></span><br><span class="line">          <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">onError</span><span class="params">(Throwable e)</span> &#123;</span><br><span class="line">              Log.e(TAG, <span class="string">&quot;onError: &quot;</span> + e.getMessage());</span><br><span class="line">          &#125;</span><br><span class="line"></span><br><span class="line">          <span class="meta">@Override</span></span><br><span class="line">          <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">onComplete</span><span class="params">()</span> &#123;</span><br><span class="line">              Log.e(TAG, <span class="string">&quot;onComplete&quot;</span>);</span><br><span class="line">          &#125;</span><br><span class="line">      &#125;);</span><br></pre></td></tr></table></figure>

<p>打印结果</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">onSubscribe</span><br><span class="line">onComplete</span><br></pre></td></tr></table></figure>

<p>换成 <code>never()</code></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">onSubscribe</span><br></pre></td></tr></table></figure>

<p>换成 <code>error()</code></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line">Observable.error(<span class="keyword">new</span> <span class="title class_">Throwable</span>(<span class="string">&quot;Hello&quot;</span>)).subscribe(<span class="keyword">new</span> <span class="title class_">Observer</span>&lt;Object&gt;() &#123;</span><br><span class="line">            <span class="meta">@Override</span></span><br><span class="line">            <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">onSubscribe</span><span class="params">(Disposable d)</span> &#123;</span><br><span class="line">                Log.e(TAG, <span class="string">&quot;onSubscribe&quot;</span>);</span><br><span class="line">            &#125;</span><br><span class="line"></span><br><span class="line">            <span class="meta">@Override</span></span><br><span class="line">            <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">onNext</span><span class="params">(Object object)</span> &#123;</span><br><span class="line">                Log.e(TAG, <span class="string">&quot;onNext: &quot;</span> + object);</span><br><span class="line">            &#125;</span><br><span class="line"></span><br><span class="line">            <span class="meta">@Override</span></span><br><span class="line">            <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">onError</span><span class="params">(Throwable e)</span> &#123;</span><br><span class="line">                Log.e(TAG, <span class="string">&quot;onError: &quot;</span> + e.getMessage());</span><br><span class="line">            &#125;</span><br><span class="line"></span><br><span class="line">            <span class="meta">@Override</span></span><br><span class="line">            <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">onComplete</span><span class="params">()</span> &#123;</span><br><span class="line">                Log.e(TAG, <span class="string">&quot;onComplete&quot;</span>);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;);</span><br></pre></td></tr></table></figure>

<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">onSubscribe</span><br><span class="line">   onError: Hello</span><br></pre></td></tr></table></figure>

<h1 id="三、转换操作符"><a href="#三、转换操作符" class="headerlink" title="三、转换操作符"></a>三、转换操作符</h1><h2 id="1、map"><a href="#1、map" class="headerlink" title="1、map()"></a>1、map()</h2><p><code>map()</code> 用于将被观察者发送的数据类型转变成其他的类型</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">Observable.just(<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>)</span><br><span class="line">       .map(<span class="keyword">new</span> <span class="title class_">Function</span>&lt;Integer, String&gt;() &#123;</span><br><span class="line">           <span class="meta">@Override</span></span><br><span class="line">           <span class="keyword">public</span> String <span class="title function_">apply</span><span class="params">(Integer integer)</span> &#123;</span><br><span class="line">               <span class="keyword">return</span> <span class="string">&quot;I&#x27;m &quot;</span> + integer;</span><br><span class="line">           &#125;</span><br><span class="line">       &#125;)</span><br><span class="line">       .subscribe(<span class="keyword">new</span> <span class="title class_">Consumer</span>&lt;String&gt;() &#123;</span><br><span class="line">           <span class="meta">@Override</span></span><br><span class="line">           <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">accept</span><span class="params">(String s)</span> &#123;</span><br><span class="line">               Log.e(TAG, s);</span><br><span class="line">           &#125;</span><br><span class="line">       &#125;);</span><br></pre></td></tr></table></figure>

<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="number">10</span>-<span class="number">06</span> <span class="number">10</span>:<span class="number">53</span>:<span class="number">16.364</span> <span class="number">18099</span>-<span class="number">18099</span>/leavesc.hello.rxjavademo E/MainActivity: I<span class="string">&#x27;m 1</span></span><br><span class="line"><span class="string">10-06 10:53:16.364 18099-18099/leavesc.hello.rxjavademo E/MainActivity: I&#x27;</span>m <span class="number">2</span></span><br><span class="line"><span class="number">10</span>-<span class="number">06</span> <span class="number">10</span>:<span class="number">53</span>:<span class="number">16.364</span> <span class="number">18099</span>-<span class="number">18099</span>/leavesc.hello.rxjavademo E/MainActivity: I<span class="string">&#x27;m 3</span></span><br></pre></td></tr></table></figure>

<h2 id="2、flatMap"><a href="#2、flatMap" class="headerlink" title="2、flatMap()"></a>2、flatMap()</h2><p>用于将事件序列中的元素进行整合加工，返回一个新的被观察者</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line">List&lt;List&lt;String&gt;&gt; listArrayList = <span class="keyword">new</span> <span class="title class_">ArrayList</span>&lt;&gt;();</span><br><span class="line"></span><br><span class="line">List&lt;String&gt; stringList = <span class="keyword">new</span> <span class="title class_">ArrayList</span>&lt;&gt;();</span><br><span class="line"><span class="keyword">for</span> (<span class="type">int</span> <span class="variable">j</span> <span class="operator">=</span> <span class="number">0</span>; j &lt; <span class="number">2</span>; j++) &#123;</span><br><span class="line">    stringList.add(<span class="string">&quot;A_&quot;</span> + j);</span><br><span class="line">&#125;</span><br><span class="line">listArrayList.add(stringList);</span><br><span class="line"></span><br><span class="line">stringList = <span class="keyword">new</span> <span class="title class_">ArrayList</span>&lt;&gt;();</span><br><span class="line"><span class="keyword">for</span> (<span class="type">int</span> <span class="variable">j</span> <span class="operator">=</span> <span class="number">0</span>; j &lt; <span class="number">2</span>; j++) &#123;</span><br><span class="line">    stringList.add(<span class="string">&quot;B_&quot;</span> + j);</span><br><span class="line">&#125;</span><br><span class="line">listArrayList.add(stringList);</span><br><span class="line"></span><br><span class="line">Observable.fromIterable(listArrayList).flatMap(<span class="keyword">new</span> <span class="title class_">Function</span>&lt;List&lt;String&gt;, ObservableSource&lt;String&gt;&gt;() &#123;</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> ObservableSource&lt;String&gt; <span class="title function_">apply</span><span class="params">(List&lt;String&gt; stringList1)</span> <span class="keyword">throws</span> Exception &#123;</span><br><span class="line">        <span class="keyword">return</span> Observable.fromIterable(stringList1);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;).subscribe(<span class="keyword">new</span> <span class="title class_">Consumer</span>&lt;String&gt;() &#123;</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">accept</span><span class="params">(String s)</span> <span class="keyword">throws</span> Exception &#123;</span><br><span class="line">        Log.e(TAG, <span class="string">&quot;value is: &quot;</span> + s);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>

<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="number">10</span>-<span class="number">06</span> <span class="number">11</span>:<span class="number">02</span>:<span class="number">47.246</span> <span class="number">18230</span>-<span class="number">18230</span>/leavesc.hello.rxjavademo E/MainActivity: value is: A_0</span><br><span class="line"><span class="number">10</span>-<span class="number">06</span> <span class="number">11</span>:<span class="number">02</span>:<span class="number">47.246</span> <span class="number">18230</span>-<span class="number">18230</span>/leavesc.hello.rxjavademo E/MainActivity: value is: A_1</span><br><span class="line"><span class="number">10</span>-<span class="number">06</span> <span class="number">11</span>:<span class="number">02</span>:<span class="number">47.246</span> <span class="number">18230</span>-<span class="number">18230</span>/leavesc.hello.rxjavademo E/MainActivity: value is: B_0</span><br><span class="line"><span class="number">10</span>-<span class="number">06</span> <span class="number">11</span>:<span class="number">02</span>:<span class="number">47.246</span> <span class="number">18230</span>-<span class="number">18230</span>/leavesc.hello.rxjavademo E/MainActivity: value is: B_1</span><br></pre></td></tr></table></figure>

<h2 id="3、concatMap"><a href="#3、concatMap" class="headerlink" title="3、concatMap()"></a>3、concatMap()</h2><p><code>concatMap()</code> 和 <code>flatMap()</code> 基本一样，只不过 <code>concatMap()</code> 转发出来的事件是有序的，而 <code>flatMap()</code> 是无序的</p>
<p>还是用 <code>flatMap()</code>的例子来看</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">Observable.fromIterable(listArrayList).flatMap(<span class="keyword">new</span> <span class="title class_">Function</span>&lt;List&lt;String&gt;, ObservableSource&lt;String&gt;&gt;() &#123;</span><br><span class="line">            <span class="meta">@Override</span></span><br><span class="line">            <span class="keyword">public</span> ObservableSource&lt;String&gt; <span class="title function_">apply</span><span class="params">(List&lt;String&gt; stringList1)</span> <span class="keyword">throws</span> Exception &#123;</span><br><span class="line">                <span class="keyword">if</span> (stringList1.get(<span class="number">0</span>).startsWith(<span class="string">&quot;A&quot;</span>)) &#123;</span><br><span class="line">                    <span class="keyword">return</span> Observable.fromIterable(stringList1).delay(<span class="number">200</span>, TimeUnit.MILLISECONDS);</span><br><span class="line">                &#125;</span><br><span class="line">                <span class="keyword">return</span> Observable.fromIterable(stringList1);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;).subscribe(<span class="keyword">new</span> <span class="title class_">Consumer</span>&lt;String&gt;() &#123;</span><br><span class="line">            <span class="meta">@Override</span></span><br><span class="line">            <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">accept</span><span class="params">(String s)</span> <span class="keyword">throws</span> Exception &#123;</span><br><span class="line">                Log.e(TAG, <span class="string">&quot;value is: &quot;</span> + s);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;);</span><br></pre></td></tr></table></figure>

<p>进行了一次延时操作，可以看到两次事件的发送顺序颠倒了</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="number">10</span>-<span class="number">06</span> <span class="number">11</span>:<span class="number">07</span>:<span class="number">30.753</span> <span class="number">18702</span>-<span class="number">18702</span>/leavesc.hello.rxjavademo E/MainActivity: value is: B_0</span><br><span class="line"><span class="number">10</span>-<span class="number">06</span> <span class="number">11</span>:<span class="number">07</span>:<span class="number">30.753</span> <span class="number">18702</span>-<span class="number">18702</span>/leavesc.hello.rxjavademo E/MainActivity: value is: B_1</span><br><span class="line"><span class="number">10</span>-<span class="number">06</span> <span class="number">11</span>:<span class="number">07</span>:<span class="number">30.953</span> <span class="number">18702</span>-<span class="number">18716</span>/leavesc.hello.rxjavademo E/MainActivity: value is: A_0</span><br><span class="line"><span class="number">10</span>-<span class="number">06</span> <span class="number">11</span>:<span class="number">07</span>:<span class="number">30.953</span> <span class="number">18702</span>-<span class="number">18716</span>/leavesc.hello.rxjavademo E/MainActivity: value is: A_1</span><br></pre></td></tr></table></figure>

<p>使用 <code>concatMap()</code> 则顺序将保持一致</p>
<h2 id="4、buffer"><a href="#4、buffer" class="headerlink" title="4、buffer()"></a>4、buffer()</h2><p>从需要发送的事件当中获取指定数量的事件，并将这些事件放到缓冲区当中一并发出。<code>buffer</code> 有两个参数，参数一<code>count</code>用于指点缓冲区大小，参数二 <code>skip</code>用指定当缓冲区满了时，发送下一次事件序列的时候要跳过多少元素</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line">Observable.just(<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>, <span class="number">6</span>)</span><br><span class="line">             .buffer(<span class="number">2</span>, <span class="number">2</span>)</span><br><span class="line">             .subscribe(<span class="keyword">new</span> <span class="title class_">Observer</span>&lt;List&lt;Integer&gt;&gt;() &#123;</span><br><span class="line">                 <span class="meta">@Override</span></span><br><span class="line">                 <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">onSubscribe</span><span class="params">(Disposable d)</span> &#123;</span><br><span class="line">                     Log.e(TAG, <span class="string">&quot;onSubscribe&quot;</span>);</span><br><span class="line">                 &#125;</span><br><span class="line"></span><br><span class="line">                 <span class="meta">@Override</span></span><br><span class="line">                 <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">onNext</span><span class="params">(List&lt;Integer&gt; integers)</span> &#123;</span><br><span class="line">                     Log.e(TAG, <span class="string">&quot;缓冲区大小： &quot;</span> + integers.size());</span><br><span class="line">                     <span class="keyword">for</span> (Integer i : integers) &#123;</span><br><span class="line">                         Log.e(TAG, <span class="string">&quot;元素： &quot;</span> + i);</span><br><span class="line">                     &#125;</span><br><span class="line">                 &#125;</span><br><span class="line"></span><br><span class="line">                 <span class="meta">@Override</span></span><br><span class="line">                 <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">onError</span><span class="params">(Throwable e)</span> &#123;</span><br><span class="line">                     Log.e(TAG, <span class="string">&quot;onError: &quot;</span> + e.getMessage());</span><br><span class="line">                 &#125;</span><br><span class="line"></span><br><span class="line">                 <span class="meta">@Override</span></span><br><span class="line">                 <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">onComplete</span><span class="params">()</span> &#123;</span><br><span class="line">                     Log.e(TAG, <span class="string">&quot;onComplete&quot;</span>);</span><br><span class="line">                 &#125;</span><br><span class="line">             &#125;);</span><br></pre></td></tr></table></figure>

<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">onSubscribe</span><br><span class="line">缓冲区大小： <span class="number">2</span></span><br><span class="line">元素： <span class="number">1</span></span><br><span class="line">元素： <span class="number">2</span></span><br><span class="line">缓冲区大小： <span class="number">2</span></span><br><span class="line">元素： <span class="number">3</span></span><br><span class="line">元素： <span class="number">4</span></span><br><span class="line">缓冲区大小： <span class="number">2</span></span><br><span class="line">元素： <span class="number">5</span></span><br><span class="line">元素： <span class="number">6</span></span><br><span class="line">onComplete</span><br></pre></td></tr></table></figure>

<h2 id="5、groupBy"><a href="#5、groupBy" class="headerlink" title="5、groupBy()"></a>5、groupBy()</h2><p>用于将数据进行分组，每个分组都会返回一个被观察者。<code>groupBy()</code> 方法的返回值用于指定分组名，每返回一个新值就代表会创建一个分组</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br></pre></td><td class="code"><pre><span class="line">Observable.just(<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>, <span class="number">6</span>, <span class="number">7</span>)</span><br><span class="line">            .groupBy(<span class="keyword">new</span> <span class="title class_">Function</span>&lt;Integer, String&gt;() &#123;</span><br><span class="line">                <span class="meta">@Override</span></span><br><span class="line">                <span class="keyword">public</span> String <span class="title function_">apply</span><span class="params">(Integer integer)</span> &#123;</span><br><span class="line">                    <span class="keyword">if</span> (integer &lt; <span class="number">4</span>) &#123;</span><br><span class="line">                        <span class="keyword">return</span> <span class="string">&quot;hello&quot;</span>;</span><br><span class="line">                    &#125;</span><br><span class="line">                    <span class="keyword">return</span> <span class="string">&quot;hi&quot;</span>;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;)</span><br><span class="line">            .subscribe(<span class="keyword">new</span> <span class="title class_">Observer</span>&lt;GroupedObservable&lt;String, Integer&gt;&gt;() &#123;</span><br><span class="line">                <span class="meta">@Override</span></span><br><span class="line">                <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">onSubscribe</span><span class="params">(Disposable d)</span> &#123;</span><br><span class="line">                    Log.e(TAG, <span class="string">&quot;onSubscribe&quot;</span>);</span><br><span class="line">                &#125;</span><br><span class="line"></span><br><span class="line">                <span class="meta">@Override</span></span><br><span class="line">                <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">onNext</span><span class="params">(<span class="keyword">final</span> GroupedObservable&lt;String, Integer&gt; observable)</span> &#123;</span><br><span class="line">                    observable.subscribe(<span class="keyword">new</span> <span class="title class_">Observer</span>&lt;Integer&gt;() &#123;</span><br><span class="line">                        <span class="meta">@Override</span></span><br><span class="line">                        <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">onSubscribe</span><span class="params">(Disposable d)</span> &#123;</span><br><span class="line">                            Log.e(TAG, <span class="string">&quot;GroupedObservable onSubscribe&quot;</span>);</span><br><span class="line">                        &#125;</span><br><span class="line"></span><br><span class="line">                        <span class="meta">@Override</span></span><br><span class="line">                        <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">onNext</span><span class="params">(Integer integer)</span> &#123;</span><br><span class="line">                            Log.e(TAG, <span class="string">&quot;GroupedObservable onNext key :&quot;</span> + observable.getKey());</span><br><span class="line">                            Log.e(TAG, <span class="string">&quot;GroupedObservable onNext value :&quot;</span> + integer);</span><br><span class="line">                        &#125;</span><br><span class="line"></span><br><span class="line">                        <span class="meta">@Override</span></span><br><span class="line">                        <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">onError</span><span class="params">(Throwable e)</span> &#123;</span><br><span class="line">                            Log.e(TAG, <span class="string">&quot;GroupedObservable onError&quot;</span>);</span><br><span class="line">                        &#125;</span><br><span class="line"></span><br><span class="line">                        <span class="meta">@Override</span></span><br><span class="line">                        <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">onComplete</span><span class="params">()</span> &#123;</span><br><span class="line">                            Log.e(TAG, <span class="string">&quot;GroupedObservable onComplete&quot;</span>);</span><br><span class="line">                        &#125;</span><br><span class="line">                    &#125;);</span><br><span class="line">                &#125;</span><br><span class="line"></span><br><span class="line">                <span class="meta">@Override</span></span><br><span class="line">                <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">onError</span><span class="params">(Throwable e)</span> &#123;</span><br><span class="line">                    Log.e(TAG, <span class="string">&quot;onError&quot;</span>);</span><br><span class="line">                &#125;</span><br><span class="line"></span><br><span class="line">                <span class="meta">@Override</span></span><br><span class="line">                <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">onComplete</span><span class="params">()</span> &#123;</span><br><span class="line">                    Log.e(TAG, <span class="string">&quot;onComplete&quot;</span>);</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;);</span><br></pre></td></tr></table></figure>

<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="number">10</span>-<span class="number">06</span> <span class="number">11</span>:<span class="number">16</span>:<span class="number">35.616</span> <span class="number">19015</span>-<span class="number">19015</span>/? E/MainActivity: onSubscribe</span><br><span class="line"><span class="number">10</span>-<span class="number">06</span> <span class="number">11</span>:<span class="number">16</span>:<span class="number">35.616</span> <span class="number">19015</span>-<span class="number">19015</span>/? E/MainActivity: GroupedObservable onSubscribe</span><br><span class="line"><span class="number">10</span>-<span class="number">06</span> <span class="number">11</span>:<span class="number">16</span>:<span class="number">35.616</span> <span class="number">19015</span>-<span class="number">19015</span>/? E/MainActivity: GroupedObservable onNext key :hello</span><br><span class="line"><span class="number">10</span>-<span class="number">06</span> <span class="number">11</span>:<span class="number">16</span>:<span class="number">35.616</span> <span class="number">19015</span>-<span class="number">19015</span>/? E/MainActivity: GroupedObservable onNext value :<span class="number">1</span></span><br><span class="line"><span class="number">10</span>-<span class="number">06</span> <span class="number">11</span>:<span class="number">16</span>:<span class="number">35.616</span> <span class="number">19015</span>-<span class="number">19015</span>/? E/MainActivity: GroupedObservable onNext key :hello</span><br><span class="line"><span class="number">10</span>-<span class="number">06</span> <span class="number">11</span>:<span class="number">16</span>:<span class="number">35.616</span> <span class="number">19015</span>-<span class="number">19015</span>/? E/MainActivity: GroupedObservable onNext value :<span class="number">2</span></span><br><span class="line"><span class="number">10</span>-<span class="number">06</span> <span class="number">11</span>:<span class="number">16</span>:<span class="number">35.616</span> <span class="number">19015</span>-<span class="number">19015</span>/? E/MainActivity: GroupedObservable onNext key :hello</span><br><span class="line"><span class="number">10</span>-<span class="number">06</span> <span class="number">11</span>:<span class="number">16</span>:<span class="number">35.616</span> <span class="number">19015</span>-<span class="number">19015</span>/? E/MainActivity: GroupedObservable onNext value :<span class="number">3</span></span><br><span class="line"><span class="number">10</span>-<span class="number">06</span> <span class="number">11</span>:<span class="number">16</span>:<span class="number">35.616</span> <span class="number">19015</span>-<span class="number">19015</span>/? E/MainActivity: GroupedObservable onSubscribe</span><br><span class="line"><span class="number">10</span>-<span class="number">06</span> <span class="number">11</span>:<span class="number">16</span>:<span class="number">35.616</span> <span class="number">19015</span>-<span class="number">19015</span>/? E/MainActivity: GroupedObservable onNext key :hi</span><br><span class="line"><span class="number">10</span>-<span class="number">06</span> <span class="number">11</span>:<span class="number">16</span>:<span class="number">35.616</span> <span class="number">19015</span>-<span class="number">19015</span>/? E/MainActivity: GroupedObservable onNext value :<span class="number">4</span></span><br><span class="line"><span class="number">10</span>-<span class="number">06</span> <span class="number">11</span>:<span class="number">16</span>:<span class="number">35.616</span> <span class="number">19015</span>-<span class="number">19015</span>/? E/MainActivity: GroupedObservable onNext key :hi</span><br><span class="line"><span class="number">10</span>-<span class="number">06</span> <span class="number">11</span>:<span class="number">16</span>:<span class="number">35.616</span> <span class="number">19015</span>-<span class="number">19015</span>/? E/MainActivity: GroupedObservable onNext value :<span class="number">5</span></span><br><span class="line"><span class="number">10</span>-<span class="number">06</span> <span class="number">11</span>:<span class="number">16</span>:<span class="number">35.616</span> <span class="number">19015</span>-<span class="number">19015</span>/? E/MainActivity: GroupedObservable onNext key :hi</span><br><span class="line"><span class="number">10</span>-<span class="number">06</span> <span class="number">11</span>:<span class="number">16</span>:<span class="number">35.616</span> <span class="number">19015</span>-<span class="number">19015</span>/? E/MainActivity: GroupedObservable onNext value :<span class="number">6</span></span><br><span class="line"><span class="number">10</span>-<span class="number">06</span> <span class="number">11</span>:<span class="number">16</span>:<span class="number">35.616</span> <span class="number">19015</span>-<span class="number">19015</span>/? E/MainActivity: GroupedObservable onNext key :hi</span><br><span class="line"><span class="number">10</span>-<span class="number">06</span> <span class="number">11</span>:<span class="number">16</span>:<span class="number">35.616</span> <span class="number">19015</span>-<span class="number">19015</span>/? E/MainActivity: GroupedObservable onNext value :<span class="number">7</span></span><br><span class="line"><span class="number">10</span>-<span class="number">06</span> <span class="number">11</span>:<span class="number">16</span>:<span class="number">35.616</span> <span class="number">19015</span>-<span class="number">19015</span>/? E/MainActivity: GroupedObservable onComplete</span><br><span class="line"><span class="number">10</span>-<span class="number">06</span> <span class="number">11</span>:<span class="number">16</span>:<span class="number">35.616</span> <span class="number">19015</span>-<span class="number">19015</span>/? E/MainActivity: GroupedObservable onComplete</span><br><span class="line"><span class="number">10</span>-<span class="number">06</span> <span class="number">11</span>:<span class="number">16</span>:<span class="number">35.616</span> <span class="number">19015</span>-<span class="number">19015</span>/? E/MainActivity: onComplete</span><br></pre></td></tr></table></figure>

<h2 id="6、scan"><a href="#6、scan" class="headerlink" title="6、scan()"></a>6、scan()</h2><p><code>scan()</code> 操作符对原始 <code>Observable</code> 发射的第一条数据应用一个函数，然后将那个函数的结果作为自己的第一项数据发射。它将函数的结果同第二项数据一起填充给这个函数来产生它自己的第二项数据。它持续进行这个过程来产生剩余的数据序列</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">Observable.just(<span class="number">1</span>, <span class="number">5</span>, <span class="number">8</span>, <span class="number">12</span>).scan(<span class="keyword">new</span> <span class="title class_">BiFunction</span>&lt;Integer, Integer, Integer&gt;() &#123;</span><br><span class="line">          <span class="meta">@Override</span></span><br><span class="line">          <span class="keyword">public</span> Integer <span class="title function_">apply</span><span class="params">(Integer integer, Integer integer2)</span> &#123;</span><br><span class="line">              Log.e(TAG, <span class="string">&quot;integer : &quot;</span> + integer);</span><br><span class="line">              Log.e(TAG, <span class="string">&quot;integer2 : &quot;</span> + integer2);</span><br><span class="line">              <span class="keyword">return</span> integer + integer2;</span><br><span class="line">          &#125;</span><br><span class="line">      &#125;).subscribe(<span class="keyword">new</span> <span class="title class_">Consumer</span>&lt;Integer&gt;() &#123;</span><br><span class="line">          <span class="meta">@Override</span></span><br><span class="line">          <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">accept</span><span class="params">(Integer integer)</span> &#123;</span><br><span class="line">              Log.e(TAG, <span class="string">&quot;accept : &quot;</span> + integer);</span><br><span class="line">          &#125;</span><br><span class="line">      &#125;);</span><br></pre></td></tr></table></figure>

<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="number">10</span>-<span class="number">06</span> <span class="number">11</span>:<span class="number">25</span>:<span class="number">19.389</span> <span class="number">19158</span>-<span class="number">19158</span>/leavesc.hello.rxjavademo E/MainActivity: accept : <span class="number">1</span></span><br><span class="line"><span class="number">10</span>-<span class="number">06</span> <span class="number">11</span>:<span class="number">25</span>:<span class="number">19.389</span> <span class="number">19158</span>-<span class="number">19158</span>/leavesc.hello.rxjavademo E/MainActivity: integer : <span class="number">1</span></span><br><span class="line"><span class="number">10</span>-<span class="number">06</span> <span class="number">11</span>:<span class="number">25</span>:<span class="number">19.389</span> <span class="number">19158</span>-<span class="number">19158</span>/leavesc.hello.rxjavademo E/MainActivity: integer2 : <span class="number">5</span></span><br><span class="line"><span class="number">10</span>-<span class="number">06</span> <span class="number">11</span>:<span class="number">25</span>:<span class="number">19.399</span> <span class="number">19158</span>-<span class="number">19158</span>/leavesc.hello.rxjavademo E/MainActivity: accept : <span class="number">6</span></span><br><span class="line"><span class="number">10</span>-<span class="number">06</span> <span class="number">11</span>:<span class="number">25</span>:<span class="number">19.399</span> <span class="number">19158</span>-<span class="number">19158</span>/leavesc.hello.rxjavademo E/MainActivity: integer : <span class="number">6</span></span><br><span class="line"><span class="number">10</span>-<span class="number">06</span> <span class="number">11</span>:<span class="number">25</span>:<span class="number">19.399</span> <span class="number">19158</span>-<span class="number">19158</span>/leavesc.hello.rxjavademo E/MainActivity: integer2 : <span class="number">8</span></span><br><span class="line"><span class="number">10</span>-<span class="number">06</span> <span class="number">11</span>:<span class="number">25</span>:<span class="number">19.399</span> <span class="number">19158</span>-<span class="number">19158</span>/leavesc.hello.rxjavademo E/MainActivity: accept : <span class="number">14</span></span><br><span class="line"><span class="number">10</span>-<span class="number">06</span> <span class="number">11</span>:<span class="number">25</span>:<span class="number">19.399</span> <span class="number">19158</span>-<span class="number">19158</span>/leavesc.hello.rxjavademo E/MainActivity: integer : <span class="number">14</span></span><br><span class="line"><span class="number">10</span>-<span class="number">06</span> <span class="number">11</span>:<span class="number">25</span>:<span class="number">19.409</span> <span class="number">19158</span>-<span class="number">19158</span>/leavesc.hello.rxjavademo E/MainActivity: integer2 : <span class="number">12</span></span><br><span class="line"><span class="number">10</span>-<span class="number">06</span> <span class="number">11</span>:<span class="number">25</span>:<span class="number">19.409</span> <span class="number">19158</span>-<span class="number">19158</span>/leavesc.hello.rxjavademo E/MainActivity: accept : <span class="number">26</span></span><br></pre></td></tr></table></figure>

<h1 id="四、组合操作符"><a href="#四、组合操作符" class="headerlink" title="四、组合操作符"></a>四、组合操作符</h1><h2 id="1、concat-concatArray"><a href="#1、concat-concatArray" class="headerlink" title="1、concat() &amp; concatArray()"></a>1、concat() &amp; concatArray()</h2><p>用于将多个观察者组合在一起，然后按照参数的传入顺序发送事件，<code>concat()</code> 最多只可以发送4个事件</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">Observable.concat(Observable.just(<span class="number">1</span>, <span class="number">2</span>),</span><br><span class="line">              Observable.just(<span class="number">3</span>, <span class="number">4</span>),</span><br><span class="line">              Observable.just(<span class="number">5</span>, <span class="number">6</span>),</span><br><span class="line">              Observable.just(<span class="number">7</span>, <span class="number">8</span>)).subscribe(<span class="keyword">new</span> <span class="title class_">Consumer</span>&lt;Integer&gt;() &#123;</span><br><span class="line">          <span class="meta">@Override</span></span><br><span class="line">          <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">accept</span><span class="params">(Integer integer)</span> <span class="keyword">throws</span> Exception &#123;</span><br><span class="line">              Log.e(TAG, <span class="string">&quot;accept: &quot;</span> + integer);</span><br><span class="line">          &#125;</span><br><span class="line">      &#125;);</span><br></pre></td></tr></table></figure>

<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">accept: <span class="number">1</span></span><br><span class="line">accept: <span class="number">2</span></span><br><span class="line">accept: <span class="number">3</span></span><br><span class="line">accept: <span class="number">4</span></span><br><span class="line">accept: <span class="number">5</span></span><br><span class="line">accept: <span class="number">6</span></span><br><span class="line">accept: <span class="number">7</span></span><br><span class="line">accept: <span class="number">8</span></span><br></pre></td></tr></table></figure>

<p><code>concatArray()</code> 作用与 <code>concat()</code> 作用一样，不过前者可以发送多于 4 个的被观察者</p>
<h2 id="2、merge-mergeArray"><a href="#2、merge-mergeArray" class="headerlink" title="2、merge() &amp; mergeArray()"></a>2、merge() &amp; mergeArray()</h2><p>这个方法与 <code>concat()</code> 作用基本一样，只是 <code>concat()</code> 是串行发送事件，而 <code>merge()</code> 并行发送事件</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">Observable.merge(Observable.interval(<span class="number">1</span>, TimeUnit.SECONDS).map(<span class="keyword">new</span> <span class="title class_">Function</span>&lt;Long, String&gt;() &#123;</span><br><span class="line">                   <span class="meta">@Override</span></span><br><span class="line">                   <span class="keyword">public</span> String <span class="title function_">apply</span><span class="params">(Long aLong)</span> &#123;</span><br><span class="line">                       <span class="keyword">return</span> <span class="string">&quot;Test_A_&quot;</span> + aLong;</span><br><span class="line">                   &#125;</span><br><span class="line">               &#125;),</span><br><span class="line">               Observable.interval(<span class="number">1</span>, TimeUnit.SECONDS).map(<span class="keyword">new</span> <span class="title class_">Function</span>&lt;Long, String&gt;() &#123;</span><br><span class="line">                   <span class="meta">@Override</span></span><br><span class="line">                   <span class="keyword">public</span> String <span class="title function_">apply</span><span class="params">(Long aLong)</span> &#123;</span><br><span class="line">                       <span class="keyword">return</span> <span class="string">&quot;Test_B_&quot;</span> + aLong;</span><br><span class="line">                   &#125;</span><br><span class="line">               &#125;)).subscribe(<span class="keyword">new</span> <span class="title class_">Consumer</span>&lt;String&gt;() &#123;</span><br><span class="line">           <span class="meta">@Override</span></span><br><span class="line">           <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">accept</span><span class="params">(String s)</span> &#123;</span><br><span class="line">               Log.e(TAG, <span class="string">&quot;accept: &quot;</span> + s);</span><br><span class="line">           &#125;</span><br><span class="line">       &#125;);</span><br></pre></td></tr></table></figure>

<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">Test_A_0</span><br><span class="line">Test_B_0</span><br><span class="line">Test_A_1</span><br><span class="line">Test_B_1</span><br><span class="line">Test_A_2</span><br><span class="line">Test_B_2</span><br><span class="line">Test_B_3</span><br><span class="line">Test_A_3</span><br><span class="line">Test_A_4</span><br><span class="line">Test_B_4</span><br><span class="line">Test_A_5</span><br><span class="line">Test_B_5</span><br></pre></td></tr></table></figure>

<p><code>mergeArray()</code> 可以发送 4 个以上的被观察者</p>
<h2 id="3、concatArrayDelayError-mergeArrayDelayError"><a href="#3、concatArrayDelayError-mergeArrayDelayError" class="headerlink" title="3、concatArrayDelayError()  &amp;  mergeArrayDelayError()"></a>3、concatArrayDelayError()  &amp;  mergeArrayDelayError()</h2><p>在 <code>concatArray()</code> 和 <code>mergeArray()</code> 两个方法当中，如果其中有一个被观察者发送了一个 <code>Error</code> 事件，那么就会停止发送事件，如果想 <code>onError()</code> 事件延迟到所有被观察者都发送完事件后再执行的话，可以使用  <code>concatArrayDelayError()</code> 和 <code>mergeArrayDelayError()</code></p>
<p>首先使用 <code>concatArray()</code> 来验证其发送 <code>onError()</code> 事件是否会中断其他被观察者的发送事件</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line">Observable.concatArray(Observable.create(<span class="keyword">new</span> <span class="title class_">ObservableOnSubscribe</span>&lt;Integer&gt;() &#123;</span><br><span class="line">            <span class="meta">@Override</span></span><br><span class="line">            <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">subscribe</span><span class="params">(ObservableEmitter&lt;Integer&gt; emitter)</span> &#123;</span><br><span class="line">                emitter.onNext(<span class="number">1</span>);</span><br><span class="line">                emitter.onNext(<span class="number">2</span>);</span><br><span class="line">                emitter.onError(<span class="keyword">new</span> <span class="title class_">Exception</span>(<span class="string">&quot;Normal Exception&quot;</span>));</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;), Observable.just(<span class="number">30</span>, <span class="number">40</span>, <span class="number">50</span>)).subscribe(<span class="keyword">new</span> <span class="title class_">Observer</span>&lt;Integer&gt;() &#123;</span><br><span class="line">            <span class="meta">@Override</span></span><br><span class="line">            <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">onSubscribe</span><span class="params">(Disposable d)</span> &#123;</span><br><span class="line"></span><br><span class="line">            &#125;</span><br><span class="line"></span><br><span class="line">            <span class="meta">@Override</span></span><br><span class="line">            <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">onNext</span><span class="params">(Integer integer)</span> &#123;</span><br><span class="line">                Log.e(TAG, <span class="string">&quot;onNext: &quot;</span> + integer);</span><br><span class="line">            &#125;</span><br><span class="line"></span><br><span class="line">            <span class="meta">@Override</span></span><br><span class="line">            <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">onError</span><span class="params">(Throwable e)</span> &#123;</span><br><span class="line">                Log.e(TAG, <span class="string">&quot;onError: &quot;</span> + e.getMessage());</span><br><span class="line">            &#125;</span><br><span class="line"></span><br><span class="line">            <span class="meta">@Override</span></span><br><span class="line">            <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">onComplete</span><span class="params">()</span> &#123;</span><br><span class="line"></span><br><span class="line">            &#125;</span><br><span class="line">        &#125;);</span><br></pre></td></tr></table></figure>

<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">onNext: <span class="number">1</span></span><br><span class="line">onNext: <span class="number">2</span></span><br><span class="line">onError: Normal Exception</span><br></pre></td></tr></table></figure>

<p>从结果可以知道，确实中断了，现在换用 <code>concatArrayDelayError()</code></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="number">10</span>-<span class="number">06</span> <span class="number">04</span>:<span class="number">00</span>:<span class="number">04.935</span> <span class="number">6514</span>-<span class="number">6514</span>/? E/MainActivity: onNext: <span class="number">1</span></span><br><span class="line"><span class="number">10</span>-<span class="number">06</span> <span class="number">04</span>:<span class="number">00</span>:<span class="number">04.935</span> <span class="number">6514</span>-<span class="number">6514</span>/? E/MainActivity: onNext: <span class="number">2</span></span><br><span class="line"><span class="number">10</span>-<span class="number">06</span> <span class="number">04</span>:<span class="number">00</span>:<span class="number">04.935</span> <span class="number">6514</span>-<span class="number">6514</span>/? E/MainActivity: onNext: <span class="number">30</span></span><br><span class="line"><span class="number">10</span>-<span class="number">06</span> <span class="number">04</span>:<span class="number">00</span>:<span class="number">04.935</span> <span class="number">6514</span>-<span class="number">6514</span>/? E/MainActivity: onNext: <span class="number">40</span></span><br><span class="line"><span class="number">10</span>-<span class="number">06</span> <span class="number">04</span>:<span class="number">00</span>:<span class="number">04.935</span> <span class="number">6514</span>-<span class="number">6514</span>/? E/MainActivity: onNext: <span class="number">50</span></span><br><span class="line"><span class="number">10</span>-<span class="number">06</span> <span class="number">04</span>:<span class="number">00</span>:<span class="number">04.935</span> <span class="number">6514</span>-<span class="number">6514</span>/? E/MainActivity: onError: Normal Exception</span><br></pre></td></tr></table></figure>

<p>从结果可以看到，<code>onError</code> 事件是在所有被观察者发送完事件才发送的</p>
<h2 id="4、zip"><a href="#4、zip" class="headerlink" title="4、zip()"></a>4、zip()</h2><p><code>zip()</code> 操作符返回一个 <code>Obversable</code>，它使用这个函数按顺序结合两个或多个 Observables 发射的数据项，然后它发射这个函数返回的结果。它按照严格的顺序应用这个函数。它只发射与发射数据项最少的那个 Observable 一样多的数据</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">Observable.zip(Observable.just(<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>), Observable.just(<span class="number">5</span>, <span class="number">6</span>, <span class="number">7</span>, <span class="number">8</span>, <span class="number">9</span>),</span><br><span class="line">              <span class="keyword">new</span> <span class="title class_">BiFunction</span>&lt;Integer, Integer, String&gt;() &#123;</span><br><span class="line">                  <span class="meta">@Override</span></span><br><span class="line">                  <span class="keyword">public</span> String <span class="title function_">apply</span><span class="params">(Integer integer, Integer integer2)</span> <span class="keyword">throws</span> Exception &#123;</span><br><span class="line">                      <span class="keyword">return</span> String.valueOf(integer) + <span class="string">&quot;_&quot;</span> + String.valueOf(integer2);</span><br><span class="line">                  &#125;</span><br><span class="line">              &#125;)</span><br><span class="line">              .subscribe(<span class="keyword">new</span> <span class="title class_">Consumer</span>&lt;String&gt;() &#123;</span><br><span class="line">                  <span class="meta">@Override</span></span><br><span class="line">                  <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">accept</span><span class="params">(String s)</span> <span class="keyword">throws</span> Exception &#123;</span><br><span class="line">                      Log.e(TAG, <span class="string">&quot;accept: &quot;</span> + s);</span><br><span class="line">                  &#125;</span><br><span class="line">              &#125;);</span><br></pre></td></tr></table></figure>

<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">accept: <span class="number">1_5</span></span><br><span class="line">accept: <span class="number">2_6</span></span><br><span class="line">accept: <span class="number">3_7</span></span><br><span class="line">accept: <span class="number">4_8</span></span><br></pre></td></tr></table></figure>

<h2 id="5、combineLatest-combineLatestDelayError"><a href="#5、combineLatest-combineLatestDelayError" class="headerlink" title="5、combineLatest() &amp; combineLatestDelayError()"></a>5、combineLatest() &amp; combineLatestDelayError()</h2><p><code>combineLatest()</code> 的作用与 <code>zip()</code> 类似，<code>combineLatest()</code> 发送事件的序列是与发送的时间线有关的，当两个 <code>Observables</code> 中的任何一个发射了一个数据时，通过一个指定的函数组合每个 <code>Observable</code> 发射的最新数据，然后发射这个函数的结果</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line">Observable.zip(</span><br><span class="line">               Observable.intervalRange(<span class="number">1</span>, <span class="number">4</span>, <span class="number">1</span>, <span class="number">1</span>, TimeUnit.SECONDS)</span><br><span class="line">                        .map(<span class="keyword">new</span> <span class="title class_">Function</span>&lt;Long, String&gt;() &#123;</span><br><span class="line">                            <span class="meta">@Override</span></span><br><span class="line">                            <span class="keyword">public</span> String <span class="title function_">apply</span><span class="params">(Long aLong)</span> &#123;</span><br><span class="line">                                <span class="type">String</span> <span class="variable">s1</span> <span class="operator">=</span> <span class="string">&quot;A&quot;</span> + aLong;</span><br><span class="line">                                Log.e(TAG, <span class="string">&quot;A 发送的事件 &quot;</span> + s1);</span><br><span class="line">                                <span class="keyword">return</span> s1;</span><br><span class="line">                            &#125;</span><br><span class="line">                        &#125;), Observable.intervalRange(<span class="number">1</span>, <span class="number">4</span>, <span class="number">2</span>, <span class="number">1</span>, TimeUnit.SECONDS)</span><br><span class="line">                        .map(<span class="keyword">new</span> <span class="title class_">Function</span>&lt;Long, String&gt;() &#123;</span><br><span class="line">                            <span class="meta">@Override</span></span><br><span class="line">                            <span class="keyword">public</span> String <span class="title function_">apply</span><span class="params">(Long aLong)</span> &#123;</span><br><span class="line">                                <span class="type">String</span> <span class="variable">s1</span> <span class="operator">=</span> <span class="string">&quot;B&quot;</span> + aLong;</span><br><span class="line">                                Log.e(TAG, <span class="string">&quot;B 发送的事件 &quot;</span> + s1);</span><br><span class="line">                                <span class="keyword">return</span> s1;</span><br><span class="line">                            &#125;</span><br><span class="line">                        &#125;),</span><br><span class="line">                <span class="keyword">new</span> <span class="title class_">BiFunction</span>&lt;String, String, String&gt;() &#123;</span><br><span class="line">                    <span class="meta">@Override</span></span><br><span class="line">                    <span class="keyword">public</span> String <span class="title function_">apply</span><span class="params">(String value1, String value2)</span> <span class="keyword">throws</span> Exception &#123;</span><br><span class="line">                        <span class="keyword">return</span> value1 + <span class="string">&quot;_&quot;</span> + value2;</span><br><span class="line">                    &#125;</span><br><span class="line">                &#125;)</span><br><span class="line">                .subscribe(<span class="keyword">new</span> <span class="title class_">Consumer</span>&lt;String&gt;() &#123;</span><br><span class="line">                    <span class="meta">@Override</span></span><br><span class="line">                    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">accept</span><span class="params">(String s)</span> <span class="keyword">throws</span> Exception &#123;</span><br><span class="line">                        Log.e(TAG, <span class="string">&quot;accept: &quot;</span> + s);</span><br><span class="line">                    &#125;</span><br><span class="line">                &#125;);</span><br></pre></td></tr></table></figure>

<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="number">10</span>-<span class="number">06</span> <span class="number">05</span>:<span class="number">17</span>:<span class="number">06.337</span> <span class="number">7227</span>-<span class="number">7241</span>/leavesc.hello.rxjavademo E/MainActivity: A 发送的事件 A1</span><br><span class="line"><span class="number">10</span>-<span class="number">06</span> <span class="number">05</span>:<span class="number">17</span>:<span class="number">07.337</span> <span class="number">7227</span>-<span class="number">7241</span>/leavesc.hello.rxjavademo E/MainActivity: A 发送的事件 A2</span><br><span class="line"><span class="number">10</span>-<span class="number">06</span> <span class="number">05</span>:<span class="number">17</span>:<span class="number">07.337</span> <span class="number">7227</span>-<span class="number">7242</span>/leavesc.hello.rxjavademo E/MainActivity: B 发送的事件 B1</span><br><span class="line"><span class="number">10</span>-<span class="number">06</span> <span class="number">05</span>:<span class="number">17</span>:<span class="number">07.337</span> <span class="number">7227</span>-<span class="number">7242</span>/leavesc.hello.rxjavademo E/MainActivity: accept: A1_B1</span><br><span class="line"><span class="number">10</span>-<span class="number">06</span> <span class="number">05</span>:<span class="number">17</span>:<span class="number">08.337</span> <span class="number">7227</span>-<span class="number">7241</span>/leavesc.hello.rxjavademo E/MainActivity: A 发送的事件 A3</span><br><span class="line"><span class="number">10</span>-<span class="number">06</span> <span class="number">05</span>:<span class="number">17</span>:<span class="number">08.337</span> <span class="number">7227</span>-<span class="number">7242</span>/leavesc.hello.rxjavademo E/MainActivity: B 发送的事件 B2</span><br><span class="line"><span class="number">10</span>-<span class="number">06</span> <span class="number">05</span>:<span class="number">17</span>:<span class="number">08.337</span> <span class="number">7227</span>-<span class="number">7242</span>/leavesc.hello.rxjavademo E/MainActivity: accept: A2_B2</span><br><span class="line"><span class="number">10</span>-<span class="number">06</span> <span class="number">05</span>:<span class="number">17</span>:<span class="number">09.337</span> <span class="number">7227</span>-<span class="number">7242</span>/leavesc.hello.rxjavademo E/MainActivity: B 发送的事件 B3</span><br><span class="line"><span class="number">10</span>-<span class="number">06</span> <span class="number">05</span>:<span class="number">17</span>:<span class="number">09.337</span> <span class="number">7227</span>-<span class="number">7242</span>/leavesc.hello.rxjavademo E/MainActivity: accept: A3_B3</span><br><span class="line"><span class="number">10</span>-<span class="number">06</span> <span class="number">05</span>:<span class="number">17</span>:<span class="number">09.337</span> <span class="number">7227</span>-<span class="number">7241</span>/leavesc.hello.rxjavademo E/MainActivity: A 发送的事件 A4</span><br><span class="line"><span class="number">10</span>-<span class="number">06</span> <span class="number">05</span>:<span class="number">17</span>:<span class="number">10.337</span> <span class="number">7227</span>-<span class="number">7242</span>/leavesc.hello.rxjavademo E/MainActivity: B 发送的事件 B4</span><br><span class="line"><span class="number">10</span>-<span class="number">06</span> <span class="number">05</span>:<span class="number">17</span>:<span class="number">10.337</span> <span class="number">7227</span>-<span class="number">7242</span>/leavesc.hello.rxjavademo E/MainActivity: accept: A4_B4</span><br></pre></td></tr></table></figure>

<p>当发送 A1 和 A2 事件时，B 并没有发送任何事件，所以不会触发到 <code>accept</code> 方法。当发送了 B1 事件之后，就会与 A 最新发送的事件 A2 结合成 A1_B2，之后的发射规则也以此类推</p>
<p> <code>combineLatestDelayError()</code> 多了延迟发送 <code>onError()</code> 的功能</p>
<h2 id="6、reduce"><a href="#6、reduce" class="headerlink" title="6、reduce()"></a>6、reduce()</h2><p>与 <code>scan()</code> 操作符的作用类似，也是将发送数据以一定逻辑聚合起来，区别在于 <code>scan()</code> 每处理一次数据就会将事件发送给观察者，而 <code>reduce()</code> 会将所有数据聚合在一起才会发送事件给观察者</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">Observable.just(<span class="number">1</span>, <span class="number">3</span>, <span class="number">5</span>, <span class="number">7</span>).reduce(<span class="keyword">new</span> <span class="title class_">BiFunction</span>&lt;Integer, Integer, Integer&gt;() &#123;</span><br><span class="line">            <span class="meta">@Override</span></span><br><span class="line">            <span class="keyword">public</span> Integer <span class="title function_">apply</span><span class="params">(Integer integer, Integer integer2)</span> <span class="keyword">throws</span> Exception &#123;</span><br><span class="line">                Log.e(TAG, <span class="string">&quot;integer1 : &quot;</span> + integer);</span><br><span class="line">                Log.e(TAG, <span class="string">&quot;integer2 : &quot;</span> + integer2);</span><br><span class="line">                <span class="keyword">return</span> integer + integer2;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;).subscribe(<span class="keyword">new</span> <span class="title class_">Consumer</span>&lt;Integer&gt;() &#123;</span><br><span class="line">            <span class="meta">@Override</span></span><br><span class="line">            <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">accept</span><span class="params">(Integer integer)</span> <span class="keyword">throws</span> Exception &#123;</span><br><span class="line">                Log.e(TAG, <span class="string">&quot;accept : &quot;</span> + integer);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;);</span><br></pre></td></tr></table></figure>

<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">integer1 : <span class="number">1</span></span><br><span class="line">integer2 : <span class="number">3</span></span><br><span class="line">integer1 : <span class="number">4</span></span><br><span class="line">integer2 : <span class="number">5</span></span><br><span class="line">integer1 : <span class="number">9</span></span><br><span class="line">integer2 : <span class="number">7</span></span><br><span class="line">accept : <span class="number">16</span></span><br></pre></td></tr></table></figure>

<h2 id="7、collect"><a href="#7、collect" class="headerlink" title="7、collect()"></a>7、collect()</h2><p><code>collect()</code> 与 <code>reduce()</code> 类似，但它的目的是收集原始 Observable 发射的所有数据到一个可变的数据结构</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line">Observable.just(<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>)</span><br><span class="line">                .collect(<span class="keyword">new</span> <span class="title class_">Callable</span>&lt;ArrayList&lt;Integer&gt;&gt;() &#123;</span><br><span class="line">                    <span class="meta">@Override</span></span><br><span class="line">                    <span class="keyword">public</span> ArrayList&lt;Integer&gt; <span class="title function_">call</span><span class="params">()</span> <span class="keyword">throws</span> Exception &#123;</span><br><span class="line">                        <span class="keyword">return</span> <span class="keyword">new</span> <span class="title class_">ArrayList</span>&lt;&gt;();</span><br><span class="line">                    &#125;</span><br><span class="line">                &#125;, <span class="keyword">new</span> <span class="title class_">BiConsumer</span>&lt;ArrayList&lt;Integer&gt;, Integer&gt;() &#123;</span><br><span class="line">                    <span class="meta">@Override</span></span><br><span class="line">                    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">accept</span><span class="params">(ArrayList&lt;Integer&gt; integers, Integer integer)</span> <span class="keyword">throws</span> Exception &#123;</span><br><span class="line">                        integers.add(integer);</span><br><span class="line">                    &#125;</span><br><span class="line">                &#125;)</span><br><span class="line">                .subscribe(<span class="keyword">new</span> <span class="title class_">Consumer</span>&lt;ArrayList&lt;Integer&gt;&gt;() &#123;</span><br><span class="line">                    <span class="meta">@Override</span></span><br><span class="line">                    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">accept</span><span class="params">(ArrayList&lt;Integer&gt; integers)</span> <span class="keyword">throws</span> Exception &#123;</span><br><span class="line">                        Log.e(TAG, <span class="string">&quot;accept : &quot;</span> + integers);</span><br><span class="line">                    &#125;</span><br><span class="line">                &#125;);</span><br></pre></td></tr></table></figure>

<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">accept : [<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>]</span><br></pre></td></tr></table></figure>

<h2 id="8、startWith-startWithArray"><a href="#8、startWith-startWithArray" class="headerlink" title="8、startWith()  &amp;  startWithArray()"></a>8、startWith()  &amp;  startWithArray()</h2><p>在发送事件之前追加事件，<code>startWith()</code> 追加一个事件，<code>startWithArray()</code> 可以追加多个事件，追加的事件会先发出</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">Observable.just(<span class="number">4</span>, <span class="number">5</span>)</span><br><span class="line">        .startWithArray(<span class="number">2</span>, <span class="number">3</span>)</span><br><span class="line">        .startWith(<span class="number">1</span>)</span><br><span class="line">        .subscribe(<span class="keyword">new</span> <span class="title class_">Consumer</span>&lt;Integer&gt;() &#123;</span><br><span class="line">            <span class="meta">@Override</span></span><br><span class="line">            <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">accept</span><span class="params">(Integer integer)</span> <span class="keyword">throws</span> Exception &#123;</span><br><span class="line">                Log.e(TAG, <span class="string">&quot;accept : &quot;</span> + integer);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;);</span><br></pre></td></tr></table></figure>

<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="number">10</span>-<span class="number">06</span> <span class="number">05</span>:<span class="number">38</span>:<span class="number">21.081</span> <span class="number">8033</span>-<span class="number">8033</span>/leavesc.hello.rxjavademo E/MainActivity: accept : <span class="number">1</span></span><br><span class="line"><span class="number">10</span>-<span class="number">06</span> <span class="number">05</span>:<span class="number">38</span>:<span class="number">21.081</span> <span class="number">8033</span>-<span class="number">8033</span>/leavesc.hello.rxjavademo E/MainActivity: accept : <span class="number">2</span></span><br><span class="line"><span class="number">10</span>-<span class="number">06</span> <span class="number">05</span>:<span class="number">38</span>:<span class="number">21.081</span> <span class="number">8033</span>-<span class="number">8033</span>/leavesc.hello.rxjavademo E/MainActivity: accept : <span class="number">3</span></span><br><span class="line"><span class="number">10</span>-<span class="number">06</span> <span class="number">05</span>:<span class="number">38</span>:<span class="number">21.081</span> <span class="number">8033</span>-<span class="number">8033</span>/leavesc.hello.rxjavademo E/MainActivity: accept : <span class="number">4</span></span><br><span class="line"><span class="number">10</span>-<span class="number">06</span> <span class="number">05</span>:<span class="number">38</span>:<span class="number">21.081</span> <span class="number">8033</span>-<span class="number">8033</span>/leavesc.hello.rxjavademo E/MainActivity: accept : <span class="number">5</span></span><br></pre></td></tr></table></figure>

<h2 id="9、count"><a href="#9、count" class="headerlink" title="9、count()"></a>9、count()</h2><p>返回被观察者发送事件的数量</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">Observable.just(<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>)</span><br><span class="line">        .count()</span><br><span class="line">        .subscribe(<span class="keyword">new</span> <span class="title class_">Consumer</span>&lt;Long&gt;() &#123;</span><br><span class="line">            <span class="meta">@Override</span></span><br><span class="line">            <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">accept</span><span class="params">(Long aLong)</span> <span class="keyword">throws</span> Exception &#123;</span><br><span class="line">                Log.e(TAG, <span class="string">&quot;aLong : &quot;</span> + aLong);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;);</span><br></pre></td></tr></table></figure>

<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">aLong : 3</span><br></pre></td></tr></table></figure>

<h1 id="五、功能操作符"><a href="#五、功能操作符" class="headerlink" title="五、功能操作符"></a>五、功能操作符</h1><h2 id="1、delay"><a href="#1、delay" class="headerlink" title="1、delay()"></a>1、delay()</h2><p>延迟一段事件再发送事件</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">Observable.just(<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>)</span><br><span class="line">        .delay(<span class="number">3</span>, TimeUnit.SECONDS)</span><br><span class="line">        .subscribe(<span class="keyword">new</span> <span class="title class_">Consumer</span>&lt;Integer&gt;() &#123;</span><br><span class="line">            <span class="meta">@Override</span></span><br><span class="line">            <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">accept</span><span class="params">(Integer value)</span> <span class="keyword">throws</span> Exception &#123;</span><br><span class="line">                Log.e(TAG, <span class="string">&quot;value : &quot;</span> + value);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;);</span><br></pre></td></tr></table></figure>

<h2 id="2、doOnEach"><a href="#2、doOnEach" class="headerlink" title="2、doOnEach()"></a>2、doOnEach()</h2><p><code>Observable</code> 发送一次事件之前都会回调这个方法</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">Observable.just(<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>)</span><br><span class="line">                .doOnEach(<span class="keyword">new</span> <span class="title class_">Consumer</span>&lt;Notification&lt;Integer&gt;&gt;() &#123;</span><br><span class="line">                    <span class="meta">@Override</span></span><br><span class="line">                    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">accept</span><span class="params">(Notification&lt;Integer&gt; integerNotification)</span> <span class="keyword">throws</span> Exception &#123;</span><br><span class="line">                        Log.e(TAG, <span class="string">&quot;integerNotification value : &quot;</span> + integerNotification.getValue());</span><br><span class="line">                    &#125;</span><br><span class="line">                &#125;)</span><br><span class="line">                .subscribe(<span class="keyword">new</span> <span class="title class_">Consumer</span>&lt;Integer&gt;() &#123;</span><br><span class="line">                    <span class="meta">@Override</span></span><br><span class="line">                    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">accept</span><span class="params">(Integer value)</span> <span class="keyword">throws</span> Exception &#123;</span><br><span class="line">                        Log.e(TAG, <span class="string">&quot;accept : &quot;</span> + value);</span><br><span class="line">                    &#125;</span><br><span class="line">                &#125;);</span><br></pre></td></tr></table></figure>

<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="number">10</span>-<span class="number">06</span> <span class="number">05</span>:<span class="number">53</span>:<span class="number">28.510</span> <span class="number">8645</span>-<span class="number">8645</span>/? E/MainActivity: integerNotification value : <span class="number">1</span></span><br><span class="line"><span class="number">10</span>-<span class="number">06</span> <span class="number">05</span>:<span class="number">53</span>:<span class="number">28.510</span> <span class="number">8645</span>-<span class="number">8645</span>/? E/MainActivity: accept : <span class="number">1</span></span><br><span class="line"><span class="number">10</span>-<span class="number">06</span> <span class="number">05</span>:<span class="number">53</span>:<span class="number">28.510</span> <span class="number">8645</span>-<span class="number">8645</span>/? E/MainActivity: integerNotification value : <span class="number">2</span></span><br><span class="line"><span class="number">10</span>-<span class="number">06</span> <span class="number">05</span>:<span class="number">53</span>:<span class="number">28.510</span> <span class="number">8645</span>-<span class="number">8645</span>/? E/MainActivity: accept : <span class="number">2</span></span><br><span class="line"><span class="number">10</span>-<span class="number">06</span> <span class="number">05</span>:<span class="number">53</span>:<span class="number">28.510</span> <span class="number">8645</span>-<span class="number">8645</span>/? E/MainActivity: integerNotification value : <span class="number">3</span></span><br><span class="line"><span class="number">10</span>-<span class="number">06</span> <span class="number">05</span>:<span class="number">53</span>:<span class="number">28.510</span> <span class="number">8645</span>-<span class="number">8645</span>/? E/MainActivity: accept : <span class="number">3</span></span><br><span class="line"><span class="number">10</span>-<span class="number">06</span> <span class="number">05</span>:<span class="number">53</span>:<span class="number">28.510</span> <span class="number">8645</span>-<span class="number">8645</span>/? E/MainActivity: integerNotification value : <span class="literal">null</span></span><br></pre></td></tr></table></figure>

<h2 id="3、doOnNext"><a href="#3、doOnNext" class="headerlink" title="3、doOnNext()"></a>3、doOnNext()</h2><p><code>Observable</code> 发送 <code>onNext()</code> 之前都会先回调这个方法</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">Observable.just(<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>)</span><br><span class="line">                .doOnNext(<span class="keyword">new</span> <span class="title class_">Consumer</span>&lt;Integer&gt;() &#123;</span><br><span class="line">                    <span class="meta">@Override</span></span><br><span class="line">                    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">accept</span><span class="params">(Integer integer)</span> <span class="keyword">throws</span> Exception &#123;</span><br><span class="line">                        Log.e(TAG, <span class="string">&quot;doOnNext accept : &quot;</span> + integer);</span><br><span class="line">                    &#125;</span><br><span class="line">                &#125;)</span><br><span class="line">                .subscribe(<span class="keyword">new</span> <span class="title class_">Consumer</span>&lt;Integer&gt;() &#123;</span><br><span class="line">                    <span class="meta">@Override</span></span><br><span class="line">                    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">accept</span><span class="params">(Integer value)</span> <span class="keyword">throws</span> Exception &#123;</span><br><span class="line">                        Log.e(TAG, <span class="string">&quot;accept : &quot;</span> + value);</span><br><span class="line">                    &#125;</span><br><span class="line">                &#125;);</span><br></pre></td></tr></table></figure>

<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="number">10</span>-<span class="number">06</span> <span class="number">05</span>:<span class="number">55</span>:<span class="number">25.618</span> <span class="number">8758</span>-<span class="number">8758</span>/leavesc.hello.rxjavademo E/MainActivity: doOnNext accept : <span class="number">1</span></span><br><span class="line"><span class="number">10</span>-<span class="number">06</span> <span class="number">05</span>:<span class="number">55</span>:<span class="number">25.618</span> <span class="number">8758</span>-<span class="number">8758</span>/leavesc.hello.rxjavademo E/MainActivity: accept : <span class="number">1</span></span><br><span class="line"><span class="number">10</span>-<span class="number">06</span> <span class="number">05</span>:<span class="number">55</span>:<span class="number">25.618</span> <span class="number">8758</span>-<span class="number">8758</span>/leavesc.hello.rxjavademo E/MainActivity: doOnNext accept : <span class="number">2</span></span><br><span class="line"><span class="number">10</span>-<span class="number">06</span> <span class="number">05</span>:<span class="number">55</span>:<span class="number">25.618</span> <span class="number">8758</span>-<span class="number">8758</span>/leavesc.hello.rxjavademo E/MainActivity: accept : <span class="number">2</span></span><br><span class="line"><span class="number">10</span>-<span class="number">06</span> <span class="number">05</span>:<span class="number">55</span>:<span class="number">25.618</span> <span class="number">8758</span>-<span class="number">8758</span>/leavesc.hello.rxjavademo E/MainActivity: doOnNext accept : <span class="number">3</span></span><br><span class="line"><span class="number">10</span>-<span class="number">06</span> <span class="number">05</span>:<span class="number">55</span>:<span class="number">25.618</span> <span class="number">8758</span>-<span class="number">8758</span>/leavesc.hello.rxjavademo E/MainActivity: accept : <span class="number">3</span></span><br></pre></td></tr></table></figure>

<h2 id="4、doAfterNext"><a href="#4、doAfterNext" class="headerlink" title="4、doAfterNext()"></a>4、doAfterNext()</h2><p><code>Observable</code> 发送 <code>onNext()</code> 之后都会回调这个方法</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">Observable.just(<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>)</span><br><span class="line">                .doAfterNext(<span class="keyword">new</span> <span class="title class_">Consumer</span>&lt;Integer&gt;() &#123;</span><br><span class="line">                    <span class="meta">@Override</span></span><br><span class="line">                    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">accept</span><span class="params">(Integer integer)</span> <span class="keyword">throws</span> Exception &#123;</span><br><span class="line">                        Log.e(TAG, <span class="string">&quot;doOnNext accept : &quot;</span> + integer);</span><br><span class="line">                    &#125;</span><br><span class="line">                &#125;)</span><br><span class="line">                .subscribe(<span class="keyword">new</span> <span class="title class_">Consumer</span>&lt;Integer&gt;() &#123;</span><br><span class="line">                    <span class="meta">@Override</span></span><br><span class="line">                    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">accept</span><span class="params">(Integer value)</span> <span class="keyword">throws</span> Exception &#123;</span><br><span class="line">                        Log.e(TAG, <span class="string">&quot;accept : &quot;</span> + value);</span><br><span class="line">                    &#125;</span><br><span class="line">                &#125;);</span><br></pre></td></tr></table></figure>

<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="number">10</span>-<span class="number">06</span> <span class="number">05</span>:<span class="number">57</span>:<span class="number">09.357</span> <span class="number">8872</span>-<span class="number">8872</span>/leavesc.hello.rxjavademo E/MainActivity: accept : <span class="number">1</span></span><br><span class="line"><span class="number">10</span>-<span class="number">06</span> <span class="number">05</span>:<span class="number">57</span>:<span class="number">09.357</span> <span class="number">8872</span>-<span class="number">8872</span>/leavesc.hello.rxjavademo E/MainActivity: doOnNext accept : <span class="number">1</span></span><br><span class="line"><span class="number">10</span>-<span class="number">06</span> <span class="number">05</span>:<span class="number">57</span>:<span class="number">09.357</span> <span class="number">8872</span>-<span class="number">8872</span>/leavesc.hello.rxjavademo E/MainActivity: accept : <span class="number">2</span></span><br><span class="line"><span class="number">10</span>-<span class="number">06</span> <span class="number">05</span>:<span class="number">57</span>:<span class="number">09.357</span> <span class="number">8872</span>-<span class="number">8872</span>/leavesc.hello.rxjavademo E/MainActivity: doOnNext accept : <span class="number">2</span></span><br><span class="line"><span class="number">10</span>-<span class="number">06</span> <span class="number">05</span>:<span class="number">57</span>:<span class="number">09.357</span> <span class="number">8872</span>-<span class="number">8872</span>/leavesc.hello.rxjavademo E/MainActivity: accept : <span class="number">3</span></span><br><span class="line"><span class="number">10</span>-<span class="number">06</span> <span class="number">05</span>:<span class="number">57</span>:<span class="number">09.357</span> <span class="number">8872</span>-<span class="number">8872</span>/leavesc.hello.rxjavademo E/MainActivity: doOnNext accept : <span class="number">3</span></span><br></pre></td></tr></table></figure>

<h2 id="5、doOnComplete"><a href="#5、doOnComplete" class="headerlink" title="5、doOnComplete()"></a>5、doOnComplete()</h2><p><code>Observable</code> 调用 <code>onComplete()</code> 之前都会回调这个方法</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">Observable.just(<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>)</span><br><span class="line">                .doOnComplete(<span class="keyword">new</span> <span class="title class_">Action</span>() &#123;</span><br><span class="line">                    <span class="meta">@Override</span></span><br><span class="line">                    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">run</span><span class="params">()</span> <span class="keyword">throws</span> Exception &#123;</span><br><span class="line">                        Log.e(TAG, <span class="string">&quot;doOnComplete run()&quot;</span>);</span><br><span class="line">                    &#125;</span><br><span class="line">                &#125;)</span><br><span class="line">                .subscribe(<span class="keyword">new</span> <span class="title class_">Consumer</span>&lt;Integer&gt;() &#123;</span><br><span class="line">                    <span class="meta">@Override</span></span><br><span class="line">                    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">accept</span><span class="params">(Integer value)</span> <span class="keyword">throws</span> Exception &#123;</span><br><span class="line">                        Log.e(TAG, <span class="string">&quot;accept : &quot;</span> + value);</span><br><span class="line">                    &#125;</span><br><span class="line">                &#125;);</span><br></pre></td></tr></table></figure>

<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="number">10</span>-<span class="number">06</span> <span class="number">06</span>:08:<span class="number">43.688</span> <span class="number">8982</span>-<span class="number">8982</span>/leavesc.hello.rxjavademo E/MainActivity: accept : <span class="number">1</span></span><br><span class="line"><span class="number">10</span>-<span class="number">06</span> <span class="number">06</span>:08:<span class="number">43.688</span> <span class="number">8982</span>-<span class="number">8982</span>/leavesc.hello.rxjavademo E/MainActivity: accept : <span class="number">2</span></span><br><span class="line"><span class="number">10</span>-<span class="number">06</span> <span class="number">06</span>:08:<span class="number">43.688</span> <span class="number">8982</span>-<span class="number">8982</span>/leavesc.hello.rxjavademo E/MainActivity: accept : <span class="number">3</span></span><br><span class="line"><span class="number">10</span>-<span class="number">06</span> <span class="number">06</span>:08:<span class="number">43.688</span> <span class="number">8982</span>-<span class="number">8982</span>/leavesc.hello.rxjavademo E/MainActivity: doOnComplete <span class="title function_">run</span><span class="params">()</span></span><br></pre></td></tr></table></figure>

<h2 id="6、doOnError"><a href="#6、doOnError" class="headerlink" title="6、doOnError()"></a>6、doOnError()</h2><p><code>Observable</code> 发送 <code>onError()</code> 之前都会回调这个方法</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><span class="line">Observable.create(<span class="keyword">new</span> <span class="title class_">ObservableOnSubscribe</span>&lt;Integer&gt;() &#123;</span><br><span class="line">            <span class="meta">@Override</span></span><br><span class="line">            <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">subscribe</span><span class="params">(ObservableEmitter&lt;Integer&gt; emitter)</span> <span class="keyword">throws</span> Exception &#123;</span><br><span class="line">                emitter.onNext(<span class="number">1</span>);</span><br><span class="line">                emitter.onNext(<span class="number">2</span>);</span><br><span class="line">                emitter.onError(<span class="keyword">new</span> <span class="title class_">Exception</span>(<span class="string">&quot;Normal Exception&quot;</span>));</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;).doOnError(<span class="keyword">new</span> <span class="title class_">Consumer</span>&lt;Throwable&gt;() &#123;</span><br><span class="line">            <span class="meta">@Override</span></span><br><span class="line">            <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">accept</span><span class="params">(Throwable throwable)</span> <span class="keyword">throws</span> Exception &#123;</span><br><span class="line">                Log.e(TAG, <span class="string">&quot;doOnError accept() : &quot;</span> + throwable.getMessage());</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;).subscribe(<span class="keyword">new</span> <span class="title class_">Observer</span>&lt;Integer&gt;() &#123;</span><br><span class="line">            <span class="meta">@Override</span></span><br><span class="line">            <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">onSubscribe</span><span class="params">(Disposable d)</span> &#123;</span><br><span class="line"></span><br><span class="line">            &#125;</span><br><span class="line"></span><br><span class="line">            <span class="meta">@Override</span></span><br><span class="line">            <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">onNext</span><span class="params">(Integer integer)</span> &#123;</span><br><span class="line">                Log.e(TAG, <span class="string">&quot;onNext : &quot;</span> + integer);</span><br><span class="line">            &#125;</span><br><span class="line"></span><br><span class="line">            <span class="meta">@Override</span></span><br><span class="line">            <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">onError</span><span class="params">(Throwable e)</span> &#123;</span><br><span class="line">                Log.e(TAG, <span class="string">&quot;onError : &quot;</span> + e.getMessage());</span><br><span class="line">            &#125;</span><br><span class="line"></span><br><span class="line">            <span class="meta">@Override</span></span><br><span class="line">            <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">onComplete</span><span class="params">()</span> &#123;</span><br><span class="line"></span><br><span class="line">            &#125;</span><br><span class="line">        &#125;);</span><br></pre></td></tr></table></figure>

<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="number">10</span>-<span class="number">06</span> <span class="number">06</span>:<span class="number">14</span>:<span class="number">17.894</span> <span class="number">9230</span>-<span class="number">9230</span>/? E/MainActivity: onNext : <span class="number">1</span></span><br><span class="line"><span class="number">10</span>-<span class="number">06</span> <span class="number">06</span>:<span class="number">14</span>:<span class="number">17.894</span> <span class="number">9230</span>-<span class="number">9230</span>/? E/MainActivity: onNext : <span class="number">2</span></span><br><span class="line"><span class="number">10</span>-<span class="number">06</span> <span class="number">06</span>:<span class="number">14</span>:<span class="number">17.894</span> <span class="number">9230</span>-<span class="number">9230</span>/? E/MainActivity: doOnError <span class="title function_">accept</span><span class="params">()</span> : Normal Exception</span><br><span class="line"><span class="number">10</span>-<span class="number">06</span> <span class="number">06</span>:<span class="number">14</span>:<span class="number">17.894</span> <span class="number">9230</span>-<span class="number">9230</span>/? E/MainActivity: onError : Normal Exception</span><br></pre></td></tr></table></figure>

<h2 id="7、doOnSubscribe"><a href="#7、doOnSubscribe" class="headerlink" title="7、doOnSubscribe()"></a>7、doOnSubscribe()</h2><p><code>Observable</code> 发送 <code>onSubscribe()</code> 之前会回调这个方法</p>
<h2 id="8、doOnDispose"><a href="#8、doOnDispose" class="headerlink" title="8、doOnDispose()"></a>8、doOnDispose()</h2><p>当调用 <code>Disposable</code> 的 <code>dispose()</code> 之后会回调该方法</p>
<h2 id="9、doOnLifecycle"><a href="#9、doOnLifecycle" class="headerlink" title="9、doOnLifecycle()"></a>9、doOnLifecycle()</h2><p>在回调 <code>onSubscribe</code> 之前回调该方法的第一个参数的回调方法，可以使用该回调方法决定是否取消订阅，<code>doOnLifecycle()</code> 第二个参数的回调方法的作用与 <code>doOnDispose()</code> 一样</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br></pre></td><td class="code"><pre><span class="line">Observable.create(<span class="keyword">new</span> <span class="title class_">ObservableOnSubscribe</span>&lt;Integer&gt;() &#123;</span><br><span class="line">            <span class="meta">@Override</span></span><br><span class="line">            <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">subscribe</span><span class="params">(ObservableEmitter&lt;Integer&gt; emitter)</span> <span class="keyword">throws</span> Exception &#123;</span><br><span class="line">                emitter.onNext(<span class="number">1</span>);</span><br><span class="line">                emitter.onNext(<span class="number">2</span>);</span><br><span class="line">                emitter.onComplete();</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;).doOnLifecycle(<span class="keyword">new</span> <span class="title class_">Consumer</span>&lt;Disposable&gt;() &#123;</span><br><span class="line">            <span class="meta">@Override</span></span><br><span class="line">            <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">accept</span><span class="params">(Disposable disposable)</span> <span class="keyword">throws</span> Exception &#123;</span><br><span class="line">                Log.e(TAG, <span class="string">&quot;doOnLifecycle accept&quot;</span>);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;, <span class="keyword">new</span> <span class="title class_">Action</span>() &#123;</span><br><span class="line">            <span class="meta">@Override</span></span><br><span class="line">            <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">run</span><span class="params">()</span> <span class="keyword">throws</span> Exception &#123;</span><br><span class="line">                Log.e(TAG, <span class="string">&quot;doOnLifecycle run&quot;</span>);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;).subscribe(<span class="keyword">new</span> <span class="title class_">Observer</span>&lt;Integer&gt;() &#123;</span><br><span class="line"></span><br><span class="line">            <span class="keyword">private</span> Disposable disposable;</span><br><span class="line"></span><br><span class="line">            <span class="meta">@Override</span></span><br><span class="line">            <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">onSubscribe</span><span class="params">(Disposable d)</span> &#123;</span><br><span class="line">                Log.e(TAG, <span class="string">&quot;onSubscribe&quot;</span>);</span><br><span class="line">                <span class="built_in">this</span>.disposable = d;</span><br><span class="line">            &#125;</span><br><span class="line"></span><br><span class="line">            <span class="meta">@Override</span></span><br><span class="line">            <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">onNext</span><span class="params">(Integer integer)</span> &#123;</span><br><span class="line">                Log.e(TAG, <span class="string">&quot;onNext : &quot;</span> + integer);</span><br><span class="line">                disposable.dispose();</span><br><span class="line">            &#125;</span><br><span class="line"></span><br><span class="line">            <span class="meta">@Override</span></span><br><span class="line">            <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">onError</span><span class="params">(Throwable e)</span> &#123;</span><br><span class="line">                Log.e(TAG, <span class="string">&quot;onError : &quot;</span> + e.getMessage());</span><br><span class="line">            &#125;</span><br><span class="line"></span><br><span class="line">            <span class="meta">@Override</span></span><br><span class="line">            <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">onComplete</span><span class="params">()</span> &#123;</span><br><span class="line">                Log.e(TAG, <span class="string">&quot;onComplete&quot;</span>);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;);</span><br></pre></td></tr></table></figure>

<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="number">10</span>-<span class="number">06</span> <span class="number">06</span>:<span class="number">31</span>:<span class="number">45.011</span> <span class="number">9602</span>-<span class="number">9602</span>/leavesc.hello.rxjavademo E/MainActivity: doOnLifecycle accept</span><br><span class="line"><span class="number">10</span>-<span class="number">06</span> <span class="number">06</span>:<span class="number">31</span>:<span class="number">45.011</span> <span class="number">9602</span>-<span class="number">9602</span>/leavesc.hello.rxjavademo E/MainActivity: onSubscribe</span><br><span class="line"><span class="number">10</span>-<span class="number">06</span> <span class="number">06</span>:<span class="number">31</span>:<span class="number">45.011</span> <span class="number">9602</span>-<span class="number">9602</span>/leavesc.hello.rxjavademo E/MainActivity: onNext : <span class="number">1</span></span><br><span class="line"><span class="number">10</span>-<span class="number">06</span> <span class="number">06</span>:<span class="number">31</span>:<span class="number">45.011</span> <span class="number">9602</span>-<span class="number">9602</span>/leavesc.hello.rxjavademo E/MainActivity: doOnLifecycle run</span><br></pre></td></tr></table></figure>

<h2 id="10、doOnTerminate-doAfterTerminate"><a href="#10、doOnTerminate-doAfterTerminate" class="headerlink" title="10、doOnTerminate() &amp; doAfterTerminate()"></a>10、doOnTerminate() &amp; doAfterTerminate()</h2><p><code>doOnTerminate</code> 是在 <code>onError</code> 或者 <code>onComplete</code> 发送之前回调，而 <code>doAfterTerminate</code> 则是 <code>onError</code> 或者 <code>onComplete</code> 发送之后回调</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br></pre></td><td class="code"><pre><span class="line">Observable.create(<span class="keyword">new</span> <span class="title class_">ObservableOnSubscribe</span>&lt;Integer&gt;() &#123;</span><br><span class="line">            <span class="meta">@Override</span></span><br><span class="line">            <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">subscribe</span><span class="params">(ObservableEmitter&lt;Integer&gt; emitter)</span> <span class="keyword">throws</span> Exception &#123;</span><br><span class="line">                emitter.onNext(<span class="number">1</span>);</span><br><span class="line">                emitter.onNext(<span class="number">2</span>);</span><br><span class="line">                emitter.onComplete();</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;).doOnTerminate(<span class="keyword">new</span> <span class="title class_">Action</span>() &#123;</span><br><span class="line">            <span class="meta">@Override</span></span><br><span class="line">            <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">run</span><span class="params">()</span> <span class="keyword">throws</span> Exception &#123;</span><br><span class="line">                Log.e(TAG, <span class="string">&quot;doOnTerminate run&quot;</span>);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;).doAfterTerminate(<span class="keyword">new</span> <span class="title class_">Action</span>() &#123;</span><br><span class="line">            <span class="meta">@Override</span></span><br><span class="line">            <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">run</span><span class="params">()</span> <span class="keyword">throws</span> Exception &#123;</span><br><span class="line">                Log.e(TAG, <span class="string">&quot;doAfterTerminate run&quot;</span>);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;).subscribe(<span class="keyword">new</span> <span class="title class_">Observer</span>&lt;Integer&gt;() &#123;</span><br><span class="line"></span><br><span class="line">            <span class="meta">@Override</span></span><br><span class="line">            <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">onSubscribe</span><span class="params">(Disposable d)</span> &#123;</span><br><span class="line">                Log.e(TAG, <span class="string">&quot;onSubscribe&quot;</span>);</span><br><span class="line">            &#125;</span><br><span class="line"></span><br><span class="line">            <span class="meta">@Override</span></span><br><span class="line">            <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">onNext</span><span class="params">(Integer integer)</span> &#123;</span><br><span class="line">                Log.e(TAG, <span class="string">&quot;onNext : &quot;</span> + integer);</span><br><span class="line">            &#125;</span><br><span class="line"></span><br><span class="line">            <span class="meta">@Override</span></span><br><span class="line">            <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">onError</span><span class="params">(Throwable e)</span> &#123;</span><br><span class="line">                Log.e(TAG, <span class="string">&quot;onError : &quot;</span> + e.getMessage());</span><br><span class="line">            &#125;</span><br><span class="line"></span><br><span class="line">            <span class="meta">@Override</span></span><br><span class="line">            <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">onComplete</span><span class="params">()</span> &#123;</span><br><span class="line">                Log.e(TAG, <span class="string">&quot;onComplete&quot;</span>);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;);</span><br></pre></td></tr></table></figure>

<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="number">10</span>-<span class="number">06</span> <span class="number">06</span>:<span class="number">34</span>:<span class="number">55.968</span> <span class="number">9713</span>-<span class="number">9713</span>/? E/MainActivity: onSubscribe</span><br><span class="line"><span class="number">10</span>-<span class="number">06</span> <span class="number">06</span>:<span class="number">34</span>:<span class="number">55.968</span> <span class="number">9713</span>-<span class="number">9713</span>/? E/MainActivity: onNext : <span class="number">1</span></span><br><span class="line"><span class="number">10</span>-<span class="number">06</span> <span class="number">06</span>:<span class="number">34</span>:<span class="number">55.968</span> <span class="number">9713</span>-<span class="number">9713</span>/? E/MainActivity: onNext : <span class="number">2</span></span><br><span class="line"><span class="number">10</span>-<span class="number">06</span> <span class="number">06</span>:<span class="number">34</span>:<span class="number">55.968</span> <span class="number">9713</span>-<span class="number">9713</span>/? E/MainActivity: doOnTerminate run</span><br><span class="line"><span class="number">10</span>-<span class="number">06</span> <span class="number">06</span>:<span class="number">34</span>:<span class="number">55.968</span> <span class="number">9713</span>-<span class="number">9713</span>/? E/MainActivity: onComplete</span><br><span class="line"><span class="number">10</span>-<span class="number">06</span> <span class="number">06</span>:<span class="number">34</span>:<span class="number">55.968</span> <span class="number">9713</span>-<span class="number">9713</span>/? E/MainActivity: doAfterTerminate run</span><br></pre></td></tr></table></figure>

<h2 id="11、doFinally"><a href="#11、doFinally" class="headerlink" title="11、doFinally()"></a>11、doFinally()</h2><p>在所有事件发送完毕之后回调该方法。 <code>doFinally()</code> 和 <code>doAfterTerminate()</code> 的区别在于取消订阅时，如果取消订阅，之后 <code>doAfterTerminate()</code> 就不会被回调，而 <code>doFinally()</code> 无论怎么样都会被回调，且都会在事件序列的最后</p>
<h2 id="12、onErrorReturn"><a href="#12、onErrorReturn" class="headerlink" title="12、onErrorReturn()"></a>12、onErrorReturn()</h2><p>当接受到一个 <code>onError()</code> 事件之后回调，返回的值会回调 <code>onNext()</code> 方法，并正常结束该事件序列</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><span class="line">Observable.create(<span class="keyword">new</span> <span class="title class_">ObservableOnSubscribe</span>&lt;Integer&gt;() &#123;</span><br><span class="line">            <span class="meta">@Override</span></span><br><span class="line">            <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">subscribe</span><span class="params">(ObservableEmitter&lt;Integer&gt; emitter)</span> <span class="keyword">throws</span> Exception &#123;</span><br><span class="line">                emitter.onNext(<span class="number">1</span>);</span><br><span class="line">                emitter.onNext(<span class="number">2</span>);</span><br><span class="line">                emitter.onError(<span class="keyword">new</span> <span class="title class_">Exception</span>(<span class="string">&quot;Normal Exception&quot;</span>));</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;).onErrorReturn(<span class="keyword">new</span> <span class="title class_">Function</span>&lt;Throwable, Integer&gt;() &#123;</span><br><span class="line">            <span class="meta">@Override</span></span><br><span class="line">            <span class="keyword">public</span> Integer <span class="title function_">apply</span><span class="params">(Throwable throwable)</span> <span class="keyword">throws</span> Exception &#123;</span><br><span class="line">                <span class="keyword">return</span> <span class="number">7</span>;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;).subscribe(<span class="keyword">new</span> <span class="title class_">Observer</span>&lt;Integer&gt;() &#123;</span><br><span class="line"></span><br><span class="line">            <span class="meta">@Override</span></span><br><span class="line">            <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">onSubscribe</span><span class="params">(Disposable d)</span> &#123;</span><br><span class="line">                Log.e(TAG, <span class="string">&quot;onSubscribe&quot;</span>);</span><br><span class="line">            &#125;</span><br><span class="line"></span><br><span class="line">            <span class="meta">@Override</span></span><br><span class="line">            <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">onNext</span><span class="params">(Integer integer)</span> &#123;</span><br><span class="line">                Log.e(TAG, <span class="string">&quot;onNext : &quot;</span> + integer);</span><br><span class="line">            &#125;</span><br><span class="line"></span><br><span class="line">            <span class="meta">@Override</span></span><br><span class="line">            <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">onError</span><span class="params">(Throwable e)</span> &#123;</span><br><span class="line">                Log.e(TAG, <span class="string">&quot;onError : &quot;</span> + e.getMessage());</span><br><span class="line">            &#125;</span><br><span class="line"></span><br><span class="line">            <span class="meta">@Override</span></span><br><span class="line">            <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">onComplete</span><span class="params">()</span> &#123;</span><br><span class="line">                Log.e(TAG, <span class="string">&quot;onComplete&quot;</span>);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;);</span><br></pre></td></tr></table></figure>

<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="number">10</span>-<span class="number">06</span> <span class="number">06</span>:<span class="number">43</span>:<span class="number">13.702</span> <span class="number">9946</span>-<span class="number">9946</span>/leavesc.hello.rxjavademo E/MainActivity: onSubscribe</span><br><span class="line"><span class="number">10</span>-<span class="number">06</span> <span class="number">06</span>:<span class="number">43</span>:<span class="number">13.702</span> <span class="number">9946</span>-<span class="number">9946</span>/leavesc.hello.rxjavademo E/MainActivity: onNext : <span class="number">1</span></span><br><span class="line"><span class="number">10</span>-<span class="number">06</span> <span class="number">06</span>:<span class="number">43</span>:<span class="number">13.702</span> <span class="number">9946</span>-<span class="number">9946</span>/leavesc.hello.rxjavademo E/MainActivity: onNext : <span class="number">2</span></span><br><span class="line"><span class="number">10</span>-<span class="number">06</span> <span class="number">06</span>:<span class="number">43</span>:<span class="number">13.712</span> <span class="number">9946</span>-<span class="number">9946</span>/leavesc.hello.rxjavademo E/MainActivity: onNext : <span class="number">7</span></span><br><span class="line"><span class="number">10</span>-<span class="number">06</span> <span class="number">06</span>:<span class="number">43</span>:<span class="number">13.712</span> <span class="number">9946</span>-<span class="number">9946</span>/leavesc.hello.rxjavademo E/MainActivity: onComplete</span><br></pre></td></tr></table></figure>

<h2 id="13、onErrorResumeNext"><a href="#13、onErrorResumeNext" class="headerlink" title="13、onErrorResumeNext()"></a>13、onErrorResumeNext()</h2><p>当接收到 <code>onError()</code> 事件时，返回一个新的 <code>Observable</code>，并正常结束事件序列</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br></pre></td><td class="code"><pre><span class="line">Observable.create(<span class="keyword">new</span> <span class="title class_">ObservableOnSubscribe</span>&lt;Integer&gt;() &#123;</span><br><span class="line">            <span class="meta">@Override</span></span><br><span class="line">            <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">subscribe</span><span class="params">(ObservableEmitter&lt;Integer&gt; emitter)</span> <span class="keyword">throws</span> Exception &#123;</span><br><span class="line">                emitter.onNext(<span class="number">1</span>);</span><br><span class="line">                emitter.onNext(<span class="number">2</span>);</span><br><span class="line">                emitter.onError(<span class="keyword">new</span> <span class="title class_">Exception</span>(<span class="string">&quot;Normal Exception&quot;</span>));</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;).onErrorResumeNext(<span class="keyword">new</span> <span class="title class_">Function</span>&lt;Throwable, ObservableSource&lt;? <span class="keyword">extends</span> <span class="title class_">Integer</span>&gt;&gt;() &#123;</span><br><span class="line">            <span class="meta">@Override</span></span><br><span class="line">            <span class="keyword">public</span> ObservableSource&lt;? <span class="keyword">extends</span> <span class="title class_">Integer</span>&gt; apply(Throwable throwable) <span class="keyword">throws</span> Exception &#123;</span><br><span class="line">                Log.e(TAG, <span class="string">&quot;onErrorResumeNext apply: &quot;</span> + throwable.getMessage());</span><br><span class="line">                <span class="keyword">return</span> Observable.just(<span class="number">4</span>, <span class="number">5</span>, <span class="number">6</span>);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;).subscribe(<span class="keyword">new</span> <span class="title class_">Observer</span>&lt;Integer&gt;() &#123;</span><br><span class="line"></span><br><span class="line">            <span class="meta">@Override</span></span><br><span class="line">            <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">onSubscribe</span><span class="params">(Disposable d)</span> &#123;</span><br><span class="line">                Log.e(TAG, <span class="string">&quot;onSubscribe&quot;</span>);</span><br><span class="line">            &#125;</span><br><span class="line"></span><br><span class="line">            <span class="meta">@Override</span></span><br><span class="line">            <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">onNext</span><span class="params">(Integer integer)</span> &#123;</span><br><span class="line">                Log.e(TAG, <span class="string">&quot;onNext : &quot;</span> + integer);</span><br><span class="line">            &#125;</span><br><span class="line"></span><br><span class="line">            <span class="meta">@Override</span></span><br><span class="line">            <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">onError</span><span class="params">(Throwable e)</span> &#123;</span><br><span class="line">                Log.e(TAG, <span class="string">&quot;onError : &quot;</span> + e.getMessage());</span><br><span class="line">            &#125;</span><br><span class="line"></span><br><span class="line">            <span class="meta">@Override</span></span><br><span class="line">            <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">onComplete</span><span class="params">()</span> &#123;</span><br><span class="line">                Log.e(TAG, <span class="string">&quot;onComplete&quot;</span>);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;);</span><br></pre></td></tr></table></figure>

<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="number">10</span>-<span class="number">06</span> <span class="number">06</span>:<span class="number">46</span>:<span class="number">36.650</span> <span class="number">10243</span>-<span class="number">10243</span>/leavesc.hello.rxjavademo E/MainActivity: onSubscribe</span><br><span class="line"><span class="number">10</span>-<span class="number">06</span> <span class="number">06</span>:<span class="number">46</span>:<span class="number">36.650</span> <span class="number">10243</span>-<span class="number">10243</span>/leavesc.hello.rxjavademo E/MainActivity: onNext : <span class="number">1</span></span><br><span class="line"><span class="number">10</span>-<span class="number">06</span> <span class="number">06</span>:<span class="number">46</span>:<span class="number">36.650</span> <span class="number">10243</span>-<span class="number">10243</span>/leavesc.hello.rxjavademo E/MainActivity: onNext : <span class="number">2</span></span><br><span class="line"><span class="number">10</span>-<span class="number">06</span> <span class="number">06</span>:<span class="number">46</span>:<span class="number">36.650</span> <span class="number">10243</span>-<span class="number">10243</span>/leavesc.hello.rxjavademo E/MainActivity: onErrorResumeNext apply: Normal Exception</span><br><span class="line"><span class="number">10</span>-<span class="number">06</span> <span class="number">06</span>:<span class="number">46</span>:<span class="number">36.650</span> <span class="number">10243</span>-<span class="number">10243</span>/leavesc.hello.rxjavademo E/MainActivity: onNext : <span class="number">4</span></span><br><span class="line"><span class="number">10</span>-<span class="number">06</span> <span class="number">06</span>:<span class="number">46</span>:<span class="number">36.650</span> <span class="number">10243</span>-<span class="number">10243</span>/leavesc.hello.rxjavademo E/MainActivity: onNext : <span class="number">5</span></span><br><span class="line"><span class="number">10</span>-<span class="number">06</span> <span class="number">06</span>:<span class="number">46</span>:<span class="number">36.650</span> <span class="number">10243</span>-<span class="number">10243</span>/leavesc.hello.rxjavademo E/MainActivity: onNext : <span class="number">6</span></span><br><span class="line"><span class="number">10</span>-<span class="number">06</span> <span class="number">06</span>:<span class="number">46</span>:<span class="number">36.650</span> <span class="number">10243</span>-<span class="number">10243</span>/leavesc.hello.rxjavademo E/MainActivity: onComplete</span><br></pre></td></tr></table></figure>

<h2 id="14、-onExceptionResumeNext"><a href="#14、-onExceptionResumeNext" class="headerlink" title="14、 onExceptionResumeNext()"></a>14、 onExceptionResumeNext()</h2><p>与 <code>onErrorResumeNext()</code> 作用基本一致，但是这个方法只能捕捉 <code>Exception</code>，不能捕获 <code>Error</code></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br></pre></td><td class="code"><pre><span class="line">Observable.create(<span class="keyword">new</span> <span class="title class_">ObservableOnSubscribe</span>&lt;Integer&gt;() &#123;</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">subscribe</span><span class="params">(ObservableEmitter&lt;Integer&gt; emitter)</span> <span class="keyword">throws</span> Exception &#123;</span><br><span class="line">        emitter.onNext(<span class="number">1</span>);</span><br><span class="line">        emitter.onNext(<span class="number">2</span>);</span><br><span class="line">        emitter.onError(<span class="keyword">new</span> <span class="title class_">Exception</span>(<span class="string">&quot;Normal Exception&quot;</span>));</span><br><span class="line">    &#125;</span><br><span class="line">&#125;).onExceptionResumeNext(<span class="keyword">new</span> <span class="title class_">Observable</span>&lt;Integer&gt;() &#123;</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">protected</span> <span class="keyword">void</span> <span class="title function_">subscribeActual</span><span class="params">(Observer&lt;? <span class="built_in">super</span> Integer&gt; observer)</span> &#123;</span><br><span class="line">        Log.e(TAG, <span class="string">&quot;onExceptionResumeNext subscribeActual&quot;</span>);</span><br><span class="line">        observer.onNext(<span class="number">3</span>);</span><br><span class="line">        observer.onComplete();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;).subscribe(<span class="keyword">new</span> <span class="title class_">Observer</span>&lt;Integer&gt;() &#123;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">onSubscribe</span><span class="params">(Disposable d)</span> &#123;</span><br><span class="line">        Log.e(TAG, <span class="string">&quot;onSubscribe&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">onNext</span><span class="params">(Integer integer)</span> &#123;</span><br><span class="line">        Log.e(TAG, <span class="string">&quot;onNext : &quot;</span> + integer);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">onError</span><span class="params">(Throwable e)</span> &#123;</span><br><span class="line">        Log.e(TAG, <span class="string">&quot;onError : &quot;</span> + e.getMessage());</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">onComplete</span><span class="params">()</span> &#123;</span><br><span class="line">        Log.e(TAG, <span class="string">&quot;onComplete&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>

<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="number">10</span>-<span class="number">06</span> <span class="number">06</span>:<span class="number">51</span>:<span class="number">49.396</span> <span class="number">10369</span>-<span class="number">10369</span>/leavesc.hello.rxjavademo E/MainActivity: onSubscribe</span><br><span class="line"><span class="number">10</span>-<span class="number">06</span> <span class="number">06</span>:<span class="number">51</span>:<span class="number">49.396</span> <span class="number">10369</span>-<span class="number">10369</span>/leavesc.hello.rxjavademo E/MainActivity: onNext : <span class="number">1</span></span><br><span class="line"><span class="number">10</span>-<span class="number">06</span> <span class="number">06</span>:<span class="number">51</span>:<span class="number">49.396</span> <span class="number">10369</span>-<span class="number">10369</span>/leavesc.hello.rxjavademo E/MainActivity: onNext : <span class="number">2</span></span><br><span class="line"><span class="number">10</span>-<span class="number">06</span> <span class="number">06</span>:<span class="number">51</span>:<span class="number">49.396</span> <span class="number">10369</span>-<span class="number">10369</span>/leavesc.hello.rxjavademo E/MainActivity: onExceptionResumeNext subscribeActual</span><br><span class="line"><span class="number">10</span>-<span class="number">06</span> <span class="number">06</span>:<span class="number">51</span>:<span class="number">49.396</span> <span class="number">10369</span>-<span class="number">10369</span>/leavesc.hello.rxjavademo E/MainActivity: onNext : <span class="number">3</span></span><br><span class="line"><span class="number">10</span>-<span class="number">06</span> <span class="number">06</span>:<span class="number">51</span>:<span class="number">49.396</span> <span class="number">10369</span>-<span class="number">10369</span>/leavesc.hello.rxjavademo E/MainActivity: onComplete</span><br></pre></td></tr></table></figure>

<p>将 <code>emitter.onError(new Exception(&quot;Normal Exception&quot;))</code> 改为 <code>emitter.onError(new Error(&quot;Normal Exception&quot;));</code></p>
<p>异常将不会被捕获</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="number">10</span>-<span class="number">06</span> <span class="number">06</span>:<span class="number">53</span>:<span class="number">21.655</span> <span class="number">10479</span>-<span class="number">10479</span>/leavesc.hello.rxjavademo E/MainActivity: onSubscribe</span><br><span class="line"><span class="number">10</span>-<span class="number">06</span> <span class="number">06</span>:<span class="number">53</span>:<span class="number">21.655</span> <span class="number">10479</span>-<span class="number">10479</span>/leavesc.hello.rxjavademo E/MainActivity: onNext : <span class="number">1</span></span><br><span class="line"><span class="number">10</span>-<span class="number">06</span> <span class="number">06</span>:<span class="number">53</span>:<span class="number">21.655</span> <span class="number">10479</span>-<span class="number">10479</span>/leavesc.hello.rxjavademo E/MainActivity: onNext : <span class="number">2</span></span><br><span class="line"><span class="number">10</span>-<span class="number">06</span> <span class="number">06</span>:<span class="number">53</span>:<span class="number">21.655</span> <span class="number">10479</span>-<span class="number">10479</span>/leavesc.hello.rxjavademo E/MainActivity: onError : Normal Exception</span><br></pre></td></tr></table></figure>

<h2 id="15、retry"><a href="#15、retry" class="headerlink" title="15、retry()"></a>15、retry()</h2><p>如果出现错误事件，则会重新发送所有事件序列指定次数</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line">Observable.create(<span class="keyword">new</span> <span class="title class_">ObservableOnSubscribe</span>&lt;Integer&gt;() &#123;</span><br><span class="line">            <span class="meta">@Override</span></span><br><span class="line">            <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">subscribe</span><span class="params">(ObservableEmitter&lt;Integer&gt; emitter)</span> <span class="keyword">throws</span> Exception &#123;</span><br><span class="line">                emitter.onNext(<span class="number">1</span>);</span><br><span class="line">                emitter.onNext(<span class="number">2</span>);</span><br><span class="line">                emitter.onError(<span class="keyword">new</span> <span class="title class_">Error</span>(<span class="string">&quot;Normal Exception&quot;</span>));</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;).retry(<span class="number">2</span>).subscribe(<span class="keyword">new</span> <span class="title class_">Observer</span>&lt;Integer&gt;() &#123;</span><br><span class="line"></span><br><span class="line">            <span class="meta">@Override</span></span><br><span class="line">            <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">onSubscribe</span><span class="params">(Disposable d)</span> &#123;</span><br><span class="line">                Log.e(TAG, <span class="string">&quot;onSubscribe&quot;</span>);</span><br><span class="line">            &#125;</span><br><span class="line"></span><br><span class="line">            <span class="meta">@Override</span></span><br><span class="line">            <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">onNext</span><span class="params">(Integer integer)</span> &#123;</span><br><span class="line">                Log.e(TAG, <span class="string">&quot;onNext : &quot;</span> + integer);</span><br><span class="line">            &#125;</span><br><span class="line"></span><br><span class="line">            <span class="meta">@Override</span></span><br><span class="line">            <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">onError</span><span class="params">(Throwable e)</span> &#123;</span><br><span class="line">                Log.e(TAG, <span class="string">&quot;onError : &quot;</span> + e.getMessage());</span><br><span class="line">            &#125;</span><br><span class="line"></span><br><span class="line">            <span class="meta">@Override</span></span><br><span class="line">            <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">onComplete</span><span class="params">()</span> &#123;</span><br><span class="line">                Log.e(TAG, <span class="string">&quot;onComplete&quot;</span>);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;);</span><br></pre></td></tr></table></figure>

<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="number">10</span>-<span class="number">06</span> <span class="number">06</span>:<span class="number">55</span>:<span class="number">17.273</span> <span class="number">10591</span>-<span class="number">10591</span>/? E/MainActivity: onSubscribe</span><br><span class="line"><span class="number">10</span>-<span class="number">06</span> <span class="number">06</span>:<span class="number">55</span>:<span class="number">17.273</span> <span class="number">10591</span>-<span class="number">10591</span>/? E/MainActivity: onNext : <span class="number">1</span></span><br><span class="line"><span class="number">10</span>-<span class="number">06</span> <span class="number">06</span>:<span class="number">55</span>:<span class="number">17.273</span> <span class="number">10591</span>-<span class="number">10591</span>/? E/MainActivity: onNext : <span class="number">2</span></span><br><span class="line"><span class="number">10</span>-<span class="number">06</span> <span class="number">06</span>:<span class="number">55</span>:<span class="number">17.273</span> <span class="number">10591</span>-<span class="number">10591</span>/? E/MainActivity: onNext : <span class="number">1</span></span><br><span class="line"><span class="number">10</span>-<span class="number">06</span> <span class="number">06</span>:<span class="number">55</span>:<span class="number">17.273</span> <span class="number">10591</span>-<span class="number">10591</span>/? E/MainActivity: onNext : <span class="number">2</span></span><br><span class="line"><span class="number">10</span>-<span class="number">06</span> <span class="number">06</span>:<span class="number">55</span>:<span class="number">17.273</span> <span class="number">10591</span>-<span class="number">10591</span>/? E/MainActivity: onNext : <span class="number">1</span></span><br><span class="line"><span class="number">10</span>-<span class="number">06</span> <span class="number">06</span>:<span class="number">55</span>:<span class="number">17.273</span> <span class="number">10591</span>-<span class="number">10591</span>/? E/MainActivity: onNext : <span class="number">2</span></span><br><span class="line"><span class="number">10</span>-<span class="number">06</span> <span class="number">06</span>:<span class="number">55</span>:<span class="number">17.273</span> <span class="number">10591</span>-<span class="number">10591</span>/? E/MainActivity: onError : Normal Exception</span><br></pre></td></tr></table></figure>

<h2 id="16、retryUntil"><a href="#16、retryUntil" class="headerlink" title="16、retryUntil()"></a>16、retryUntil()</h2><p>出现错误事件之后，可以通过此方法判断是否继续发送事件</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br></pre></td><td class="code"><pre><span class="line">    <span class="keyword">private</span> <span class="type">int</span> <span class="variable">index</span> <span class="operator">=</span> <span class="number">1</span>;</span><br><span class="line"></span><br><span class="line">Observable.create(<span class="keyword">new</span> <span class="title class_">ObservableOnSubscribe</span>&lt;Integer&gt;() &#123;</span><br><span class="line">            <span class="meta">@Override</span></span><br><span class="line">            <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">subscribe</span><span class="params">(ObservableEmitter&lt;Integer&gt; emitter)</span> <span class="keyword">throws</span> Exception &#123;</span><br><span class="line">                emitter.onNext(<span class="number">1</span>);</span><br><span class="line">                emitter.onNext(<span class="number">2</span>);</span><br><span class="line">                emitter.onError(<span class="keyword">new</span> <span class="title class_">Exception</span>(<span class="string">&quot;Normal Exception&quot;</span>));</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;).retryUntil(<span class="keyword">new</span> <span class="title class_">BooleanSupplier</span>() &#123;</span><br><span class="line">            <span class="meta">@Override</span></span><br><span class="line">            <span class="keyword">public</span> <span class="type">boolean</span> <span class="title function_">getAsBoolean</span><span class="params">()</span> <span class="keyword">throws</span> Exception &#123;</span><br><span class="line">                Log.e(TAG, <span class="string">&quot;getAsBoolean&quot;</span>);</span><br><span class="line">                <span class="keyword">return</span> index == <span class="number">7</span>;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;).subscribe(<span class="keyword">new</span> <span class="title class_">Observer</span>&lt;Integer&gt;() &#123;</span><br><span class="line"></span><br><span class="line">            <span class="meta">@Override</span></span><br><span class="line">            <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">onSubscribe</span><span class="params">(Disposable d)</span> &#123;</span><br><span class="line">                Log.e(TAG, <span class="string">&quot;onSubscribe&quot;</span>);</span><br><span class="line">            &#125;</span><br><span class="line"></span><br><span class="line">            <span class="meta">@Override</span></span><br><span class="line">            <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">onNext</span><span class="params">(Integer integer)</span> &#123;</span><br><span class="line">                Log.e(TAG, <span class="string">&quot;onNext : &quot;</span> + integer);</span><br><span class="line">                index++;</span><br><span class="line">            &#125;</span><br><span class="line"></span><br><span class="line">            <span class="meta">@Override</span></span><br><span class="line">            <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">onError</span><span class="params">(Throwable e)</span> &#123;</span><br><span class="line">                Log.e(TAG, <span class="string">&quot;onError : &quot;</span> + e.getMessage());</span><br><span class="line">            &#125;</span><br><span class="line"></span><br><span class="line">            <span class="meta">@Override</span></span><br><span class="line">            <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">onComplete</span><span class="params">()</span> &#123;</span><br><span class="line">                Log.e(TAG, <span class="string">&quot;onComplete&quot;</span>);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;);</span><br></pre></td></tr></table></figure>

<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="number">10</span>-<span class="number">06</span> <span class="number">07</span>:<span class="number">19</span>:<span class="number">07.675</span> <span class="number">11433</span>-<span class="number">11433</span>/leavesc.hello.rxjavademo E/MainActivity: onSubscribe</span><br><span class="line"><span class="number">10</span>-<span class="number">06</span> <span class="number">07</span>:<span class="number">19</span>:<span class="number">07.675</span> <span class="number">11433</span>-<span class="number">11433</span>/leavesc.hello.rxjavademo E/MainActivity: onNext : <span class="number">1</span></span><br><span class="line"><span class="number">10</span>-<span class="number">06</span> <span class="number">07</span>:<span class="number">19</span>:<span class="number">07.675</span> <span class="number">11433</span>-<span class="number">11433</span>/leavesc.hello.rxjavademo E/MainActivity: onNext : <span class="number">2</span></span><br><span class="line"><span class="number">10</span>-<span class="number">06</span> <span class="number">07</span>:<span class="number">19</span>:<span class="number">07.675</span> <span class="number">11433</span>-<span class="number">11433</span>/leavesc.hello.rxjavademo E/MainActivity: getAsBoolean</span><br><span class="line"><span class="number">10</span>-<span class="number">06</span> <span class="number">07</span>:<span class="number">19</span>:<span class="number">07.675</span> <span class="number">11433</span>-<span class="number">11433</span>/leavesc.hello.rxjavademo E/MainActivity: onNext : <span class="number">1</span></span><br><span class="line"><span class="number">10</span>-<span class="number">06</span> <span class="number">07</span>:<span class="number">19</span>:<span class="number">07.675</span> <span class="number">11433</span>-<span class="number">11433</span>/leavesc.hello.rxjavademo E/MainActivity: onNext : <span class="number">2</span></span><br><span class="line"><span class="number">10</span>-<span class="number">06</span> <span class="number">07</span>:<span class="number">19</span>:<span class="number">07.675</span> <span class="number">11433</span>-<span class="number">11433</span>/leavesc.hello.rxjavademo E/MainActivity: getAsBoolean</span><br><span class="line"><span class="number">10</span>-<span class="number">06</span> <span class="number">07</span>:<span class="number">19</span>:<span class="number">07.675</span> <span class="number">11433</span>-<span class="number">11433</span>/leavesc.hello.rxjavademo E/MainActivity: onNext : <span class="number">1</span></span><br><span class="line"><span class="number">10</span>-<span class="number">06</span> <span class="number">07</span>:<span class="number">19</span>:<span class="number">07.675</span> <span class="number">11433</span>-<span class="number">11433</span>/leavesc.hello.rxjavademo E/MainActivity: onNext : <span class="number">2</span></span><br><span class="line"><span class="number">10</span>-<span class="number">06</span> <span class="number">07</span>:<span class="number">19</span>:<span class="number">07.675</span> <span class="number">11433</span>-<span class="number">11433</span>/leavesc.hello.rxjavademo E/MainActivity: getAsBoolean</span><br><span class="line"><span class="number">10</span>-<span class="number">06</span> <span class="number">07</span>:<span class="number">19</span>:<span class="number">07.675</span> <span class="number">11433</span>-<span class="number">11433</span>/leavesc.hello.rxjavademo E/MainActivity: onError : Normal Exception</span><br></pre></td></tr></table></figure>

<h2 id="17、repeat"><a href="#17、repeat" class="headerlink" title="17、repeat()"></a>17、repeat()</h2><p>以指定次数重复发送被观察者的事件</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line">Observable.create(<span class="keyword">new</span> <span class="title class_">ObservableOnSubscribe</span>&lt;Integer&gt;() &#123;</span><br><span class="line">            <span class="meta">@Override</span></span><br><span class="line">            <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">subscribe</span><span class="params">(ObservableEmitter&lt;Integer&gt; emitter)</span> <span class="keyword">throws</span> Exception &#123;</span><br><span class="line">                emitter.onNext(<span class="number">1</span>);</span><br><span class="line">                emitter.onNext(<span class="number">2</span>);</span><br><span class="line">                emitter.onComplete();</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;).repeat(<span class="number">2</span>).subscribe(<span class="keyword">new</span> <span class="title class_">Observer</span>&lt;Integer&gt;() &#123;</span><br><span class="line"></span><br><span class="line">            <span class="meta">@Override</span></span><br><span class="line">            <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">onSubscribe</span><span class="params">(Disposable d)</span> &#123;</span><br><span class="line">                Log.e(TAG, <span class="string">&quot;onSubscribe&quot;</span>);</span><br><span class="line">            &#125;</span><br><span class="line"></span><br><span class="line">            <span class="meta">@Override</span></span><br><span class="line">            <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">onNext</span><span class="params">(Integer integer)</span> &#123;</span><br><span class="line">                Log.e(TAG, <span class="string">&quot;onNext : &quot;</span> + integer);</span><br><span class="line">            &#125;</span><br><span class="line"></span><br><span class="line">            <span class="meta">@Override</span></span><br><span class="line">            <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">onError</span><span class="params">(Throwable e)</span> &#123;</span><br><span class="line">                Log.e(TAG, <span class="string">&quot;onError : &quot;</span> + e.getMessage());</span><br><span class="line">            &#125;</span><br><span class="line"></span><br><span class="line">            <span class="meta">@Override</span></span><br><span class="line">            <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">onComplete</span><span class="params">()</span> &#123;</span><br><span class="line">                Log.e(TAG, <span class="string">&quot;onComplete&quot;</span>);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;);</span><br></pre></td></tr></table></figure>

<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="number">10</span>-<span class="number">06</span> <span class="number">07</span>:<span class="number">38</span>:<span class="number">47.680</span> <span class="number">12155</span>-<span class="number">12155</span>/? E/MainActivity: onSubscribe</span><br><span class="line"><span class="number">10</span>-<span class="number">06</span> <span class="number">07</span>:<span class="number">38</span>:<span class="number">47.690</span> <span class="number">12155</span>-<span class="number">12155</span>/? E/MainActivity: onNext : <span class="number">1</span></span><br><span class="line"><span class="number">10</span>-<span class="number">06</span> <span class="number">07</span>:<span class="number">38</span>:<span class="number">47.690</span> <span class="number">12155</span>-<span class="number">12155</span>/? E/MainActivity: onNext : <span class="number">2</span></span><br><span class="line"><span class="number">10</span>-<span class="number">06</span> <span class="number">07</span>:<span class="number">38</span>:<span class="number">47.690</span> <span class="number">12155</span>-<span class="number">12155</span>/? E/MainActivity: onNext : <span class="number">1</span></span><br><span class="line"><span class="number">10</span>-<span class="number">06</span> <span class="number">07</span>:<span class="number">38</span>:<span class="number">47.690</span> <span class="number">12155</span>-<span class="number">12155</span>/? E/MainActivity: onNext : <span class="number">2</span></span><br><span class="line"><span class="number">10</span>-<span class="number">06</span> <span class="number">07</span>:<span class="number">38</span>:<span class="number">47.690</span> <span class="number">12155</span>-<span class="number">12155</span>/? E/MainActivity: onComplete</span><br></pre></td></tr></table></figure>

<h2 id="18、repeatWhen"><a href="#18、repeatWhen" class="headerlink" title="18、repeatWhen()"></a>18、repeatWhen()</h2><p>返回一个新的被观察者来决定是否重复发送事件。如果新的被观察者返回 <code>onComplete</code> 或者 <code>onError</code> 事件，则旧的被观察者不会发送事件。如果新的被观察者返回其他事件，则旧的观察者会发送事件</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br></pre></td><td class="code"><pre><span class="line">Observable.create(<span class="keyword">new</span> <span class="title class_">ObservableOnSubscribe</span>&lt;Integer&gt;() &#123;</span><br><span class="line">            <span class="meta">@Override</span></span><br><span class="line">            <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">subscribe</span><span class="params">(ObservableEmitter&lt;Integer&gt; e)</span> <span class="keyword">throws</span> Exception &#123;</span><br><span class="line">                e.onNext(<span class="number">1</span>);</span><br><span class="line">                e.onNext(<span class="number">2</span>);</span><br><span class="line">                e.onNext(<span class="number">3</span>);</span><br><span class="line">                e.onComplete();</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;).repeatWhen(<span class="keyword">new</span> <span class="title class_">Function</span>&lt;Observable&lt;Object&gt;, ObservableSource&lt;?&gt;&gt;() &#123;</span><br><span class="line">            <span class="meta">@Override</span></span><br><span class="line">            <span class="keyword">public</span> ObservableSource&lt;?&gt; apply(Observable&lt;Object&gt; objectObservable) <span class="keyword">throws</span> Exception &#123;</span><br><span class="line"><span class="comment">//                return Observable.empty();</span></span><br><span class="line"><span class="comment">//                return Observable.error(new Exception(&quot;Normal Exception&quot;));</span></span><br><span class="line"><span class="comment">//                return Observable.just(1);</span></span><br><span class="line">            &#125;</span><br><span class="line">        &#125;).subscribe(<span class="keyword">new</span> <span class="title class_">Observer</span>&lt;Integer&gt;() &#123;</span><br><span class="line"></span><br><span class="line">            <span class="meta">@Override</span></span><br><span class="line">            <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">onSubscribe</span><span class="params">(Disposable d)</span> &#123;</span><br><span class="line">                Log.e(TAG, <span class="string">&quot;onSubscribe&quot;</span>);</span><br><span class="line">            &#125;</span><br><span class="line"></span><br><span class="line">            <span class="meta">@Override</span></span><br><span class="line">            <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">onNext</span><span class="params">(Integer integer)</span> &#123;</span><br><span class="line">                Log.e(TAG, <span class="string">&quot;onNext : &quot;</span> + integer);</span><br><span class="line">            &#125;</span><br><span class="line"></span><br><span class="line">            <span class="meta">@Override</span></span><br><span class="line">            <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">onError</span><span class="params">(Throwable e)</span> &#123;</span><br><span class="line">                Log.e(TAG, <span class="string">&quot;onError : &quot;</span> + e.getMessage());</span><br><span class="line">            &#125;</span><br><span class="line"></span><br><span class="line">            <span class="meta">@Override</span></span><br><span class="line">            <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">onComplete</span><span class="params">()</span> &#123;</span><br><span class="line">                Log.e(TAG, <span class="string">&quot;onComplete&quot;</span>);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;);</span><br></pre></td></tr></table></figure>

<p>以上三种情况的输出结果分别是</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="number">10</span>-<span class="number">06</span> <span class="number">14</span>:<span class="number">29</span>:<span class="number">05.641</span> <span class="number">20921</span>-<span class="number">20921</span>/leavesc.hello.rxjavademo E/MainActivity: onSubscribe</span><br><span class="line"><span class="number">10</span>-<span class="number">06</span> <span class="number">14</span>:<span class="number">29</span>:<span class="number">05.641</span> <span class="number">20921</span>-<span class="number">20921</span>/leavesc.hello.rxjavademo E/MainActivity: onComplete</span><br></pre></td></tr></table></figure>

<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="number">10</span>-<span class="number">06</span> <span class="number">14</span>:<span class="number">29</span>:<span class="number">36.150</span> <span class="number">21027</span>-<span class="number">21027</span>/? E/MainActivity: onSubscribe</span><br><span class="line"><span class="number">10</span>-<span class="number">06</span> <span class="number">14</span>:<span class="number">29</span>:<span class="number">36.150</span> <span class="number">21027</span>-<span class="number">21027</span>/? E/MainActivity: onError : Normal Exception</span><br></pre></td></tr></table></figure>

<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="number">10</span>-<span class="number">06</span> <span class="number">14</span>:<span class="number">30</span>:<span class="number">33.220</span> <span class="number">21135</span>-<span class="number">21135</span>/leavesc.hello.rxjavademo E/MainActivity: onSubscribe</span><br><span class="line"><span class="number">10</span>-<span class="number">06</span> <span class="number">14</span>:<span class="number">30</span>:<span class="number">33.220</span> <span class="number">21135</span>-<span class="number">21135</span>/leavesc.hello.rxjavademo E/MainActivity: onNext : <span class="number">1</span></span><br><span class="line"><span class="number">10</span>-<span class="number">06</span> <span class="number">14</span>:<span class="number">30</span>:<span class="number">33.220</span> <span class="number">21135</span>-<span class="number">21135</span>/leavesc.hello.rxjavademo E/MainActivity: onNext : <span class="number">2</span></span><br><span class="line"><span class="number">10</span>-<span class="number">06</span> <span class="number">14</span>:<span class="number">30</span>:<span class="number">33.220</span> <span class="number">21135</span>-<span class="number">21135</span>/leavesc.hello.rxjavademo E/MainActivity: onNext : <span class="number">3</span></span><br><span class="line"><span class="number">10</span>-<span class="number">06</span> <span class="number">14</span>:<span class="number">30</span>:<span class="number">33.220</span> <span class="number">21135</span>-<span class="number">21135</span>/leavesc.hello.rxjavademo E/MainActivity: onComplete</span><br></pre></td></tr></table></figure>

<h2 id="19、subscribeOn-observeOn"><a href="#19、subscribeOn-observeOn" class="headerlink" title="19、subscribeOn() &amp; observeOn()"></a>19、subscribeOn() &amp; observeOn()</h2><p><code>subscribeOn()</code> 用于指定被观察者的线程，要注意的时，如果多次调用此方法，只有第一次有效</p>
<p><code>observeOn()</code> 用于指定观察者的线程，每指定一次就会生效一次</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line">Observable.create(<span class="keyword">new</span> <span class="title class_">ObservableOnSubscribe</span>&lt;Integer&gt;() &#123;</span><br><span class="line">            <span class="meta">@Override</span></span><br><span class="line">            <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">subscribe</span><span class="params">(ObservableEmitter&lt;Integer&gt; emitter)</span> <span class="keyword">throws</span> Exception &#123;</span><br><span class="line">                Log.e(TAG, <span class="string">&quot;Observable Thread Name:  &quot;</span> + Thread.currentThread().getName());</span><br><span class="line">                emitter.onNext(<span class="number">1</span>);</span><br><span class="line">                emitter.onNext(<span class="number">2</span>);</span><br><span class="line">                emitter.onComplete();</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;).subscribeOn(Schedulers.newThread()).observeOn(AndroidSchedulers.mainThread()).subscribe(<span class="keyword">new</span> <span class="title class_">Observer</span>&lt;Integer&gt;() &#123;</span><br><span class="line"></span><br><span class="line">            <span class="meta">@Override</span></span><br><span class="line">            <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">onSubscribe</span><span class="params">(Disposable d)</span> &#123;</span><br><span class="line">                Log.e(TAG, <span class="string">&quot;onSubscribe&quot;</span>);</span><br><span class="line">                Log.e(TAG, <span class="string">&quot;Observer Thread Name:  &quot;</span> + Thread.currentThread().getName());</span><br><span class="line">            &#125;</span><br><span class="line"></span><br><span class="line">            <span class="meta">@Override</span></span><br><span class="line">            <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">onNext</span><span class="params">(Integer integer)</span> &#123;</span><br><span class="line">                Log.e(TAG, <span class="string">&quot;onNext : &quot;</span> + integer);</span><br><span class="line">            &#125;</span><br><span class="line"></span><br><span class="line">            <span class="meta">@Override</span></span><br><span class="line">            <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">onError</span><span class="params">(Throwable e)</span> &#123;</span><br><span class="line">                Log.e(TAG, <span class="string">&quot;onError : &quot;</span> + e.getMessage());</span><br><span class="line">            &#125;</span><br><span class="line"></span><br><span class="line">            <span class="meta">@Override</span></span><br><span class="line">            <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">onComplete</span><span class="params">()</span> &#123;</span><br><span class="line">                Log.e(TAG, <span class="string">&quot;onComplete&quot;</span>);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;);</span><br></pre></td></tr></table></figure>

<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="number">10</span>-<span class="number">06</span> <span class="number">07</span>:<span class="number">54</span>:<span class="number">02.839</span> <span class="number">12629</span>-<span class="number">12629</span>/leavesc.hello.rxjavademo E/MainActivity: onSubscribe</span><br><span class="line"><span class="number">10</span>-<span class="number">06</span> <span class="number">07</span>:<span class="number">54</span>:<span class="number">02.839</span> <span class="number">12629</span>-<span class="number">12629</span>/leavesc.hello.rxjavademo E/MainActivity: Observer Thread Name:  main</span><br><span class="line"><span class="number">10</span>-<span class="number">06</span> <span class="number">07</span>:<span class="number">54</span>:<span class="number">02.839</span> <span class="number">12629</span>-<span class="number">12643</span>/leavesc.hello.rxjavademo E/MainActivity: Observable Thread Name:  RxNewThreadScheduler-<span class="number">1</span></span><br><span class="line"><span class="number">10</span>-<span class="number">06</span> <span class="number">07</span>:<span class="number">54</span>:<span class="number">02.859</span> <span class="number">12629</span>-<span class="number">12629</span>/leavesc.hello.rxjavademo E/MainActivity: onNext : <span class="number">1</span></span><br><span class="line"><span class="number">10</span>-<span class="number">06</span> <span class="number">07</span>:<span class="number">54</span>:<span class="number">02.869</span> <span class="number">12629</span>-<span class="number">12629</span>/leavesc.hello.rxjavademo E/MainActivity: onNext : <span class="number">2</span></span><br><span class="line"><span class="number">10</span>-<span class="number">06</span> <span class="number">07</span>:<span class="number">54</span>:<span class="number">02.869</span> <span class="number">12629</span>-<span class="number">12629</span>/leavesc.hello.rxjavademo E/MainActivity: onComplete</span><br></pre></td></tr></table></figure>

<table>
<thead>
<tr>
<th>调度器</th>
<th>作用</th>
</tr>
</thead>
<tbody><tr>
<td>Schedulers.computation( )</td>
<td>用于使用计算任务，如事件循环和回调处理</td>
</tr>
<tr>
<td>Schedulers.immediate( )</td>
<td>当前线程</td>
</tr>
<tr>
<td>Schedulers.io( )</td>
<td>用于 IO 密集型任务，如果异步阻塞 IO 操作。</td>
</tr>
<tr>
<td>Schedulers.newThread( )</td>
<td>创建一个新的线程</td>
</tr>
<tr>
<td>AndroidSchedulers.mainThread()</td>
<td>Android 的 UI 线程，用于操作 UI。</td>
</tr>
</tbody></table>
<h1 id="六、过滤操作符"><a href="#六、过滤操作符" class="headerlink" title="六、过滤操作符"></a>六、过滤操作符</h1><h2 id="1、filter"><a href="#1、filter" class="headerlink" title="1、filter()"></a>1、filter()</h2><p>通过一定逻辑来过滤被观察者发送的事件，如果返回 <code>true</code> 则会发送事件，否则不会发送</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">Observable.just(<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>).filter(<span class="keyword">new</span> <span class="title class_">Predicate</span>&lt;Integer&gt;() &#123;</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> <span class="type">boolean</span> <span class="title function_">test</span><span class="params">(Integer integer)</span> <span class="keyword">throws</span> Exception &#123;</span><br><span class="line">        <span class="keyword">return</span> integer % <span class="number">2</span> == <span class="number">0</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;).subscribe(<span class="keyword">new</span> <span class="title class_">Consumer</span>&lt;Integer&gt;() &#123;</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">accept</span><span class="params">(Integer integer)</span> <span class="keyword">throws</span> Exception &#123;</span><br><span class="line">        Log.e(TAG, <span class="string">&quot;accept : &quot;</span> + integer);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>

<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="number">10</span>-<span class="number">06</span> <span class="number">07</span>:<span class="number">57</span>:<span class="number">48.196</span> <span class="number">12753</span>-<span class="number">12753</span>/? E/MainActivity: accept : <span class="number">2</span></span><br><span class="line"><span class="number">10</span>-<span class="number">06</span> <span class="number">07</span>:<span class="number">57</span>:<span class="number">48.196</span> <span class="number">12753</span>-<span class="number">12753</span>/? E/MainActivity: accept : <span class="number">4</span></span><br></pre></td></tr></table></figure>

<h2 id="2、ofType"><a href="#2、ofType" class="headerlink" title="2、ofType()"></a>2、ofType()</h2><p>过滤不符合该类型的事件</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">Observable.just(<span class="number">1</span>, <span class="number">2</span>, <span class="string">&quot;Hi&quot;</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="string">&quot;Hello&quot;</span>).ofType(Integer.class).subscribe(<span class="keyword">new</span> <span class="title class_">Consumer</span>&lt;Integer&gt;() &#123;</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">accept</span><span class="params">(Integer integer)</span> <span class="keyword">throws</span> Exception &#123;</span><br><span class="line">        Log.e(TAG, <span class="string">&quot;accept : &quot;</span> + integer);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>

<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="number">10</span>-<span class="number">06</span> <span class="number">07</span>:<span class="number">59</span>:<span class="number">41.265</span> <span class="number">12857</span>-<span class="number">12857</span>/leavesc.hello.rxjavademo E/MainActivity: accept : <span class="number">1</span></span><br><span class="line"><span class="number">10</span>-<span class="number">06</span> <span class="number">07</span>:<span class="number">59</span>:<span class="number">41.265</span> <span class="number">12857</span>-<span class="number">12857</span>/leavesc.hello.rxjavademo E/MainActivity: accept : <span class="number">2</span></span><br><span class="line"><span class="number">10</span>-<span class="number">06</span> <span class="number">07</span>:<span class="number">59</span>:<span class="number">41.265</span> <span class="number">12857</span>-<span class="number">12857</span>/leavesc.hello.rxjavademo E/MainActivity: accept : <span class="number">3</span></span><br><span class="line"><span class="number">10</span>-<span class="number">06</span> <span class="number">07</span>:<span class="number">59</span>:<span class="number">41.265</span> <span class="number">12857</span>-<span class="number">12857</span>/leavesc.hello.rxjavademo E/MainActivity: accept : <span class="number">4</span></span><br></pre></td></tr></table></figure>

<h2 id="3、skip"><a href="#3、skip" class="headerlink" title="3、skip()"></a>3、skip()</h2><p>以正序跳过指定数量的事件</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">Observable.just(<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>).skip(<span class="number">2</span>).subscribe(<span class="keyword">new</span> <span class="title class_">Consumer</span>&lt;Integer&gt;() &#123;</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">accept</span><span class="params">(Integer integer)</span> <span class="keyword">throws</span> Exception &#123;</span><br><span class="line">        Log.e(TAG, <span class="string">&quot;accept : &quot;</span> + integer);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>

<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="number">10</span>-<span class="number">06</span> 08:<span class="number">01</span>:<span class="number">09.183</span> <span class="number">12971</span>-<span class="number">12971</span>/leavesc.hello.rxjavademo E/MainActivity: accept : <span class="number">3</span></span><br><span class="line"><span class="number">10</span>-<span class="number">06</span> 08:<span class="number">01</span>:<span class="number">09.183</span> <span class="number">12971</span>-<span class="number">12971</span>/leavesc.hello.rxjavademo E/MainActivity: accept : <span class="number">4</span></span><br></pre></td></tr></table></figure>

<h2 id="4、skipLast"><a href="#4、skipLast" class="headerlink" title="4、skipLast()"></a>4、skipLast()</h2><p>以反序跳过指定数量的事件</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">Observable.just(<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>).skipLast(<span class="number">2</span>).subscribe(<span class="keyword">new</span> <span class="title class_">Consumer</span>&lt;Integer&gt;() &#123;</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">accept</span><span class="params">(Integer integer)</span> <span class="keyword">throws</span> Exception &#123;</span><br><span class="line">        Log.e(TAG, <span class="string">&quot;accept : &quot;</span> + integer);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>

<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="number">10</span>-<span class="number">06</span> 08:<span class="number">02</span>:<span class="number">00.753</span> <span class="number">13079</span>-<span class="number">13079</span>/leavesc.hello.rxjavademo E/MainActivity: accept : <span class="number">1</span></span><br><span class="line"><span class="number">10</span>-<span class="number">06</span> 08:<span class="number">02</span>:<span class="number">00.753</span> <span class="number">13079</span>-<span class="number">13079</span>/leavesc.hello.rxjavademo E/MainActivity: accept : <span class="number">2</span></span><br></pre></td></tr></table></figure>

<h2 id="5、distinct"><a href="#5、distinct" class="headerlink" title="5、distinct()"></a>5、distinct()</h2><p>过滤事件序列中的重复事件</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">Observable.just(<span class="number">1</span>, <span class="number">2</span>, <span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">3</span>).distinct().subscribe(<span class="keyword">new</span> <span class="title class_">Consumer</span>&lt;Integer&gt;() &#123;</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">accept</span><span class="params">(Integer integer)</span> <span class="keyword">throws</span> Exception &#123;</span><br><span class="line">        Log.e(TAG, <span class="string">&quot;accept : &quot;</span> + integer);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>

<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="number">10</span>-<span class="number">06</span> 08:<span class="number">03</span>:<span class="number">27.402</span> <span class="number">13189</span>-<span class="number">13189</span>/leavesc.hello.rxjavademo E/MainActivity: accept : <span class="number">1</span></span><br><span class="line"><span class="number">10</span>-<span class="number">06</span> 08:<span class="number">03</span>:<span class="number">27.402</span> <span class="number">13189</span>-<span class="number">13189</span>/leavesc.hello.rxjavademo E/MainActivity: accept : <span class="number">2</span></span><br><span class="line"><span class="number">10</span>-<span class="number">06</span> 08:<span class="number">03</span>:<span class="number">27.402</span> <span class="number">13189</span>-<span class="number">13189</span>/leavesc.hello.rxjavademo E/MainActivity: accept : <span class="number">3</span></span><br><span class="line"><span class="number">10</span>-<span class="number">06</span> 08:<span class="number">03</span>:<span class="number">27.402</span> <span class="number">13189</span>-<span class="number">13189</span>/leavesc.hello.rxjavademo E/MainActivity: accept : <span class="number">4</span></span><br></pre></td></tr></table></figure>

<h2 id="6、distinctUntilChanged"><a href="#6、distinctUntilChanged" class="headerlink" title="6、distinctUntilChanged()"></a>6、distinctUntilChanged()</h2><p>过滤掉连续重复的事件</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">Observable.just(<span class="number">1</span>, <span class="number">2</span>, <span class="number">2</span>, <span class="number">1</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">3</span>, <span class="number">3</span>).distinctUntilChanged().subscribe(<span class="keyword">new</span> <span class="title class_">Consumer</span>&lt;Integer&gt;() &#123;</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">accept</span><span class="params">(Integer integer)</span> <span class="keyword">throws</span> Exception &#123;</span><br><span class="line">        Log.e(TAG, <span class="string">&quot;accept : &quot;</span> + integer);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>

<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="number">10</span>-<span class="number">06</span> 08:<span class="number">04</span>:<span class="number">44.531</span> <span class="number">13294</span>-<span class="number">13294</span>/leavesc.hello.rxjavademo E/MainActivity: accept : <span class="number">1</span></span><br><span class="line"><span class="number">10</span>-<span class="number">06</span> 08:<span class="number">04</span>:<span class="number">44.541</span> <span class="number">13294</span>-<span class="number">13294</span>/leavesc.hello.rxjavademo E/MainActivity: accept : <span class="number">2</span></span><br><span class="line"><span class="number">10</span>-<span class="number">06</span> 08:<span class="number">04</span>:<span class="number">44.541</span> <span class="number">13294</span>-<span class="number">13294</span>/leavesc.hello.rxjavademo E/MainActivity: accept : <span class="number">1</span></span><br><span class="line"><span class="number">10</span>-<span class="number">06</span> 08:<span class="number">04</span>:<span class="number">44.541</span> <span class="number">13294</span>-<span class="number">13294</span>/leavesc.hello.rxjavademo E/MainActivity: accept : <span class="number">3</span></span><br><span class="line"><span class="number">10</span>-<span class="number">06</span> 08:<span class="number">04</span>:<span class="number">44.541</span> <span class="number">13294</span>-<span class="number">13294</span>/leavesc.hello.rxjavademo E/MainActivity: accept : <span class="number">4</span></span><br><span class="line"><span class="number">10</span>-<span class="number">06</span> 08:<span class="number">04</span>:<span class="number">44.541</span> <span class="number">13294</span>-<span class="number">13294</span>/leavesc.hello.rxjavademo E/MainActivity: accept : <span class="number">3</span></span><br></pre></td></tr></table></figure>

<h2 id="7、take"><a href="#7、take" class="headerlink" title="7、take()"></a>7、take()</h2><p>控制观察者接收事件的数量</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">Observable.just(<span class="number">1</span>, <span class="number">2</span>, <span class="number">2</span>, <span class="number">1</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">3</span>, <span class="number">3</span>).take(<span class="number">3</span>).subscribe(<span class="keyword">new</span> <span class="title class_">Consumer</span>&lt;Integer&gt;() &#123;</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">accept</span><span class="params">(Integer integer)</span> <span class="keyword">throws</span> Exception &#123;</span><br><span class="line">        Log.e(TAG, <span class="string">&quot;accept : &quot;</span> + integer);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>

<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="number">10</span>-<span class="number">06</span> 08:<span class="number">05</span>:<span class="number">43.520</span> <span class="number">13397</span>-<span class="number">13397</span>/? E/MainActivity: accept : <span class="number">1</span></span><br><span class="line"><span class="number">10</span>-<span class="number">06</span> 08:<span class="number">05</span>:<span class="number">43.520</span> <span class="number">13397</span>-<span class="number">13397</span>/? E/MainActivity: accept : <span class="number">2</span></span><br><span class="line"><span class="number">10</span>-<span class="number">06</span> 08:<span class="number">05</span>:<span class="number">43.520</span> <span class="number">13397</span>-<span class="number">13397</span>/? E/MainActivity: accept : <span class="number">2</span></span><br></pre></td></tr></table></figure>

<h2 id="8、debounce"><a href="#8、debounce" class="headerlink" title="8、debounce()"></a>8、debounce()</h2><p>如果两个事件发送的时间间隔小于设定的时间间隔，则前一件事件不会发送给观察者</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">Observable.create(<span class="keyword">new</span> <span class="title class_">ObservableOnSubscribe</span>&lt;Integer&gt;() &#123;</span><br><span class="line">           <span class="meta">@Override</span></span><br><span class="line">           <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">subscribe</span><span class="params">(ObservableEmitter&lt;Integer&gt; emitter)</span> <span class="keyword">throws</span> Exception &#123;</span><br><span class="line">               emitter.onNext(<span class="number">1</span>);</span><br><span class="line">               Thread.sleep(<span class="number">900</span>);</span><br><span class="line">               emitter.onNext(<span class="number">2</span>);</span><br><span class="line">           &#125;</span><br><span class="line">       &#125;).debounce(<span class="number">1</span>, TimeUnit.SECONDS).subscribe(<span class="keyword">new</span> <span class="title class_">Consumer</span>&lt;Integer&gt;() &#123;</span><br><span class="line">           <span class="meta">@Override</span></span><br><span class="line">           <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">accept</span><span class="params">(Integer integer)</span> <span class="keyword">throws</span> Exception &#123;</span><br><span class="line">               Log.e(TAG, <span class="string">&quot;accept : &quot;</span> + integer);</span><br><span class="line">           &#125;</span><br><span class="line">       &#125;);</span><br></pre></td></tr></table></figure>

<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="number">10</span>-<span class="number">06</span> 08:08:<span class="number">59.337</span> <span class="number">13509</span>-<span class="number">13523</span>/leavesc.hello.rxjavademo E/MainActivity: accept : <span class="number">2</span></span><br></pre></td></tr></table></figure>

<h2 id="9、firstElement-lastElement"><a href="#9、firstElement-lastElement" class="headerlink" title="9、firstElement() &amp;&amp; lastElement()"></a>9、firstElement() &amp;&amp; lastElement()</h2><p><code>firstElement()</code> 取事件序列的第一个元素，<code>lastElement()</code> 取事件序列的最后一个元素</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">Observable.just(<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>).firstElement().subscribe(<span class="keyword">new</span> <span class="title class_">Consumer</span>&lt;Integer&gt;() &#123;</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">accept</span><span class="params">(Integer integer)</span> <span class="keyword">throws</span> Exception &#123;</span><br><span class="line">        Log.e(TAG, <span class="string">&quot;accept : &quot;</span> + integer);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>

<h2 id="10、elementAt-elementAtOrError"><a href="#10、elementAt-elementAtOrError" class="headerlink" title="10、elementAt() &amp; elementAtOrError()"></a>10、elementAt() &amp; elementAtOrError()</h2><p><code>elementAt()</code> 可以指定取出事件序列中事件，但是输入的 <code>index</code> 超出事件序列的总数的话就不会触发任何调用，想触发异常信息的话就用 <code>elementAtOrError()</code> </p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">Observable.just(<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>).elementAt(<span class="number">5</span>).subscribe(<span class="keyword">new</span> <span class="title class_">Consumer</span>&lt;Integer&gt;() &#123;</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">accept</span><span class="params">(Integer integer)</span> <span class="keyword">throws</span> Exception &#123;</span><br><span class="line">        Log.e(TAG, <span class="string">&quot;accept : &quot;</span> + integer);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>

<p>以上代码不会触发任何</p>
<p>改用为 <code>elementAtOrError()</code>，则会抛出异常</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">Observable.just(<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>).elementAtOrError(<span class="number">5</span>).subscribe(<span class="keyword">new</span> <span class="title class_">Consumer</span>&lt;Integer&gt;() &#123;</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">accept</span><span class="params">(Integer integer)</span> <span class="keyword">throws</span> Exception &#123;</span><br><span class="line">        Log.e(TAG, <span class="string">&quot;accept : &quot;</span> + integer);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>

<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">Process: leavesc.hello.rxjavademo, PID: <span class="number">13948</span></span><br><span class="line">    io.reactivex.exceptions.OnErrorNotImplementedException: The exception was not handled due to missing onError handler in the <span class="title function_">subscribe</span><span class="params">()</span> method call. Further reading: https:<span class="comment">//github.com/ReactiveX/RxJava/wiki/Error-Handling | null</span></span><br><span class="line">        at io.reactivex.internal.functions.Functions$OnErrorMissingConsumer.accept(Functions.java:<span class="number">704</span>)</span><br><span class="line">        at io.reactivex.internal.functions.Functions$OnErrorMissingConsumer.accept(Functions.java:<span class="number">701</span>)</span><br><span class="line">        at io.reactivex.internal.observers.ConsumerSingleObserver.onError(ConsumerSingleObserver.java:<span class="number">46</span>)</span><br><span class="line">        at io.reactivex.internal.operators.observable.ObservableElementAtSingle$ElementAtObserver.onComplete(ObservableElementAtSingle.java:<span class="number">115</span>)</span><br><span class="line">        at io.reactivex.internal.operators.observable.ObservableFromArray$FromArrayDisposable.run(ObservableFromArray.java:<span class="number">111</span>)</span><br><span class="line">        at io.reactivex.internal.operators.observable.ObservableFromArray.subscribeActual(ObservableFromArray.java:<span class="number">37</span>)</span><br><span class="line">        at io.reactivex.Observable.subscribe(Observable.java:<span class="number">12090</span>)</span><br><span class="line">        at io.reactivex.internal.operators.observable.ObservableElementAtSingle.subscribeActual(ObservableElementAtSingle.java:<span class="number">37</span>)</span><br><span class="line">        at io.reactivex.Single.subscribe(Single.java:<span class="number">3438</span>)</span><br><span class="line">        at io.reactivex.Single.subscribe(Single.java:<span class="number">3424</span>)</span><br></pre></td></tr></table></figure>

<h1 id="七、条件操作符"><a href="#七、条件操作符" class="headerlink" title="七、条件操作符"></a>七、条件操作符</h1><h2 id="1、all"><a href="#1、all" class="headerlink" title="1、all()"></a>1、all()</h2><p>判断事件序列是否全部满足某个事件，如果都满足则返回 <code>true</code>，反之则返回 <code>false</code></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">Observable.just(<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>).all(<span class="keyword">new</span> <span class="title class_">Predicate</span>&lt;Integer&gt;() &#123;</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> <span class="type">boolean</span> <span class="title function_">test</span><span class="params">(Integer integer)</span> <span class="keyword">throws</span> Exception &#123;</span><br><span class="line">        <span class="keyword">return</span> integer % <span class="number">2</span> == <span class="number">0</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;).subscribe(<span class="keyword">new</span> <span class="title class_">Consumer</span>&lt;Boolean&gt;() &#123;</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">accept</span><span class="params">(Boolean aBoolean)</span> <span class="keyword">throws</span> Exception &#123;</span><br><span class="line">        Log.e(TAG, <span class="string">&quot;accept: &quot;</span> + aBoolean);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>

<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="number">10</span>-<span class="number">06</span> 08:<span class="number">16</span>:<span class="number">10.212</span> <span class="number">14043</span>-<span class="number">14043</span>/leavesc.hello.rxjavademo E/MainActivity: accept: <span class="literal">false</span></span><br></pre></td></tr></table></figure>

<h2 id="2、takeWhile"><a href="#2、takeWhile" class="headerlink" title="2、takeWhile()"></a>2、takeWhile()</h2><p>发射原始 <code>Observable</code>，直到指定的某个条件不成立的那一刻，它停止发射原始 <code>Observable</code>，并终止自己的 <code>Observable</code></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">Observable.just(<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>, <span class="number">1</span>, <span class="number">2</span>).takeWhile(<span class="keyword">new</span> <span class="title class_">Predicate</span>&lt;Integer&gt;() &#123;</span><br><span class="line">            <span class="meta">@Override</span></span><br><span class="line">            <span class="keyword">public</span> <span class="type">boolean</span> <span class="title function_">test</span><span class="params">(Integer integer)</span> <span class="keyword">throws</span> Exception &#123;</span><br><span class="line">                <span class="keyword">return</span> integer &lt; <span class="number">4</span>;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;).subscribe(<span class="keyword">new</span> <span class="title class_">Consumer</span>&lt;Integer&gt;() &#123;</span><br><span class="line">            <span class="meta">@Override</span></span><br><span class="line">            <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">accept</span><span class="params">(Integer integer)</span> <span class="keyword">throws</span> Exception &#123;</span><br><span class="line">                Log.e(TAG, <span class="string">&quot;accept: &quot;</span> + integer);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;);</span><br></pre></td></tr></table></figure>

<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="number">10</span>-<span class="number">06</span> <span class="number">14</span>:<span class="number">03</span>:<span class="number">42.110</span> <span class="number">20095</span>-<span class="number">20095</span>/leavesc.hello.rxjavademo E/MainActivity: accept: <span class="number">1</span></span><br><span class="line"><span class="number">10</span>-<span class="number">06</span> <span class="number">14</span>:<span class="number">03</span>:<span class="number">42.110</span> <span class="number">20095</span>-<span class="number">20095</span>/leavesc.hello.rxjavademo E/MainActivity: accept: <span class="number">2</span></span><br><span class="line"><span class="number">10</span>-<span class="number">06</span> <span class="number">14</span>:<span class="number">03</span>:<span class="number">42.110</span> <span class="number">20095</span>-<span class="number">20095</span>/leavesc.hello.rxjavademo E/MainActivity: accept: <span class="number">3</span></span><br></pre></td></tr></table></figure>

<h2 id="3、skipWhile"><a href="#3、skipWhile" class="headerlink" title="3、skipWhile()"></a>3、skipWhile()</h2><p>订阅原始的 <code>Observable</code>，但是忽略它的发射物，直到指定的某个条件变为 false 时才开始发射原始 Observable</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">Observable.just(<span class="number">1</span>, <span class="number">2</span>, <span class="number">4</span>, <span class="number">1</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>, <span class="number">1</span>, <span class="number">5</span>)</span><br><span class="line">             .skipWhile(<span class="keyword">new</span> <span class="title class_">Predicate</span>&lt;Integer&gt;() &#123;</span><br><span class="line">                 <span class="meta">@Override</span></span><br><span class="line">                 <span class="keyword">public</span> <span class="type">boolean</span> <span class="title function_">test</span><span class="params">(Integer integer)</span> <span class="keyword">throws</span> Exception &#123;</span><br><span class="line">                     <span class="keyword">return</span> integer &lt; <span class="number">3</span>;</span><br><span class="line">                 &#125;</span><br><span class="line">             &#125;)</span><br><span class="line">             .subscribe(<span class="keyword">new</span> <span class="title class_">Consumer</span>&lt;Integer&gt;() &#123;</span><br><span class="line">                 <span class="meta">@Override</span></span><br><span class="line">                 <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">accept</span><span class="params">(Integer integer)</span> <span class="keyword">throws</span> Exception &#123;</span><br><span class="line">                     Log.e(TAG, <span class="string">&quot;integer &quot;</span> + integer);</span><br><span class="line">                 &#125;</span><br><span class="line">             &#125;);</span><br></pre></td></tr></table></figure>

<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="number">10</span>-<span class="number">06</span> <span class="number">13</span>:<span class="number">59</span>:<span class="number">40.583</span> <span class="number">19764</span>-<span class="number">19764</span>/leavesc.hello.rxjavademo E/MainActivity: integer <span class="number">4</span></span><br><span class="line"><span class="number">10</span>-<span class="number">06</span> <span class="number">13</span>:<span class="number">59</span>:<span class="number">40.593</span> <span class="number">19764</span>-<span class="number">19764</span>/leavesc.hello.rxjavademo E/MainActivity: integer <span class="number">1</span></span><br><span class="line"><span class="number">10</span>-<span class="number">06</span> <span class="number">13</span>:<span class="number">59</span>:<span class="number">40.593</span> <span class="number">19764</span>-<span class="number">19764</span>/leavesc.hello.rxjavademo E/MainActivity: integer <span class="number">3</span></span><br><span class="line"><span class="number">10</span>-<span class="number">06</span> <span class="number">13</span>:<span class="number">59</span>:<span class="number">40.593</span> <span class="number">19764</span>-<span class="number">19764</span>/leavesc.hello.rxjavademo E/MainActivity: integer <span class="number">4</span></span><br><span class="line"><span class="number">10</span>-<span class="number">06</span> <span class="number">13</span>:<span class="number">59</span>:<span class="number">40.593</span> <span class="number">19764</span>-<span class="number">19764</span>/leavesc.hello.rxjavademo E/MainActivity: integer <span class="number">5</span></span><br><span class="line"><span class="number">10</span>-<span class="number">06</span> <span class="number">13</span>:<span class="number">59</span>:<span class="number">40.593</span> <span class="number">19764</span>-<span class="number">19764</span>/leavesc.hello.rxjavademo E/MainActivity: integer <span class="number">1</span></span><br><span class="line"><span class="number">10</span>-<span class="number">06</span> <span class="number">13</span>:<span class="number">59</span>:<span class="number">40.593</span> <span class="number">19764</span>-<span class="number">19764</span>/leavesc.hello.rxjavademo E/MainActivity: integer <span class="number">5</span></span><br></pre></td></tr></table></figure>

<h2 id="4、takeUntil"><a href="#4、takeUntil" class="headerlink" title="4、takeUntil()"></a>4、takeUntil()</h2><p>用于设置一个条件，当事件满足此条件时，此事件会被发送，但之后的事件就不会被发送了</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">Observable.just(<span class="number">1</span>, <span class="number">2</span>, <span class="number">4</span>, <span class="number">1</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>, <span class="number">1</span>, <span class="number">5</span>)</span><br><span class="line">                .takeUntil(<span class="keyword">new</span> <span class="title class_">Predicate</span>&lt;Integer&gt;() &#123;</span><br><span class="line">                    <span class="meta">@Override</span></span><br><span class="line">                    <span class="keyword">public</span> <span class="type">boolean</span> <span class="title function_">test</span><span class="params">(Integer integer)</span> <span class="keyword">throws</span> Exception &#123;</span><br><span class="line">                        <span class="keyword">return</span> integer &gt; <span class="number">3</span>;</span><br><span class="line">                    &#125;</span><br><span class="line">                &#125;)</span><br><span class="line">                .subscribe(<span class="keyword">new</span> <span class="title class_">Consumer</span>&lt;Integer&gt;() &#123;</span><br><span class="line">                    <span class="meta">@Override</span></span><br><span class="line">                    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">accept</span><span class="params">(Integer integer)</span> <span class="keyword">throws</span> Exception &#123;</span><br><span class="line">                        Log.e(TAG, <span class="string">&quot;integer &quot;</span> + integer);</span><br><span class="line">                    &#125;</span><br><span class="line">                &#125;);</span><br></pre></td></tr></table></figure>

<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="number">10</span>-<span class="number">06</span> 08:<span class="number">54</span>:<span class="number">24.833</span> <span class="number">17208</span>-<span class="number">17208</span>/? E/MainActivity: integer <span class="number">1</span></span><br><span class="line"><span class="number">10</span>-<span class="number">06</span> 08:<span class="number">54</span>:<span class="number">24.833</span> <span class="number">17208</span>-<span class="number">17208</span>/? E/MainActivity: integer <span class="number">2</span></span><br><span class="line"><span class="number">10</span>-<span class="number">06</span> 08:<span class="number">54</span>:<span class="number">24.833</span> <span class="number">17208</span>-<span class="number">17208</span>/? E/MainActivity: integer <span class="number">4</span></span><br></pre></td></tr></table></figure>

<h2 id="5、skipUntil"><a href="#5、skipUntil" class="headerlink" title="5、skipUntil()"></a>5、skipUntil()</h2><p>当 <code>skipUntil()</code> 中的 <code>Observable</code> 发送事件了，原始的 <code>Observable</code> 才会发送事件给观察者</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line">Observable.intervalRange(<span class="number">1</span>, <span class="number">6</span>, <span class="number">0</span>, <span class="number">1</span>, TimeUnit.SECONDS)</span><br><span class="line">                .skipUntil(Observable.intervalRange(<span class="number">10</span>, <span class="number">3</span>, <span class="number">1</span>, <span class="number">1</span>, TimeUnit.SECONDS))</span><br><span class="line">                .subscribe(<span class="keyword">new</span> <span class="title class_">Observer</span>&lt;Long&gt;() &#123;</span><br><span class="line">                    <span class="meta">@Override</span></span><br><span class="line">                    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">onSubscribe</span><span class="params">(Disposable d)</span> &#123;</span><br><span class="line">                        Log.e(TAG, <span class="string">&quot;onSubscribe&quot;</span>);</span><br><span class="line">                    &#125;</span><br><span class="line"></span><br><span class="line">                    <span class="meta">@Override</span></span><br><span class="line">                    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">onNext</span><span class="params">(Long along)</span> &#123;</span><br><span class="line">                        Log.e(TAG, <span class="string">&quot;onNext : &quot;</span> + along);</span><br><span class="line">                    &#125;</span><br><span class="line"></span><br><span class="line">                    <span class="meta">@Override</span></span><br><span class="line">                    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">onError</span><span class="params">(Throwable e)</span> &#123;</span><br><span class="line">                        Log.e(TAG, <span class="string">&quot;onError&quot;</span>);</span><br><span class="line">                    &#125;</span><br><span class="line"></span><br><span class="line">                    <span class="meta">@Override</span></span><br><span class="line">                    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">onComplete</span><span class="params">()</span> &#123;</span><br><span class="line">                        Log.e(TAG, <span class="string">&quot;onComplete&quot;</span>);</span><br><span class="line">                    &#125;</span><br><span class="line">                &#125;);</span><br></pre></td></tr></table></figure>

<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="number">10</span>-<span class="number">06</span> 08:<span class="number">51</span>:<span class="number">16.926</span> <span class="number">16877</span>-<span class="number">16877</span>/leavesc.hello.rxjavademo E/MainActivity: onSubscribe</span><br><span class="line"><span class="number">10</span>-<span class="number">06</span> 08:<span class="number">51</span>:<span class="number">17.946</span> <span class="number">16877</span>-<span class="number">16892</span>/leavesc.hello.rxjavademo E/MainActivity: onNext : <span class="number">2</span></span><br><span class="line"><span class="number">10</span>-<span class="number">06</span> 08:<span class="number">51</span>:<span class="number">18.936</span> <span class="number">16877</span>-<span class="number">16892</span>/leavesc.hello.rxjavademo E/MainActivity: onNext : <span class="number">3</span></span><br><span class="line"><span class="number">10</span>-<span class="number">06</span> 08:<span class="number">51</span>:<span class="number">19.946</span> <span class="number">16877</span>-<span class="number">16892</span>/leavesc.hello.rxjavademo E/MainActivity: onNext : <span class="number">4</span></span><br><span class="line"><span class="number">10</span>-<span class="number">06</span> 08:<span class="number">51</span>:<span class="number">20.936</span> <span class="number">16877</span>-<span class="number">16892</span>/leavesc.hello.rxjavademo E/MainActivity: onNext : <span class="number">5</span></span><br><span class="line"><span class="number">10</span>-<span class="number">06</span> 08:<span class="number">51</span>:<span class="number">21.946</span> <span class="number">16877</span>-<span class="number">16892</span>/leavesc.hello.rxjavademo E/MainActivity: onNext : <span class="number">6</span></span><br><span class="line"><span class="number">10</span>-<span class="number">06</span> 08:<span class="number">51</span>:<span class="number">21.946</span> <span class="number">16877</span>-<span class="number">16892</span>/leavesc.hello.rxjavademo E/MainActivity: onComplete</span><br></pre></td></tr></table></figure>

<h2 id="6、sequenceEqual"><a href="#6、sequenceEqual" class="headerlink" title="6、sequenceEqual()"></a>6、sequenceEqual()</h2><p>判断两个 <code>Observable</code> 发送的事件是否相同，如果两个序列是相同的（相同的数据，相同的顺序，相同的终止状态），它就发射 true，否则发射 false</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">Observable.sequenceEqual(Observable.just(<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>), Observable.just(<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>))</span><br><span class="line">        .subscribe(<span class="keyword">new</span> <span class="title class_">Consumer</span>&lt;Boolean&gt;() &#123;</span><br><span class="line">            <span class="meta">@Override</span></span><br><span class="line">            <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">accept</span><span class="params">(Boolean aBoolean)</span> <span class="keyword">throws</span> Exception &#123;</span><br><span class="line">                Log.e(TAG, <span class="string">&quot;accept aBoolean : &quot;</span> + aBoolean);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;);</span><br></pre></td></tr></table></figure>

<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="number">10</span>-<span class="number">06</span> 08:<span class="number">46</span>:<span class="number">59.369</span> <span class="number">16492</span>-<span class="number">16492</span>/leavesc.hello.rxjavademo E/MainActivity: accept aBoolean : <span class="literal">true</span></span><br></pre></td></tr></table></figure>

<h2 id="7、contains"><a href="#7、contains" class="headerlink" title="7、contains()"></a>7、contains()</h2><p>判断事件序列中是否含有某个元素，如果有则返回 true，如果没有则返回 false</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">Observable.just(<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>).contains(<span class="number">2</span>).subscribe(<span class="keyword">new</span> <span class="title class_">Consumer</span>&lt;Boolean&gt;() &#123;</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">accept</span><span class="params">(Boolean aBoolean)</span> <span class="keyword">throws</span> Exception &#123;</span><br><span class="line">        Log.e(TAG, <span class="string">&quot;accept aBoolean : &quot;</span> + aBoolean);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>

<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="number">10</span>-<span class="number">06</span> 08:<span class="number">45</span>:<span class="number">58.100</span> <span class="number">16386</span>-<span class="number">16386</span>/leavesc.hello.rxjavademo E/MainActivity: accept aBoolean : <span class="literal">true</span></span><br></pre></td></tr></table></figure>

<h2 id="8、isEmpty"><a href="#8、isEmpty" class="headerlink" title="8、isEmpty()"></a>8、isEmpty()</h2><p>判断事件序列是否为空</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">Observable.create(<span class="keyword">new</span> <span class="title class_">ObservableOnSubscribe</span>&lt;Integer&gt;() &#123;</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">subscribe</span><span class="params">(ObservableEmitter&lt;Integer&gt; emitter)</span> <span class="keyword">throws</span> Exception &#123;</span><br><span class="line">        emitter.onComplete();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;).isEmpty().subscribe(<span class="keyword">new</span> <span class="title class_">Consumer</span>&lt;Boolean&gt;() &#123;</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">accept</span><span class="params">(Boolean aBoolean)</span> <span class="keyword">throws</span> Exception &#123;</span><br><span class="line">        Log.e(TAG, <span class="string">&quot;accept aBoolean: &quot;</span> + aBoolean);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>

<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="number">10</span>-<span class="number">06</span> 08:<span class="number">43</span>:<span class="number">43.201</span> <span class="number">16278</span>-<span class="number">16278</span>/leavesc.hello.rxjavademo E/MainActivity: accept aBoolean: <span class="literal">true</span></span><br></pre></td></tr></table></figure>

<h2 id="9、amb"><a href="#9、amb" class="headerlink" title="9、amb()"></a>9、amb()</h2><p><code>amb()</code> 接收一个 <code>Observable</code> 集合，但是只会发送最先发送事件的 <code>Observable</code> 中的事件，不管发射的是一项数据还是一个 <code>onError</code> 或 <code>onCompleted</code> 通知，其余 <code>Observable</code> 将会被丢弃</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">List&lt;Observable&lt;Long&gt;&gt; list = <span class="keyword">new</span> <span class="title class_">ArrayList</span>&lt;&gt;();</span><br><span class="line">list.add(Observable.intervalRange(<span class="number">1</span>, <span class="number">3</span>, <span class="number">2</span>, <span class="number">1</span>, TimeUnit.SECONDS));</span><br><span class="line">list.add(Observable.intervalRange(<span class="number">10</span>, <span class="number">3</span>, <span class="number">0</span>, <span class="number">1</span>, TimeUnit.SECONDS));</span><br><span class="line">Observable.amb(list).subscribe(<span class="keyword">new</span> <span class="title class_">Consumer</span>&lt;Long&gt;() &#123;</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">accept</span><span class="params">(Long aLong)</span> <span class="keyword">throws</span> Exception &#123;</span><br><span class="line">        Log.e(TAG, <span class="string">&quot;accept: &quot;</span> + aLong);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>

<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="number">10</span>-<span class="number">06</span> 08:<span class="number">41</span>:<span class="number">45.783</span> <span class="number">16053</span>-<span class="number">16068</span>/leavesc.hello.rxjavademo E/MainActivity: accept: <span class="number">10</span></span><br><span class="line"><span class="number">10</span>-<span class="number">06</span> 08:<span class="number">41</span>:<span class="number">46.783</span> <span class="number">16053</span>-<span class="number">16068</span>/leavesc.hello.rxjavademo E/MainActivity: accept: <span class="number">11</span></span><br><span class="line"><span class="number">10</span>-<span class="number">06</span> 08:<span class="number">41</span>:<span class="number">47.783</span> <span class="number">16053</span>-<span class="number">16068</span>/leavesc.hello.rxjavademo E/MainActivity: accept: <span class="number">12</span></span><br></pre></td></tr></table></figure>

<h2 id="10、defaultIfEmpty"><a href="#10、defaultIfEmpty" class="headerlink" title="10、defaultIfEmpty()"></a>10、defaultIfEmpty()</h2><p>如果 Observable 没有发射任何值，则可以利用这个方法发送一个默认值</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">Observable.create(<span class="keyword">new</span> <span class="title class_">ObservableOnSubscribe</span>&lt;Integer&gt;() &#123;</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">subscribe</span><span class="params">(ObservableEmitter&lt;Integer&gt; emitter)</span> <span class="keyword">throws</span> Exception &#123;</span><br><span class="line">        emitter.onComplete();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;).defaultIfEmpty(<span class="number">100</span>).subscribe(<span class="keyword">new</span> <span class="title class_">Consumer</span>&lt;Integer&gt;() &#123;</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">accept</span><span class="params">(Integer integer)</span> <span class="keyword">throws</span> Exception &#123;</span><br><span class="line">        Log.e(TAG, <span class="string">&quot;accept: &quot;</span> + integer);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>

<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="number">10</span>-<span class="number">06</span> 08:<span class="number">40</span>:<span class="number">04.754</span> <span class="number">15945</span>-<span class="number">15945</span>/leavesc.hello.rxjavademo E/MainActivity: accept: <span class="number">100</span></span><br></pre></td></tr></table></figure>


  </article>
  <!-- tag -->
  <div class="mt-12 pt-6 border-t border-gray-200">
    
  </div>
  <!-- prev and next -->
  <div class="flex justify-between mt-12 pt-6 border-t border-gray-200">
    <div>
      
        <a href="/hexo-blog/public/2025/03/02/md/kotlin/%E4%B8%80%E6%96%87%E5%BF%AB%E9%80%9F%E5%85%A5%E9%97%A8%20Kotlin%20%E5%8D%8F%E7%A8%8B/" class="text-sm text-gray-400 hover:text-gray-500 flex justify-center">
          <iconify-icon width="20" icon="ri:arrow-left-s-line" data-inline="false"></iconify-icon>
          一文快速入门 Kotlin 协程
        </a>
      
    </div>
    <div>
      
        <a href="/hexo-blog/public/2025/03/02/md/kotlin/%E4%B8%80%E6%96%87%E8%AF%BB%E6%87%82%20Handler%20%E6%9C%BA%E5%88%B6/" class="text-sm text-gray-400 hover:text-gray-500 flex justify-center">
          一文读懂 Handler 机制
          <iconify-icon width="20" icon="ri:arrow-right-s-line" data-inline="false"></iconify-icon>
        </a>
      
    </div>
  </div>
  <!-- comment -->
  <div class="article-comments mt-12">
    
<script
  src="https://giscus.app/client.js"
  data-repo="hqqich/giscus"
  data-repo-id="R_kgDOOCZUBA"
  data-category="General"
  data-category-id="DIC_kwDOOCZUBM4Cng1l"
  data-mapping="pathname"
  data-strict="0"
  data-reactions-enabled="1"
  data-emit-metadata="0"
  data-input-position="bottom"
  data-theme="preferred_color_scheme"
  data-lang="zh-CN"
  crossorigin="anonymous"
  async
></script>
<script>
  window.onload = function () {
    console.log("giscus loaded");
    const isDark = document.documentElement.classList.contains("dark");
    const giscusFrame = document.querySelector("iframe.giscus-frame");
    giscusFrame.contentWindow.postMessage(
      {
        giscus: {
          setConfig: {
            theme: isDark ? "dark" : "light",
          },
        },
      },
      "https://giscus.app"
    );
  };
</script>


  </div>
</section>
<!-- js inspect -->

<script src="/hexo-blog/public/lib/clipboard.min.js"></script>


<script async src="https://cdn.jsdelivr.net/npm/mathjax@2/MathJax.js?config=TeX-MML-AM_CHTML"></script>
<script type="text/x-mathjax-config">
  MathJax.Hub.Config({
    "HTML-CSS": {
        preferredFont: "TeX",
        availableFonts: ["STIX","TeX"],
        linebreaks: { automatic:true },
        EqnChunk: (MathJax.Hub.Browser.isMobile ? 10 : 50)
    },
    tex2jax: {
        inlineMath: [ ["$", "$"], ["\\(","\\)"] ],
        processEscapes: true,
        ignoreClass: "tex2jax_ignore|dno",
        skipTags: ['script', 'noscript', 'style', 'textarea', 'pre', 'code']
    },
    TeX: {
        equationNumbers: { autoNumber: "AMS" },
        noUndefined: { attributes: { mathcolor: "red", mathbackground: "#FFEEEE", mathsize: "90%" } },
        Macros: { href: "{}" }
    },
    messageStyle: "none"
  });
</script>
<script type="text/x-mathjax-config">
  MathJax.Hub.Queue(function() {
      var all = MathJax.Hub.getAllJax(), i;
      for (i=0; i < all.length; i += 1) {
          all[i].SourceElement().parentNode.className += ' has-jax';
      }
  });
</script>



<script src="https://cdn.jsdelivr.net/npm/mermaid/dist/mermaid.min.js"></script>
<script>
  $(document).ready(() => {
    const maraidConfig = {
      theme: "default",
      logLevel: 3,
      flowchart: { curve: "linear" },
      gantt: { axisFormat: "%m/%d/%Y" },
      sequence: { actorMargin: 50 },
    };
    mermaid.initialize(maraidConfig);
  });
</script>



<script src="/hexo-blog/public/lib/fancybox/fancybox.umd.min.js"></script>

<script>
  $(document).ready(() => {
    $('.post-content').each(function(i){
      $(this).find('img').each(function(){
        if ($(this).parent().hasClass('fancybox') || $(this).parent().is('a')) return;
        var alt = this.alt;
        if (alt) $(this).after('<span class="fancybox-alt">' + alt + '</span>');
        $(this).wrap('<a class="fancybox-img" href="' + this.src + '" data-fancybox=\"gallery\" data-caption="' + alt + '"></a>')
      });
      $(this).find('.fancybox').each(function(){
        $(this).attr('rel', 'article' + i);
      });
    });

    Fancybox.bind('[data-fancybox="gallery"]', {
        // options
    })
  })
</script>

<!-- tocbot begin -->

<script src="/hexo-blog/public/lib/tocbot/tocbot.min.js"></script>

<script>
  $(document).ready(() => {
      tocbot.init({
        // Where to render the table of contents.
        tocSelector: '.post-toc',
        // Where to grab the headings to build the table of contents.
        contentSelector: '.post-content',
        // Which headings to grab inside of the contentSelector element.
        headingSelector: 'h1, h2, h3',
        // For headings inside relative or absolute positioned containers within content.
        hasInnerContainers: true,
    });
  })
</script>
<!-- tocbot end -->


  </main>
  <footer class="flex flex-col h-40 items-center justify-center text-gray-400 text-sm">
  <!-- busuanzi -->
  
<script async src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script>
<!-- Busuanzi Analytics -->
<div class="flex items-center gap-2">
  <span>Visitors</span>
  <span id="busuanzi_value_site_uv"></span>
  <span>Page Views</span>
  <span id="busuanzi_value_site_pv"></span>
</div>
<!-- End Busuanzi Analytics -->


  <!-- copyright -->
  <div class="flex items-center gap-2">
    <a target="_blank" href="https://creativecommons.org/licenses/by-nc-sa/4.0/" style="color: inherit;">CC BY-NC-SA 4.0</a>
    <span>© 2022</span>
    <iconify-icon width="18" icon="emojione-monotone:maple-leaf" ></iconify-icon>
    <a href="https://github.com/xbmlz" target="_blank" rel="noopener noreferrer">xbmlz</a>
  </div>
  <!-- powered by -->
  <div class="flex items-center gap-2">
    <span>Powered by</span>
    <a href="https://hexo.io/" target="_blank" rel="noopener noreferrer">Hexo</a>
    <span>&</span>
    <a href="https://github.com/xbmlz/hexo-theme-maple" target="_blank" rel="noopener noreferrer">Maple</a>
  </div>

</footer>

  <div class="back-to-top box-border fixed right-6 z-1024 -bottom-20 rounded py-1 px-1 bg-slate-900 opacity-60 text-white cursor-pointer text-center dark:bg-slate-600">
    <span class="flex justify-center items-center text-sm">
      <iconify-icon width="18" icon="ion:arrow-up-c" id="go-top"></iconify-icon>
      <span id="scrollpercent"><span>0</span> %</span>
    </span>
  </div>
  
<script src="/hexo-blog/public/js/main.js"></script>


  <script>
    $(document).ready(function () {
      const mapleCount = "10";
      const speed = "0.5";
      const mapleEl = document.getElementById("maple");
      const maples = Array.from({ length: mapleCount }).map(() => {
        const maple = document.createElement("div");
        const scale = Math.random() * 0.5 + 0.5;
        const offset = Math.random() * 2 - 1;
        const x = Math.random() * mapleEl.clientWidth;
        const y = -Math.random() * mapleEl.clientHeight;
        const duration = 10 / speed;
        const delay = -duration;
        maple.className = "maple";
        maple.style.width = `${24 * scale}px`;
        maple.style.height = `${24 * scale}px`;
        maple.style.left = `${x}px`;
        maple.style.top = `${y}px`;
        maple.style.setProperty("--maple-fall-offset", offset);
        maple.style.setProperty("--maple-fall-height", `${Math.abs(y) + mapleEl.clientHeight}px`);
        maple.style.animation = `fall ${duration}s linear infinite`;
        maple.style.animationDelay = `${delay}s`;
        mapleEl.appendChild(maple)
        return maple
      })
    });
  </script>
  


  <div class="fixed top-0 bottom-0 left-0 right-0 pointer-events-none print:hidden" id="maple"></div>
</body>

</html>
