<!DOCTYPE html>
<html lang="en-US" dir="ltr">
<head><script src="/hugo-blog/public/livereload.js?mindelay=10&amp;v=2&amp;port=1313&amp;path=hugo-blog/public/livereload" data-no-instant defer></script>
  <title>ä¸€æ–‡è¯»æ‡‚ Java å’Œ Kotlin çš„æ³›å‹éš¾ç‚¹ :: Hugo Theme Tailwind Example Site - Example site for hugo-theme-tailwind</title>
  
  <meta http-equiv="content-type" content="text/html; charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0" />
<meta
  name="description"
  content=" å…¬ä¼—å·ï¼šå­—èŠ‚æ•°ç»„ å¸Œæœ›å¯¹ä½ æœ‰æ‰€å¸®åŠ© ğŸ¤£ğŸ¤£
Java å’Œ Kotlin çš„æ³›å‹ç®—ä½œæ˜¯ä¸€å—æŒºå¤§çš„çŸ¥è¯†éš¾ç‚¹äº†ï¼Œæ¶‰åŠåˆ°å¾ˆå¤šå¾ˆéš¾ç†è§£çš„æ¦‚å¿µï¼šæ³›å‹å‹å‚ã€æ³›å‹å®å‚ã€ç±»å‹å‚æ•°ã€ä¸å˜ã€å‹å˜ã€åå˜ã€é€†å˜ã€å†…è”ç­‰ç­‰ã€‚æœ¬ç¯‡æ–‡ç« å°±å°† Java å’Œ Kotlin ç»“åˆç€ä¸€èµ·è®²ï¼ŒæŒ‰ç…§æˆ‘çš„ä¸ªäººç†è§£æ¥é˜è¿°æ³›å‹çš„å„ä¸ªçŸ¥è¯†éš¾ç‚¹ï¼Œå¸Œæœ›å¯¹ä½ æœ‰æ‰€å¸®åŠ© ğŸ¤£ğŸ¤£
ä¸€ã€æ³›å‹ç±»å‹ æ³›å‹å…è®¸ä½ å®šä¹‰å¸¦ç±»å‹å½¢å‚çš„æ•°æ®ç±»å‹ï¼Œå½“è¿™ç§ç±»å‹çš„å®ä¾‹è¢«åˆ›å»ºå‡ºæ¥åï¼Œç±»å‹å½¢å‚ä¾¿è¢«æ›¿æ¢ä¸ºç§°ä¸ºç±»å‹å®å‚çš„å…·ä½“ç±»å‹ã€‚ä¾‹å¦‚ï¼Œå¯¹äº List&lt;T&gt;ï¼ŒList ç§°ä¸ºåŸºç¡€ç±»å‹ï¼ŒT ä¾¿æ˜¯ç±»å‹å‹å‚ï¼ŒT å¯ä»¥æ˜¯ä»»æ„ç±»å‹ï¼Œå½“æ²¡æœ‰æŒ‡å®š T çš„å…·ä½“ç±»å‹æ—¶ï¼Œæˆ‘ä»¬åªèƒ½çŸ¥é“List&lt;T&gt;æ˜¯ä¸€ä¸ªé›†åˆåˆ—è¡¨ï¼Œä½†ä¸çŸ¥é“æ‰¿è½½çš„å…·ä½“æ•°æ®ç±»å‹ã€‚è€Œå¯¹äº List&lt;String&gt;ï¼Œå½“ä¸­çš„ String ä¾¿æ˜¯ç±»å‹å®å‚ï¼Œæˆ‘ä»¬å¯ä»¥æ˜ç™½åœ°çŸ¥é“è¯¥åˆ—è¡¨æ‰¿è½½çš„éƒ½æ˜¯å­—ç¬¦ä¸²ï¼Œåœ¨è¿™é‡Œ String å°±ç›¸å½“äºä¸€ä¸ªå‚æ•°ä¼ é€’ç»™äº† Listï¼Œåœ¨è¿™è¯­ä¹‰ä¸‹ String ä¹Ÿç§°ä¸ºç±»å‹å‚æ•°
æ­¤å¤–ï¼Œåœ¨ Kotlin ä¸­æˆ‘ä»¬å¯ä»¥å®ç°å®åŒ–ç±»å‹å‚æ•°ï¼Œåœ¨è¿è¡Œæ—¶çš„å†…è”å‡½æ•°ä¸­æ‹¿åˆ°ä½œä¸ºç±»å‹å®å‚çš„å…·ä½“ç±»å‹ï¼Œå³å¯ä»¥å®ç° T::class.javaï¼Œä½†åœ¨ Java ä¸­å´æ— æ³•å®ç°ï¼Œå› ä¸ºå†…è”å‡½æ•°æ˜¯ Kotlin ä¸­çš„æ¦‚å¿µï¼ŒJava ä¸­å¹¶ä¸å­˜åœ¨
äºŒã€ä¸ºä»€ä¹ˆéœ€è¦æ³›å‹ æ³›å‹æ˜¯åœ¨ Java 5 ç‰ˆæœ¬å¼€å§‹å¼•å…¥çš„ï¼Œå…ˆé€šè¿‡å‡ ä¸ªå°ä¾‹å­æ¥æ˜ç™½æ³›å‹çš„é‡è¦æ€§
ä»¥ä¸‹ä»£ç å¯ä»¥æˆåŠŸç¼–è¯‘ï¼Œä½†æ˜¯åœ¨è¿è¡Œæ—¶å´æŠ›å‡ºäº† ClassCastExceptionã€‚äº†è§£ ArrayList æºç çš„åŒå­¦å°±çŸ¥é“å…¶å†…éƒ¨æ˜¯ç”¨ä¸€ä¸ªObject[]æ•°ç»„æ¥å­˜å‚¨æ•°æ®çš„ï¼Œè¿™ä½¿å¾— ArrayList èƒ½å¤Ÿå­˜å‚¨ä»»ä½•ç±»å‹çš„å¯¹è±¡ï¼Œæ‰€ä»¥åœ¨æ²¡æœ‰æ³›å‹çš„å¹´ä»£å¼€å‘è€…ä¸€ä¸å°å¿ƒå°±æœ‰å¯èƒ½å‘ ArrayList å­˜å…¥äº†éæœŸæœ›å€¼ï¼Œç¼–è¯‘æœŸå®Œå…¨æ­£å¸¸ï¼Œç­‰åˆ°åœ¨è¿è¡Œæ—¶å°±ä¼šæŠ›å‡ºç±»å‹è½¬æ¢å¼‚å¸¸äº†
public class GenericTest { public static void main(String[] args) { List stringList = new ArrayList(); addData(stringList); String str = (String) stringList.get(0); } public static void addData(List dataList) { dataList.add(1); } } Exception in thread &#34;main&#34; java.lang.ClassCastException: java.lang.Integer cannot be cast to java.lang.String è€Œæœ‰äº†æ³›å‹åï¼Œæˆ‘ä»¬å°±å¯ä»¥å†™å‡ºæ›´åŠ å¥å£®å®‰å…¨çš„ä»£ç ï¼Œä»¥ä¸‹é”™è¯¯å°±å®Œå…¨å¯ä»¥åœ¨ç¼–è¯‘é˜¶æ®µè¢«å‘ç°ï¼Œä¸”å–å€¼çš„æ—¶å€™ä¹Ÿä¸éœ€è¦è¿›è¡Œç±»å‹å¼ºè½¬
"
/>
<meta
  name="keywords"
  content="hugo, tailwind, tailwindcss, hugo theme, hugo theme tailwind"
/>
<meta name="robots" content="noodp" /><link rel="manifest" href="/manifest.json" /><meta property="og:url" content="http://localhost:1313/hugo-blog/public/post/kotlin/%E4%B8%80%E6%96%87%E8%AF%BB%E6%87%82-java-%E5%92%8C-kotlin-%E7%9A%84%E6%B3%9B%E5%9E%8B%E9%9A%BE%E7%82%B9/">
  <meta property="og:site_name" content="Hugo Theme Tailwind Example Site">
  <meta property="og:title" content="ä¸€æ–‡è¯»æ‡‚ Java å’Œ Kotlin çš„æ³›å‹éš¾ç‚¹">
  <meta property="og:description" content="å…¬ä¼—å·ï¼šå­—èŠ‚æ•°ç»„ å¸Œæœ›å¯¹ä½ æœ‰æ‰€å¸®åŠ© ğŸ¤£ğŸ¤£
Java å’Œ Kotlin çš„æ³›å‹ç®—ä½œæ˜¯ä¸€å—æŒºå¤§çš„çŸ¥è¯†éš¾ç‚¹äº†ï¼Œæ¶‰åŠåˆ°å¾ˆå¤šå¾ˆéš¾ç†è§£çš„æ¦‚å¿µï¼šæ³›å‹å‹å‚ã€æ³›å‹å®å‚ã€ç±»å‹å‚æ•°ã€ä¸å˜ã€å‹å˜ã€åå˜ã€é€†å˜ã€å†…è”ç­‰ç­‰ã€‚æœ¬ç¯‡æ–‡ç« å°±å°† Java å’Œ Kotlin ç»“åˆç€ä¸€èµ·è®²ï¼ŒæŒ‰ç…§æˆ‘çš„ä¸ªäººç†è§£æ¥é˜è¿°æ³›å‹çš„å„ä¸ªçŸ¥è¯†éš¾ç‚¹ï¼Œå¸Œæœ›å¯¹ä½ æœ‰æ‰€å¸®åŠ© ğŸ¤£ğŸ¤£
ä¸€ã€æ³›å‹ç±»å‹ æ³›å‹å…è®¸ä½ å®šä¹‰å¸¦ç±»å‹å½¢å‚çš„æ•°æ®ç±»å‹ï¼Œå½“è¿™ç§ç±»å‹çš„å®ä¾‹è¢«åˆ›å»ºå‡ºæ¥åï¼Œç±»å‹å½¢å‚ä¾¿è¢«æ›¿æ¢ä¸ºç§°ä¸ºç±»å‹å®å‚çš„å…·ä½“ç±»å‹ã€‚ä¾‹å¦‚ï¼Œå¯¹äº List&lt;T&gt;ï¼ŒList ç§°ä¸ºåŸºç¡€ç±»å‹ï¼ŒT ä¾¿æ˜¯ç±»å‹å‹å‚ï¼ŒT å¯ä»¥æ˜¯ä»»æ„ç±»å‹ï¼Œå½“æ²¡æœ‰æŒ‡å®š T çš„å…·ä½“ç±»å‹æ—¶ï¼Œæˆ‘ä»¬åªèƒ½çŸ¥é“List&lt;T&gt;æ˜¯ä¸€ä¸ªé›†åˆåˆ—è¡¨ï¼Œä½†ä¸çŸ¥é“æ‰¿è½½çš„å…·ä½“æ•°æ®ç±»å‹ã€‚è€Œå¯¹äº List&lt;String&gt;ï¼Œå½“ä¸­çš„ String ä¾¿æ˜¯ç±»å‹å®å‚ï¼Œæˆ‘ä»¬å¯ä»¥æ˜ç™½åœ°çŸ¥é“è¯¥åˆ—è¡¨æ‰¿è½½çš„éƒ½æ˜¯å­—ç¬¦ä¸²ï¼Œåœ¨è¿™é‡Œ String å°±ç›¸å½“äºä¸€ä¸ªå‚æ•°ä¼ é€’ç»™äº† Listï¼Œåœ¨è¿™è¯­ä¹‰ä¸‹ String ä¹Ÿç§°ä¸ºç±»å‹å‚æ•°
æ­¤å¤–ï¼Œåœ¨ Kotlin ä¸­æˆ‘ä»¬å¯ä»¥å®ç°å®åŒ–ç±»å‹å‚æ•°ï¼Œåœ¨è¿è¡Œæ—¶çš„å†…è”å‡½æ•°ä¸­æ‹¿åˆ°ä½œä¸ºç±»å‹å®å‚çš„å…·ä½“ç±»å‹ï¼Œå³å¯ä»¥å®ç° T::class.javaï¼Œä½†åœ¨ Java ä¸­å´æ— æ³•å®ç°ï¼Œå› ä¸ºå†…è”å‡½æ•°æ˜¯ Kotlin ä¸­çš„æ¦‚å¿µï¼ŒJava ä¸­å¹¶ä¸å­˜åœ¨
äºŒã€ä¸ºä»€ä¹ˆéœ€è¦æ³›å‹ æ³›å‹æ˜¯åœ¨ Java 5 ç‰ˆæœ¬å¼€å§‹å¼•å…¥çš„ï¼Œå…ˆé€šè¿‡å‡ ä¸ªå°ä¾‹å­æ¥æ˜ç™½æ³›å‹çš„é‡è¦æ€§
ä»¥ä¸‹ä»£ç å¯ä»¥æˆåŠŸç¼–è¯‘ï¼Œä½†æ˜¯åœ¨è¿è¡Œæ—¶å´æŠ›å‡ºäº† ClassCastExceptionã€‚äº†è§£ ArrayList æºç çš„åŒå­¦å°±çŸ¥é“å…¶å†…éƒ¨æ˜¯ç”¨ä¸€ä¸ªObject[]æ•°ç»„æ¥å­˜å‚¨æ•°æ®çš„ï¼Œè¿™ä½¿å¾— ArrayList èƒ½å¤Ÿå­˜å‚¨ä»»ä½•ç±»å‹çš„å¯¹è±¡ï¼Œæ‰€ä»¥åœ¨æ²¡æœ‰æ³›å‹çš„å¹´ä»£å¼€å‘è€…ä¸€ä¸å°å¿ƒå°±æœ‰å¯èƒ½å‘ ArrayList å­˜å…¥äº†éæœŸæœ›å€¼ï¼Œç¼–è¯‘æœŸå®Œå…¨æ­£å¸¸ï¼Œç­‰åˆ°åœ¨è¿è¡Œæ—¶å°±ä¼šæŠ›å‡ºç±»å‹è½¬æ¢å¼‚å¸¸äº†
public class GenericTest { public static void main(String[] args) { List stringList = new ArrayList(); addData(stringList); String str = (String) stringList.get(0); } public static void addData(List dataList) { dataList.add(1); } } Exception in thread &#34;main&#34; java.lang.ClassCastException: java.lang.Integer cannot be cast to java.lang.String è€Œæœ‰äº†æ³›å‹åï¼Œæˆ‘ä»¬å°±å¯ä»¥å†™å‡ºæ›´åŠ å¥å£®å®‰å…¨çš„ä»£ç ï¼Œä»¥ä¸‹é”™è¯¯å°±å®Œå…¨å¯ä»¥åœ¨ç¼–è¯‘é˜¶æ®µè¢«å‘ç°ï¼Œä¸”å–å€¼çš„æ—¶å€™ä¹Ÿä¸éœ€è¦è¿›è¡Œç±»å‹å¼ºè½¬">
  <meta property="og:locale" content="en_US">
  <meta property="og:type" content="article">
    <meta property="article:section" content="post">


  <meta name="twitter:card" content="summary">
  <meta name="twitter:title" content="ä¸€æ–‡è¯»æ‡‚ Java å’Œ Kotlin çš„æ³›å‹éš¾ç‚¹">
  <meta name="twitter:description" content="å…¬ä¼—å·ï¼šå­—èŠ‚æ•°ç»„ å¸Œæœ›å¯¹ä½ æœ‰æ‰€å¸®åŠ© ğŸ¤£ğŸ¤£
Java å’Œ Kotlin çš„æ³›å‹ç®—ä½œæ˜¯ä¸€å—æŒºå¤§çš„çŸ¥è¯†éš¾ç‚¹äº†ï¼Œæ¶‰åŠåˆ°å¾ˆå¤šå¾ˆéš¾ç†è§£çš„æ¦‚å¿µï¼šæ³›å‹å‹å‚ã€æ³›å‹å®å‚ã€ç±»å‹å‚æ•°ã€ä¸å˜ã€å‹å˜ã€åå˜ã€é€†å˜ã€å†…è”ç­‰ç­‰ã€‚æœ¬ç¯‡æ–‡ç« å°±å°† Java å’Œ Kotlin ç»“åˆç€ä¸€èµ·è®²ï¼ŒæŒ‰ç…§æˆ‘çš„ä¸ªäººç†è§£æ¥é˜è¿°æ³›å‹çš„å„ä¸ªçŸ¥è¯†éš¾ç‚¹ï¼Œå¸Œæœ›å¯¹ä½ æœ‰æ‰€å¸®åŠ© ğŸ¤£ğŸ¤£
ä¸€ã€æ³›å‹ç±»å‹ æ³›å‹å…è®¸ä½ å®šä¹‰å¸¦ç±»å‹å½¢å‚çš„æ•°æ®ç±»å‹ï¼Œå½“è¿™ç§ç±»å‹çš„å®ä¾‹è¢«åˆ›å»ºå‡ºæ¥åï¼Œç±»å‹å½¢å‚ä¾¿è¢«æ›¿æ¢ä¸ºç§°ä¸ºç±»å‹å®å‚çš„å…·ä½“ç±»å‹ã€‚ä¾‹å¦‚ï¼Œå¯¹äº List&lt;T&gt;ï¼ŒList ç§°ä¸ºåŸºç¡€ç±»å‹ï¼ŒT ä¾¿æ˜¯ç±»å‹å‹å‚ï¼ŒT å¯ä»¥æ˜¯ä»»æ„ç±»å‹ï¼Œå½“æ²¡æœ‰æŒ‡å®š T çš„å…·ä½“ç±»å‹æ—¶ï¼Œæˆ‘ä»¬åªèƒ½çŸ¥é“List&lt;T&gt;æ˜¯ä¸€ä¸ªé›†åˆåˆ—è¡¨ï¼Œä½†ä¸çŸ¥é“æ‰¿è½½çš„å…·ä½“æ•°æ®ç±»å‹ã€‚è€Œå¯¹äº List&lt;String&gt;ï¼Œå½“ä¸­çš„ String ä¾¿æ˜¯ç±»å‹å®å‚ï¼Œæˆ‘ä»¬å¯ä»¥æ˜ç™½åœ°çŸ¥é“è¯¥åˆ—è¡¨æ‰¿è½½çš„éƒ½æ˜¯å­—ç¬¦ä¸²ï¼Œåœ¨è¿™é‡Œ String å°±ç›¸å½“äºä¸€ä¸ªå‚æ•°ä¼ é€’ç»™äº† Listï¼Œåœ¨è¿™è¯­ä¹‰ä¸‹ String ä¹Ÿç§°ä¸ºç±»å‹å‚æ•°
æ­¤å¤–ï¼Œåœ¨ Kotlin ä¸­æˆ‘ä»¬å¯ä»¥å®ç°å®åŒ–ç±»å‹å‚æ•°ï¼Œåœ¨è¿è¡Œæ—¶çš„å†…è”å‡½æ•°ä¸­æ‹¿åˆ°ä½œä¸ºç±»å‹å®å‚çš„å…·ä½“ç±»å‹ï¼Œå³å¯ä»¥å®ç° T::class.javaï¼Œä½†åœ¨ Java ä¸­å´æ— æ³•å®ç°ï¼Œå› ä¸ºå†…è”å‡½æ•°æ˜¯ Kotlin ä¸­çš„æ¦‚å¿µï¼ŒJava ä¸­å¹¶ä¸å­˜åœ¨
äºŒã€ä¸ºä»€ä¹ˆéœ€è¦æ³›å‹ æ³›å‹æ˜¯åœ¨ Java 5 ç‰ˆæœ¬å¼€å§‹å¼•å…¥çš„ï¼Œå…ˆé€šè¿‡å‡ ä¸ªå°ä¾‹å­æ¥æ˜ç™½æ³›å‹çš„é‡è¦æ€§
ä»¥ä¸‹ä»£ç å¯ä»¥æˆåŠŸç¼–è¯‘ï¼Œä½†æ˜¯åœ¨è¿è¡Œæ—¶å´æŠ›å‡ºäº† ClassCastExceptionã€‚äº†è§£ ArrayList æºç çš„åŒå­¦å°±çŸ¥é“å…¶å†…éƒ¨æ˜¯ç”¨ä¸€ä¸ªObject[]æ•°ç»„æ¥å­˜å‚¨æ•°æ®çš„ï¼Œè¿™ä½¿å¾— ArrayList èƒ½å¤Ÿå­˜å‚¨ä»»ä½•ç±»å‹çš„å¯¹è±¡ï¼Œæ‰€ä»¥åœ¨æ²¡æœ‰æ³›å‹çš„å¹´ä»£å¼€å‘è€…ä¸€ä¸å°å¿ƒå°±æœ‰å¯èƒ½å‘ ArrayList å­˜å…¥äº†éæœŸæœ›å€¼ï¼Œç¼–è¯‘æœŸå®Œå…¨æ­£å¸¸ï¼Œç­‰åˆ°åœ¨è¿è¡Œæ—¶å°±ä¼šæŠ›å‡ºç±»å‹è½¬æ¢å¼‚å¸¸äº†
public class GenericTest { public static void main(String[] args) { List stringList = new ArrayList(); addData(stringList); String str = (String) stringList.get(0); } public static void addData(List dataList) { dataList.add(1); } } Exception in thread &#34;main&#34; java.lang.ClassCastException: java.lang.Integer cannot be cast to java.lang.String è€Œæœ‰äº†æ³›å‹åï¼Œæˆ‘ä»¬å°±å¯ä»¥å†™å‡ºæ›´åŠ å¥å£®å®‰å…¨çš„ä»£ç ï¼Œä»¥ä¸‹é”™è¯¯å°±å®Œå…¨å¯ä»¥åœ¨ç¼–è¯‘é˜¶æ®µè¢«å‘ç°ï¼Œä¸”å–å€¼çš„æ—¶å€™ä¹Ÿä¸éœ€è¦è¿›è¡Œç±»å‹å¼ºè½¬">


<link rel="canonical" href="http://localhost:1313/hugo-blog/public/post/kotlin/%E4%B8%80%E6%96%87%E8%AF%BB%E6%87%82-java-%E5%92%8C-kotlin-%E7%9A%84%E6%B3%9B%E5%9E%8B%E9%9A%BE%E7%82%B9/" />

<link rel="shortcut icon" href="/hugo-blog/public/favicon.ico" />
<link rel="stylesheet" href="/hugo-blog/public/css/index.c3a5d1586276a68cf55558ab67f2c726fee27f4aea3add1802872f471c5f233d.css">









  
  <script type="application/ld+json">
  {"@context":"https://schema.org","@type":"Article","author":{"@type":"Person","name":"Xiaoliang Wang"},"dateModified":"0001-01-01T00:00:00Z","datePublished":"0001-01-01T00:00:00Z","description":" å…¬ä¼—å·ï¼šå­—èŠ‚æ•°ç»„ å¸Œæœ›å¯¹ä½ æœ‰æ‰€å¸®åŠ© ğŸ¤£ğŸ¤£\nJava å’Œ Kotlin çš„æ³›å‹ç®—ä½œæ˜¯ä¸€å—æŒºå¤§çš„çŸ¥è¯†éš¾ç‚¹äº†ï¼Œæ¶‰åŠåˆ°å¾ˆå¤šå¾ˆéš¾ç†è§£çš„æ¦‚å¿µï¼šæ³›å‹å‹å‚ã€æ³›å‹å®å‚ã€ç±»å‹å‚æ•°ã€ä¸å˜ã€å‹å˜ã€åå˜ã€é€†å˜ã€å†…è”ç­‰ç­‰ã€‚æœ¬ç¯‡æ–‡ç« å°±å°† Java å’Œ Kotlin ç»“åˆç€ä¸€èµ·è®²ï¼ŒæŒ‰ç…§æˆ‘çš„ä¸ªäººç†è§£æ¥é˜è¿°æ³›å‹çš„å„ä¸ªçŸ¥è¯†éš¾ç‚¹ï¼Œå¸Œæœ›å¯¹ä½ æœ‰æ‰€å¸®åŠ© ğŸ¤£ğŸ¤£\nä¸€ã€æ³›å‹ç±»å‹ æ³›å‹å…è®¸ä½ å®šä¹‰å¸¦ç±»å‹å½¢å‚çš„æ•°æ®ç±»å‹ï¼Œå½“è¿™ç§ç±»å‹çš„å®ä¾‹è¢«åˆ›å»ºå‡ºæ¥åï¼Œç±»å‹å½¢å‚ä¾¿è¢«æ›¿æ¢ä¸ºç§°ä¸ºç±»å‹å®å‚çš„å…·ä½“ç±»å‹ã€‚ä¾‹å¦‚ï¼Œå¯¹äº List\u0026lt;T\u0026gt;ï¼ŒList ç§°ä¸ºåŸºç¡€ç±»å‹ï¼ŒT ä¾¿æ˜¯ç±»å‹å‹å‚ï¼ŒT å¯ä»¥æ˜¯ä»»æ„ç±»å‹ï¼Œå½“æ²¡æœ‰æŒ‡å®š T çš„å…·ä½“ç±»å‹æ—¶ï¼Œæˆ‘ä»¬åªèƒ½çŸ¥é“List\u0026lt;T\u0026gt;æ˜¯ä¸€ä¸ªé›†åˆåˆ—è¡¨ï¼Œä½†ä¸çŸ¥é“æ‰¿è½½çš„å…·ä½“æ•°æ®ç±»å‹ã€‚è€Œå¯¹äº List\u0026lt;String\u0026gt;ï¼Œå½“ä¸­çš„ String ä¾¿æ˜¯ç±»å‹å®å‚ï¼Œæˆ‘ä»¬å¯ä»¥æ˜ç™½åœ°çŸ¥é“è¯¥åˆ—è¡¨æ‰¿è½½çš„éƒ½æ˜¯å­—ç¬¦ä¸²ï¼Œåœ¨è¿™é‡Œ String å°±ç›¸å½“äºä¸€ä¸ªå‚æ•°ä¼ é€’ç»™äº† Listï¼Œåœ¨è¿™è¯­ä¹‰ä¸‹ String ä¹Ÿç§°ä¸ºç±»å‹å‚æ•°\næ­¤å¤–ï¼Œåœ¨ Kotlin ä¸­æˆ‘ä»¬å¯ä»¥å®ç°å®åŒ–ç±»å‹å‚æ•°ï¼Œåœ¨è¿è¡Œæ—¶çš„å†…è”å‡½æ•°ä¸­æ‹¿åˆ°ä½œä¸ºç±»å‹å®å‚çš„å…·ä½“ç±»å‹ï¼Œå³å¯ä»¥å®ç° T::class.javaï¼Œä½†åœ¨ Java ä¸­å´æ— æ³•å®ç°ï¼Œå› ä¸ºå†…è”å‡½æ•°æ˜¯ Kotlin ä¸­çš„æ¦‚å¿µï¼ŒJava ä¸­å¹¶ä¸å­˜åœ¨\näºŒã€ä¸ºä»€ä¹ˆéœ€è¦æ³›å‹ æ³›å‹æ˜¯åœ¨ Java 5 ç‰ˆæœ¬å¼€å§‹å¼•å…¥çš„ï¼Œå…ˆé€šè¿‡å‡ ä¸ªå°ä¾‹å­æ¥æ˜ç™½æ³›å‹çš„é‡è¦æ€§\nä»¥ä¸‹ä»£ç å¯ä»¥æˆåŠŸç¼–è¯‘ï¼Œä½†æ˜¯åœ¨è¿è¡Œæ—¶å´æŠ›å‡ºäº† ClassCastExceptionã€‚äº†è§£ ArrayList æºç çš„åŒå­¦å°±çŸ¥é“å…¶å†…éƒ¨æ˜¯ç”¨ä¸€ä¸ªObject[]æ•°ç»„æ¥å­˜å‚¨æ•°æ®çš„ï¼Œè¿™ä½¿å¾— ArrayList èƒ½å¤Ÿå­˜å‚¨ä»»ä½•ç±»å‹çš„å¯¹è±¡ï¼Œæ‰€ä»¥åœ¨æ²¡æœ‰æ³›å‹çš„å¹´ä»£å¼€å‘è€…ä¸€ä¸å°å¿ƒå°±æœ‰å¯èƒ½å‘ ArrayList å­˜å…¥äº†éæœŸæœ›å€¼ï¼Œç¼–è¯‘æœŸå®Œå…¨æ­£å¸¸ï¼Œç­‰åˆ°åœ¨è¿è¡Œæ—¶å°±ä¼šæŠ›å‡ºç±»å‹è½¬æ¢å¼‚å¸¸äº†\npublic class GenericTest { public static void main(String[] args) { List stringList = new ArrayList(); addData(stringList); String str = (String) stringList.get(0); } public static void addData(List dataList) { dataList.add(1); } } Exception in thread \u0026#34;main\u0026#34; java.lang.ClassCastException: java.lang.Integer cannot be cast to java.lang.String è€Œæœ‰äº†æ³›å‹åï¼Œæˆ‘ä»¬å°±å¯ä»¥å†™å‡ºæ›´åŠ å¥å£®å®‰å…¨çš„ä»£ç ï¼Œä»¥ä¸‹é”™è¯¯å°±å®Œå…¨å¯ä»¥åœ¨ç¼–è¯‘é˜¶æ®µè¢«å‘ç°ï¼Œä¸”å–å€¼çš„æ—¶å€™ä¹Ÿä¸éœ€è¦è¿›è¡Œç±»å‹å¼ºè½¬\n","name":"ä¸€æ–‡è¯»æ‡‚ Java å’Œ Kotlin çš„æ³›å‹éš¾ç‚¹","url":"http://localhost:1313/hugo-blog/public/post/kotlin/%E4%B8%80%E6%96%87%E8%AF%BB%E6%87%82-java-%E5%92%8C-kotlin-%E7%9A%84%E6%B3%9B%E5%9E%8B%E9%9A%BE%E7%82%B9/"}
</script>

</head>
<body class="flex flex-col min-h-screen w-full bg-slate-50 dark:bg-gray-800">
    
<div class="fixed right-0 top-0 z-50 flex items-center justify-center bg-gray-200 p-2 text-sm uppercase text-black sm:bg-red-200 md:bg-yellow-200 lg:bg-green-200 xl:bg-blue-200 2xl:bg-pink-200">
  <span class="block sm:hidden">all</span>
  <span class="hidden sm:block md:hidden">sm</span>
  <span class="hidden md:block lg:hidden">md</span>
  <span class="hidden lg:block xl:hidden">lg</span>
  <span class="hidden xl:block 2xl:hidden">xl</span>
  <span class="hidden 2xl:block">2xl</span>
</div>

  <header class="flex flex-none justify-center z-10">
    <div class="flex flex-row gap justify-between w-full max-w-4xl lg:max-w-5xl h-12 mt-3">
  <div class="flex-none ml-2 md:ml-0">
    <a href="/hugo-blog/public/" class="">
      <img class="h-12 w-12 rounded-full object-cover bg-gray-100" src="/hugo-blog/public/logo.svg" alt="logo">
    </a>
  </div>
  
  <h1 class="hidden md:flex flex-col justify-center mx-2">
    <a href="/hugo-blog/public/" class="text-2xl font-semibold text-slate-800 dark:text-slate-200">
      Hugo Theme Tailwind
    </a>
  </h1>
  
  <div class="flex-1"></div>
  <div class="flex-none">
    



<nav class="h-full static">
  <button id="navbar-menu-toggle" type="button" class="inline-flex items-center p-2 text-sm text-slate-800 dark:text-slate-200 rounded-lg md:hidden" aria-controls="navbar-menu" aria-expanded="false">
    <span class="sr-only">Open main menu</span>
    <i class="w-8 h-8">
      <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-menu-2" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
  <path stroke="none" d="M0 0h24v24H0z" fill="none"/>
  <path d="M4 6l16 0" />
  <path d="M4 12l16 0" />
  <path d="M4 18l16 0" />
</svg>

    </i>
  </button>
  <div class="absolute md:static top-16 left-0 right-0 z-50 hidden w-full md:block md:w-auto" id="navbar-menu">
    <ul class="flex flex-col mx-2 md:mx-0 md:flex-row md:border-0 rounded-xs md:rounded-full px-3 text-base font-medium text-slate-800 dark:text-slate-200 shadow-lg bg-white dark:bg-gray-600 shadow-slate-800/5 dark:shadow-slate-200/5 ring-1 ring-slate-900/5 dark:ring-slate-100/5">
    
        <li id="post" class="">
          <a class="block px-3 py-3 hover:text-emerald-600 text-emerald-600"
            href="/hugo-blog/public/post/" title="Post">Post</a>
        </li>
      
    
        <li id="about" class="">
          <a class="block px-3 py-3 hover:text-emerald-600"
            href="/hugo-blog/public/about/" title="About">About</a>
        </li>
      
    
    </ul>
  </div>
</nav>


  </div>
  
  <div class="flex-none">
    <div class="h-full static">
      <button id="navbar-lang-toggle" type="button" class="inline-flex items-center p-2 text-sm text-slate-800 dark:text-slate-200 rounded-lg" aria-controls="navbar-menu" aria-expanded="false">
        <span class="sr-only">Open language switcher</span>
        <i class="w-8 h-8">
          <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-language" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
  <path stroke="none" d="M0 0h24v24H0z" fill="none"/>
  <path d="M4 5h7" />
  <path d="M9 3v2c0 4.418 -2.239 8 -5 8" />
  <path d="M5 9c0 2.144 2.952 3.908 6.7 4" />
  <path d="M12 20l4 -9l4 9" />
  <path d="M19.1 18h-6.2" />
</svg>

        </i>
      </button>
      <div class="absolute hidden top-16 z-50" id="navbar-lang">
        <ul class="flex flex-col rounded-xs px-3 text-base font-medium text-slate-800 dark:text-slate-200 shadow-lg bg-white dark:bg-gray-600 shadow-slate-800/5 dark:shadow-slate-200/5 ring-1 ring-slate-900/5 dark:ring-slate-100/5">
          <li class="">
            <span class="block px-3 py-3 cursor-default hover:text-emerald-600">English</span>
            </li>
        
        </ul>
      </div>
    </div>
  </div>
  
  <div class="flex-none md:hidden">
    <a href=/hugo-blog/public/search/ class="inline-flex items-center p-2 text-sm text-slate-800 dark:text-slate-200 rounded-lg" aria-controls="navbar-menu" aria-expanded="false">
      <span class="sr-only">Search</span>
      <i class="w-8 h-8">
        <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-search" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
    <path stroke="none" d="M0 0h24v24H0z" fill="none" />
    <path d="M10 10m-7 0a7 7 0 1 0 14 0a7 7 0 1 0 -14 0" />
    <path d="M21 21l-6 -6" />
</svg>

      </i>
    </a>
  </div>
  <div class="darkmode-toggle flex flex-none mr-2 md:mr-0">
    <label for="darkmode-toggle" class="relative flex items-center gap-1 px-3 cursor-pointer rounded-full bg-gray-100 dark:bg-gray-600" title="Toggle dark mode">
      <input name="darkmode-toggle" id="darkmode-toggle" type="checkbox" class="sr-only peer" aria-label="Toggle dark mode">
      <div class="absolute z-10 w-15 h-8 rounded-full bg-white dark:bg-gray-700"></div>
      <i class="h-6 w-6 z-20 ml-1 flex-none rounded-full bg-yellow-400 place-self-center peer-checked:invisible">
        <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-brightness-down" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
   <path stroke="none" d="M0 0h24v24H0z" fill="none"></path>
   <path d="M12 12m-3 0a3 3 0 1 0 6 0a3 3 0 1 0 -6 0"></path>
   <path d="M12 5l0 .01"></path>
   <path d="M17 7l0 .01"></path>
   <path d="M19 12l0 .01"></path>
   <path d="M17 17l0 .01"></path>
   <path d="M12 19l0 .01"></path>
   <path d="M7 17l0 .01"></path>
   <path d="M5 12l0 .01"></path>
   <path d="M7 7l0 .01"></path>
</svg>

      </i>
      <i class="h-6 w-6 z-20 mr-1 flex-none rounded-full place-self-center invisible peer-checked:visible">
        <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-moon-stars" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
   <path stroke="none" d="M0 0h24v24H0z" fill="none"></path>
   <path d="M12 3c.132 0 .263 0 .393 0a7.5 7.5 0 0 0 7.92 12.446a9 9 0 1 1 -8.313 -12.454z"></path>
   <path d="M17 4a2 2 0 0 0 2 2a2 2 0 0 0 -2 2a2 2 0 0 0 -2 -2a2 2 0 0 0 2 -2"></path>
   <path d="M19 11h2m-1 -1v2"></path>
</svg>

      </i>
    </label>
  </div>
</div>

  </header>
  <main class="flex flex-auto justify-center">
    
<div id="progress" class="fixed top-0 left-0 w-full h-1 bg-blue-500"></div>
<div class="w-full max-w-4xl lg:max-w-5xl">
  <div class="flex flex-col mt-6 mx-2 md:mx-0 rounded-lg overflow-hidden shadow-md bg-white dark:bg-gray-700">
    <div>
      <a href="/hugo-blog/public/post/kotlin/%E4%B8%80%E6%96%87%E8%AF%BB%E6%87%82-java-%E5%92%8C-kotlin-%E7%9A%84%E6%B3%9B%E5%9E%8B%E9%9A%BE%E7%82%B9/">
        
      </a>
    </div>
    <div class="flex flex-col gap-y-3 p-6">
      <h1 class="text-4xl font-semibold text-slate-800 dark:text-slate-100">
        <a href="/hugo-blog/public/post/kotlin/%E4%B8%80%E6%96%87%E8%AF%BB%E6%87%82-java-%E5%92%8C-kotlin-%E7%9A%84%E6%B3%9B%E5%9E%8B%E9%9A%BE%E7%82%B9/">ä¸€æ–‡è¯»æ‡‚ Java å’Œ Kotlin çš„æ³›å‹éš¾ç‚¹</a>
      </h1>

      
      


      <div class="flex flex-col gap-y-1 md:flex-row md:gap-y-0 md:gap-x-4 text-slate-500 dark:text-slate-300">
  <div class="flex flex-row text-base gap-x-1">
    <i class="h-6 w-6 flex-none">
      <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-hourglass-high" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
   <path stroke="none" d="M0 0h24v24H0z" fill="none"></path>
   <path d="M6.5 7h11"></path>
   <path d="M6 20v-2a6 6 0 1 1 12 0v2a1 1 0 0 1 -1 1h-10a1 1 0 0 1 -1 -1z"></path>
   <path d="M6 4v2a6 6 0 1 0 12 0v-2a1 1 0 0 0 -1 -1h-10a1 1 0 0 0 -1 1z"></path>
</svg>

    </i>
    <span>
      10 minutes to read
    </span>
  </div>
</div>

      <div class="flex flex-col gap-y-1 md:flex-row md:gap-y-0 md:gap-x-4 text-slate-500 dark:text-slate-300">
  <div class="flex flex-row text-base gap-x-1">
    <i class="h-6 w-6 flex-none">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none"
    stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"
    class="icon icon-tabler icons-tabler-outline icon-tabler-user">
    <path stroke="none" d="M0 0h24v24H0z" fill="none" />
    <path d="M8 7a4 4 0 1 0 8 0a4 4 0 0 0 -8 0" />
    <path d="M6 21v-2a4 4 0 0 1 4 -4h4a4 4 0 0 1 4 4v2" />
</svg>

    </i>
    <span>Xiaoliang Wang</span>
  </div>
</div>

      
        
        <section class="prose prose-slate dark:prose-invert w-full max-w-4xl lg:max-w-5xl mt-6">
          <h2>Table of Contents</h2>
          <aside><nav id="TableOfContents"></nav></aside>
        </section>
        
      

      <article class="mt-6 w-full max-w-4xl lg:max-w-5xl prose prose-slate dark:prose-invert prose-quoteless post-content">
        <blockquote>
<p>å…¬ä¼—å·ï¼š<a href="https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/adbc507fc3704fd8955aae739a433db2~tplv-k3u1fbpfcp-zoom-1.image" target="_blank" rel="noopener">å­—èŠ‚æ•°ç»„</a>
</p>
<p>å¸Œæœ›å¯¹ä½ æœ‰æ‰€å¸®åŠ© ğŸ¤£ğŸ¤£</p></blockquote>
<p>Java å’Œ Kotlin çš„æ³›å‹ç®—ä½œæ˜¯ä¸€å—æŒºå¤§çš„çŸ¥è¯†éš¾ç‚¹äº†ï¼Œæ¶‰åŠåˆ°å¾ˆå¤šå¾ˆéš¾ç†è§£çš„æ¦‚å¿µï¼š<strong>æ³›å‹å‹å‚ã€æ³›å‹å®å‚ã€ç±»å‹å‚æ•°ã€ä¸å˜ã€å‹å˜ã€åå˜ã€é€†å˜ã€å†…è”</strong>ç­‰ç­‰ã€‚æœ¬ç¯‡æ–‡ç« å°±å°† Java å’Œ Kotlin ç»“åˆç€ä¸€èµ·è®²ï¼ŒæŒ‰ç…§æˆ‘çš„ä¸ªäººç†è§£æ¥é˜è¿°æ³›å‹çš„å„ä¸ªçŸ¥è¯†éš¾ç‚¹ï¼Œå¸Œæœ›å¯¹ä½ æœ‰æ‰€å¸®åŠ© ğŸ¤£ğŸ¤£</p>
<h1 id="ä¸€æ³›å‹ç±»å‹">ä¸€ã€æ³›å‹ç±»å‹</h1>
<p>æ³›å‹å…è®¸ä½ å®šä¹‰å¸¦<strong>ç±»å‹å½¢å‚</strong>çš„æ•°æ®ç±»å‹ï¼Œå½“è¿™ç§ç±»å‹çš„å®ä¾‹è¢«åˆ›å»ºå‡ºæ¥åï¼Œ<strong>ç±»å‹å½¢å‚</strong>ä¾¿è¢«æ›¿æ¢ä¸ºç§°ä¸º<strong>ç±»å‹å®å‚</strong>çš„å…·ä½“ç±»å‹ã€‚ä¾‹å¦‚ï¼Œå¯¹äº <code>List&lt;T&gt;</code>ï¼ŒList ç§°ä¸º<strong>åŸºç¡€ç±»å‹</strong>ï¼ŒT ä¾¿æ˜¯<strong>ç±»å‹å‹å‚</strong>ï¼ŒT å¯ä»¥æ˜¯ä»»æ„ç±»å‹ï¼Œå½“æ²¡æœ‰æŒ‡å®š T çš„å…·ä½“ç±»å‹æ—¶ï¼Œæˆ‘ä»¬åªèƒ½çŸ¥é“<code>List&lt;T&gt;</code>æ˜¯ä¸€ä¸ªé›†åˆåˆ—è¡¨ï¼Œä½†ä¸çŸ¥é“æ‰¿è½½çš„å…·ä½“æ•°æ®ç±»å‹ã€‚è€Œå¯¹äº <code>List&lt;String&gt;</code>ï¼Œå½“ä¸­çš„ String ä¾¿æ˜¯<strong>ç±»å‹å®å‚</strong>ï¼Œæˆ‘ä»¬å¯ä»¥æ˜ç™½åœ°çŸ¥é“è¯¥åˆ—è¡¨æ‰¿è½½çš„éƒ½æ˜¯å­—ç¬¦ä¸²ï¼Œåœ¨è¿™é‡Œ String å°±ç›¸å½“äºä¸€ä¸ªå‚æ•°ä¼ é€’ç»™äº† Listï¼Œåœ¨è¿™è¯­ä¹‰ä¸‹ String ä¹Ÿç§°ä¸º<strong>ç±»å‹å‚æ•°</strong></p>
<p>æ­¤å¤–ï¼Œåœ¨ Kotlin ä¸­æˆ‘ä»¬å¯ä»¥å®ç°<strong>å®åŒ–ç±»å‹å‚æ•°</strong>ï¼Œåœ¨è¿è¡Œæ—¶çš„<strong>å†…è”å‡½æ•°</strong>ä¸­æ‹¿åˆ°ä½œä¸º<strong>ç±»å‹å®å‚</strong>çš„å…·ä½“ç±»å‹ï¼Œå³å¯ä»¥å®ç° <code>T::class.java</code>ï¼Œä½†åœ¨ Java ä¸­å´æ— æ³•å®ç°ï¼Œå› ä¸º<strong>å†…è”å‡½æ•°</strong>æ˜¯ Kotlin ä¸­çš„æ¦‚å¿µï¼ŒJava ä¸­å¹¶ä¸å­˜åœ¨</p>
<h1 id="äºŒä¸ºä»€ä¹ˆéœ€è¦æ³›å‹">äºŒã€ä¸ºä»€ä¹ˆéœ€è¦æ³›å‹</h1>
<p>æ³›å‹æ˜¯åœ¨ Java 5 ç‰ˆæœ¬å¼€å§‹å¼•å…¥çš„ï¼Œå…ˆé€šè¿‡å‡ ä¸ªå°ä¾‹å­æ¥æ˜ç™½æ³›å‹çš„é‡è¦æ€§</p>
<p>ä»¥ä¸‹ä»£ç å¯ä»¥æˆåŠŸç¼–è¯‘ï¼Œä½†æ˜¯åœ¨è¿è¡Œæ—¶å´æŠ›å‡ºäº† ClassCastExceptionã€‚äº†è§£ ArrayList æºç çš„åŒå­¦å°±çŸ¥é“å…¶å†…éƒ¨æ˜¯ç”¨ä¸€ä¸ª<code>Object[]</code>æ•°ç»„æ¥å­˜å‚¨æ•°æ®çš„ï¼Œè¿™ä½¿å¾— ArrayList èƒ½å¤Ÿå­˜å‚¨ä»»ä½•ç±»å‹çš„å¯¹è±¡ï¼Œæ‰€ä»¥åœ¨æ²¡æœ‰æ³›å‹çš„å¹´ä»£å¼€å‘è€…ä¸€ä¸å°å¿ƒå°±æœ‰å¯èƒ½å‘ ArrayList å­˜å…¥äº†éæœŸæœ›å€¼ï¼Œç¼–è¯‘æœŸå®Œå…¨æ­£å¸¸ï¼Œç­‰åˆ°åœ¨è¿è¡Œæ—¶å°±ä¼šæŠ›å‡ºç±»å‹è½¬æ¢å¼‚å¸¸äº†</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-java" data-lang="java"><span class="line"><span class="cl"><span class="kd">public</span><span class="w"> </span><span class="kd">class</span> <span class="nc">GenericTest</span><span class="w"> </span><span class="p">{</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="kd">static</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="nf">main</span><span class="p">(</span><span class="n">String</span><span class="o">[]</span><span class="w"> </span><span class="n">args</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="n">List</span><span class="w"> </span><span class="n">stringList</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">ArrayList</span><span class="p">();</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="n">addData</span><span class="p">(</span><span class="n">stringList</span><span class="p">);</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="n">String</span><span class="w"> </span><span class="n">str</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">(</span><span class="n">String</span><span class="p">)</span><span class="w"> </span><span class="n">stringList</span><span class="p">.</span><span class="na">get</span><span class="p">(</span><span class="n">0</span><span class="p">);</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="p">}</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="kd">static</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="nf">addData</span><span class="p">(</span><span class="n">List</span><span class="w"> </span><span class="n">dataList</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="n">dataList</span><span class="p">.</span><span class="na">add</span><span class="p">(</span><span class="n">1</span><span class="p">);</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="p">}</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="p">}</span><span class="w">
</span></span></span></code></pre></div><div class="highlight"><pre tabindex="0" class="chroma"><code class="language-java" data-lang="java"><span class="line"><span class="cl"><span class="n">Exception</span><span class="w"> </span><span class="n">in</span><span class="w"> </span><span class="n">thread</span><span class="w"> </span><span class="s">&#34;main&#34;</span><span class="w"> </span><span class="n">java</span><span class="p">.</span><span class="na">lang</span><span class="p">.</span><span class="na">ClassCastException</span><span class="p">:</span><span class="w"> 
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="n">java</span><span class="p">.</span><span class="na">lang</span><span class="p">.</span><span class="na">Integer</span><span class="w"> </span><span class="n">cannot</span><span class="w"> </span><span class="n">be</span><span class="w"> </span><span class="n">cast</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">java</span><span class="p">.</span><span class="na">lang</span><span class="p">.</span><span class="na">String</span><span class="w">
</span></span></span></code></pre></div><p>è€Œæœ‰äº†æ³›å‹åï¼Œæˆ‘ä»¬å°±å¯ä»¥å†™å‡ºæ›´åŠ å¥å£®å®‰å…¨çš„ä»£ç ï¼Œä»¥ä¸‹é”™è¯¯å°±å®Œå…¨å¯ä»¥åœ¨ç¼–è¯‘é˜¶æ®µè¢«å‘ç°ï¼Œä¸”å–å€¼çš„æ—¶å€™ä¹Ÿä¸éœ€è¦è¿›è¡Œç±»å‹å¼ºè½¬</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-java" data-lang="java"><span class="line"><span class="cl"><span class="kd">public</span><span class="w"> </span><span class="kd">static</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="nf">main</span><span class="p">(</span><span class="n">String</span><span class="o">[]</span><span class="w"> </span><span class="n">args</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="n">List</span><span class="o">&lt;</span><span class="n">String</span><span class="o">&gt;</span><span class="w"> </span><span class="n">stringList</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">ArrayList</span><span class="p">();</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="n">addData</span><span class="p">(</span><span class="n">stringList</span><span class="p">);</span><span class="w"> </span><span class="c1">//æŠ¥é”™</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="n">String</span><span class="w"> </span><span class="n">str</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">stringList</span><span class="p">.</span><span class="na">get</span><span class="p">(</span><span class="n">0</span><span class="p">);</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="p">}</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="kd">public</span><span class="w"> </span><span class="kd">static</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="nf">addData</span><span class="p">(</span><span class="n">List</span><span class="o">&lt;</span><span class="n">Integer</span><span class="o">&gt;</span><span class="w"> </span><span class="n">dataList</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="n">dataList</span><span class="p">.</span><span class="na">add</span><span class="p">(</span><span class="n">1</span><span class="p">);</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="p">}</span><span class="w">
</span></span></span></code></pre></div><p>æ­¤å¤–ï¼Œåˆ©ç”¨æ³›å‹æˆ‘ä»¬å¯ä»¥å†™å‡ºæ›´åŠ å…·å¤‡é€šç”¨æ€§çš„ä»£ç ã€‚ä¾‹å¦‚ï¼Œå‡è®¾æˆ‘ä»¬éœ€è¦ä»ä¸€ä¸ª List ä¸­ç­›é€‰å‡ºå¤§äº 0 çš„å…¨éƒ¨æ•°å­—ï¼Œé‚£æˆ‘ä»¬è‡ªç„¶ä¸æƒ³ä¸º Integerã€Floatã€Double ç­‰å¤šç§ç±»å‹å„å†™ä¸€ä¸ªç­›é€‰æ–¹æ³•ï¼Œæ­¤æ—¶å°±å¯ä»¥åˆ©ç”¨æ³›å‹æ¥æŠ½è±¡ç­›é€‰é€»è¾‘</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-java" data-lang="java"><span class="line"><span class="cl"><span class="kd">public</span><span class="w"> </span><span class="kd">static</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="nf">main</span><span class="p">(</span><span class="n">String</span><span class="o">[]</span><span class="w"> </span><span class="n">args</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="n">List</span><span class="o">&lt;</span><span class="n">Integer</span><span class="o">&gt;</span><span class="w"> </span><span class="n">integerList</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">ArrayList</span><span class="o">&lt;&gt;</span><span class="p">();</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="n">integerList</span><span class="p">.</span><span class="na">add</span><span class="p">(</span><span class="o">-</span><span class="n">1</span><span class="p">);</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="n">integerList</span><span class="p">.</span><span class="na">add</span><span class="p">(</span><span class="n">1</span><span class="p">);</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="n">integerList</span><span class="p">.</span><span class="na">add</span><span class="p">(</span><span class="n">2</span><span class="p">);</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="n">List</span><span class="o">&lt;</span><span class="n">Integer</span><span class="o">&gt;</span><span class="w"> </span><span class="n">result1</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">filter</span><span class="p">(</span><span class="n">integerList</span><span class="p">);</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="n">List</span><span class="o">&lt;</span><span class="n">Float</span><span class="o">&gt;</span><span class="w"> </span><span class="n">floatList</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">ArrayList</span><span class="o">&lt;&gt;</span><span class="p">();</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="n">floatList</span><span class="p">.</span><span class="na">add</span><span class="p">(</span><span class="o">-</span><span class="n">1f</span><span class="p">);</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="n">floatList</span><span class="p">.</span><span class="na">add</span><span class="p">(</span><span class="n">1f</span><span class="p">);</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="n">floatList</span><span class="p">.</span><span class="na">add</span><span class="p">(</span><span class="n">2f</span><span class="p">);</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="n">List</span><span class="o">&lt;</span><span class="n">Float</span><span class="o">&gt;</span><span class="w"> </span><span class="n">result2</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">filter</span><span class="p">(</span><span class="n">floatList</span><span class="p">);</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="p">}</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="kd">public</span><span class="w"> </span><span class="kd">static</span><span class="w"> </span><span class="o">&lt;</span><span class="n">T</span><span class="w"> </span><span class="kd">extends</span><span class="w"> </span><span class="n">Number</span><span class="o">&gt;</span><span class="w"> </span><span class="n">List</span><span class="o">&lt;</span><span class="n">T</span><span class="o">&gt;</span><span class="w"> </span><span class="nf">filter</span><span class="p">(</span><span class="n">List</span><span class="o">&lt;</span><span class="n">T</span><span class="o">&gt;</span><span class="w"> </span><span class="n">data</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="n">List</span><span class="o">&lt;</span><span class="n">T</span><span class="o">&gt;</span><span class="w"> </span><span class="n">filterList</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">ArrayList</span><span class="o">&lt;&gt;</span><span class="p">();</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="k">for</span><span class="w"> </span><span class="p">(</span><span class="n">T</span><span class="w"> </span><span class="n">datum</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="n">data</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">datum</span><span class="p">.</span><span class="na">doubleValue</span><span class="p">()</span><span class="w"> </span><span class="o">&gt;</span><span class="w"> </span><span class="n">0</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">            </span><span class="n">filterList</span><span class="p">.</span><span class="na">add</span><span class="p">(</span><span class="n">datum</span><span class="p">);</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="p">}</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="p">}</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="n">filterList</span><span class="p">;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="p">}</span><span class="w">
</span></span></span></code></pre></div><p>æ€»çš„æ¥è¯´ï¼Œæ³›å‹æœ‰ä»¥ä¸‹å‡ ç‚¹ä¼˜åŠ¿ï¼š</p>
<ul>
<li>ç±»å‹æ£€æŸ¥ï¼Œåœ¨ç¼–è¯‘é˜¶æ®µå°±èƒ½å‘ç°é”™è¯¯</li>
<li>æ›´åŠ è¯­ä¹‰åŒ–ï¼Œçœ‹åˆ° <code>List&lt;String&gt;</code>æˆ‘ä»¬å°±çŸ¥é“å­˜å‚¨çš„æ•°æ®ç±»å‹æ˜¯ String</li>
<li>è‡ªåŠ¨ç±»å‹è½¬æ¢ï¼Œåœ¨å–å€¼æ—¶æ— éœ€è¿›è¡Œæ‰‹åŠ¨ç±»å‹è½¬æ¢</li>
<li>èƒ½å¤Ÿå°†é€»è¾‘æŠ½è±¡å‡ºæ¥ï¼Œä½¿å¾—ä»£ç æ›´åŠ å…·æœ‰é€šç”¨æ€§</li>
</ul>
<h1 id="ä¸‰ç±»å‹æ“¦é™¤">ä¸‰ã€ç±»å‹æ“¦é™¤</h1>
<p>æ³›å‹æ˜¯åœ¨ Java 5 ç‰ˆæœ¬å¼€å§‹å¼•å…¥çš„ï¼Œæ‰€ä»¥åœ¨ Java 4 ä¸­ ArrayList è¿˜ä¸å±äºæ³›å‹ç±»ï¼Œå…¶å†…éƒ¨é€šè¿‡ <strong>Object å‘ä¸Šè½¬å‹</strong>å’Œ<strong>å¤–éƒ¨å¼ºåˆ¶ç±»å‹è½¬æ¢</strong>æ¥å®ç°æ•°æ®å­˜å‚¨å’Œé€»è¾‘å¤ç”¨ï¼Œæ­¤æ—¶å¼€å‘è€…çš„é¡¹ç›®ä¸­å·²ç»å……æ–¥äº†å¤§é‡ä»¥ä¸‹ç±»å‹çš„ä»£ç ï¼š</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-java" data-lang="java"><span class="line"><span class="cl"><span class="n">List</span><span class="w"> </span><span class="n">stringList</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">ArrayList</span><span class="p">();</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="n">stringList</span><span class="p">.</span><span class="na">add</span><span class="p">(</span><span class="s">&#34;ä¸šå¿—é™ˆ&#34;</span><span class="p">);</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="n">stringList</span><span class="p">.</span><span class="na">add</span><span class="p">(</span><span class="s">&#34;https://juejin.cn/user/923245496518439&#34;</span><span class="p">);</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="n">String</span><span class="w"> </span><span class="n">str</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">(</span><span class="n">String</span><span class="p">)</span><span class="w"> </span><span class="n">stringList</span><span class="p">.</span><span class="na">get</span><span class="p">(</span><span class="n">0</span><span class="p">);</span><span class="w">
</span></span></span></code></pre></div><p>è€Œåœ¨æ¨å‡ºæ³›å‹çš„åŒæ—¶ï¼ŒJava å®˜æ–¹ä¹Ÿå¿…é¡»ä¿è¯äºŒè¿›åˆ¶çš„å‘åå…¼å®¹æ€§ï¼Œç”¨ Java 4 ç¼–è¯‘å‡ºçš„ Class æ–‡ä»¶ä¹Ÿå¿…é¡»èƒ½å¤Ÿåœ¨ Java 5 ä¸Šæ­£å¸¸è¿è¡Œï¼Œå³ Java 5 å¿…é¡»ä¿è¯ä»¥ä¸‹ä¸¤ç§ç±»å‹çš„ä»£ç èƒ½å¤Ÿåœ¨ Java 5 ä¸Šå…±å­˜ä¸”æ­£å¸¸è¿è¡Œ</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-java" data-lang="java"><span class="line"><span class="cl"><span class="n">List</span><span class="w"> </span><span class="n">stringList</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">ArrayList</span><span class="p">();</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="n">List</span><span class="o">&lt;</span><span class="n">String</span><span class="o">&gt;</span><span class="w"> </span><span class="n">stringList</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">ArrayList</span><span class="p">();</span><span class="w">
</span></span></span></code></pre></div><p>ä¸ºäº†å®ç°è¿™ä¸€ç›®çš„ï¼ŒJava å°±é€šè¿‡<strong>ç±»å‹æ“¦é™¤</strong>è¿™ç§æ¯”è¾ƒåˆ«æ‰­çš„æ–¹å¼æ¥å®ç°æ³›å‹ã€‚ç¼–è¯‘å™¨åœ¨ç¼–è¯‘æ—¶ä¼šæ“¦é™¤ç±»å‹å®å‚ï¼Œåœ¨è¿è¡Œæ—¶ä¸å­˜åœ¨ä»»ä½•ç±»å‹ç›¸å…³çš„ä¿¡æ¯ï¼Œæ³›å‹å¯¹äº JVM æ¥è¯´æ˜¯é€æ˜çš„ï¼Œæœ‰æ³›å‹å’Œæ²¡æœ‰æ³›å‹çš„ä»£ç é€šè¿‡ç¼–è¯‘å™¨ç¼–è¯‘åæ‰€ç”Ÿæˆçš„äºŒè¿›åˆ¶ä»£ç æ˜¯å®Œå…¨ç›¸åŒçš„</p>
<p>ä¾‹å¦‚ï¼Œåˆ†åˆ«å£°æ˜ä¸¤ä¸ªæ³›å‹ç±»å’Œéæ³›å‹ç±»ï¼Œæ‹¿åˆ°å…¶ class æ–‡ä»¶</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-java" data-lang="java"><span class="line"><span class="cl"><span class="kd">public</span><span class="w"> </span><span class="kd">class</span> <span class="nc">GenericTest</span><span class="w"> </span><span class="p">{</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="kd">static</span><span class="w"> </span><span class="kd">class</span> <span class="nc">NodeA</span><span class="w"> </span><span class="p">{</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="kd">private</span><span class="w"> </span><span class="n">Object</span><span class="w"> </span><span class="n">obj</span><span class="p">;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="kd">public</span><span class="w"> </span><span class="nf">NodeA</span><span class="p">(</span><span class="n">Object</span><span class="w"> </span><span class="n">obj</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">            </span><span class="k">this</span><span class="p">.</span><span class="na">obj</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">obj</span><span class="p">;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="p">}</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="p">}</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="kd">static</span><span class="w"> </span><span class="kd">class</span> <span class="nc">NodeB</span><span class="o">&lt;</span><span class="n">T</span><span class="o">&gt;</span><span class="w"> </span><span class="p">{</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="kd">private</span><span class="w"> </span><span class="n">T</span><span class="w"> </span><span class="n">obj</span><span class="p">;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="kd">public</span><span class="w"> </span><span class="nf">NodeB</span><span class="p">(</span><span class="n">T</span><span class="w"> </span><span class="n">obj</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">            </span><span class="k">this</span><span class="p">.</span><span class="na">obj</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">obj</span><span class="p">;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="p">}</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="p">}</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="kd">static</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="nf">main</span><span class="p">(</span><span class="n">String</span><span class="o">[]</span><span class="w"> </span><span class="n">args</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="n">NodeA</span><span class="w"> </span><span class="n">nodeA</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">NodeA</span><span class="p">(</span><span class="s">&#34;ä¸šå¿—é™ˆ&#34;</span><span class="p">);</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="n">NodeB</span><span class="o">&lt;</span><span class="n">String</span><span class="o">&gt;</span><span class="w"> </span><span class="n">nodeB</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">NodeB</span><span class="o">&lt;&gt;</span><span class="p">(</span><span class="s">&#34;ä¸šå¿—é™ˆ&#34;</span><span class="p">);</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="n">System</span><span class="p">.</span><span class="na">out</span><span class="p">.</span><span class="na">println</span><span class="p">(</span><span class="n">nodeB</span><span class="p">.</span><span class="na">obj</span><span class="p">);</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="p">}</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="p">}</span><span class="w">
</span></span></span></code></pre></div><p>å¯ä»¥çœ‹åˆ° NodeA å’Œ NodeB ä¸¤ä¸ªå¯¹è±¡å¯¹åº”çš„å­—èŠ‚ç å…¶å®æ˜¯å®Œå…¨ä¸€æ ·çš„ï¼Œæœ€ç»ˆéƒ½æ˜¯ä½¿ç”¨ Object æ¥æ‰¿è½½æ•°æ®ï¼Œå°±å¥½åƒä¼ é€’ç»™ NodeB çš„ç±»å‹å‚æ•° String ä¸è§äº†ä¸€æ ·ï¼Œè¿™ä¾¿æ˜¯ç±»å‹æ“¦é™¤</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-java" data-lang="java"><span class="line"><span class="cl"><span class="kd">public</span><span class="w"> </span><span class="kd">class</span> <span class="nc">generic</span><span class="p">.</span><span class="na">GenericTest</span><span class="w"> </span><span class="p">{</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">  </span><span class="kd">public</span><span class="w"> </span><span class="n">generic</span><span class="p">.</span><span class="na">GenericTest</span><span class="p">();</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="n">Code</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">       </span><span class="n">0</span><span class="p">:</span><span class="w"> </span><span class="n">aload_0</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">       </span><span class="n">1</span><span class="p">:</span><span class="w"> </span><span class="n">invokespecial</span><span class="w"> </span><span class="err">#</span><span class="n">1</span><span class="w">                  </span><span class="c1">// Method java/lang/Object.&#34;&lt;init&gt;&#34;:()V</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">       </span><span class="n">4</span><span class="p">:</span><span class="w"> </span><span class="k">return</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">  </span><span class="kd">public</span><span class="w"> </span><span class="kd">static</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="nf">main</span><span class="p">(</span><span class="n">java</span><span class="p">.</span><span class="na">lang</span><span class="p">.</span><span class="na">String</span><span class="o">[]</span><span class="p">);</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="n">Code</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">       </span><span class="n">0</span><span class="p">:</span><span class="w"> </span><span class="k">new</span><span class="w">           </span><span class="err">#</span><span class="n">2</span><span class="w">                  </span><span class="c1">// class generic/GenericTest$NodeA</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">       </span><span class="n">3</span><span class="p">:</span><span class="w"> </span><span class="n">dup</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">       </span><span class="n">4</span><span class="p">:</span><span class="w"> </span><span class="n">ldc</span><span class="w">           </span><span class="err">#</span><span class="n">3</span><span class="w">                  </span><span class="c1">// String ä¸šå¿—é™ˆ</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">       </span><span class="n">6</span><span class="p">:</span><span class="w"> </span><span class="n">invokespecial</span><span class="w"> </span><span class="err">#</span><span class="n">4</span><span class="w">                  </span><span class="c1">// Method generic/GenericTest$NodeA.&#34;&lt;init&gt;&#34;:(Ljava/lang/Object;)V</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">       </span><span class="n">9</span><span class="p">:</span><span class="w"> </span><span class="n">astore_1</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">      </span><span class="n">10</span><span class="p">:</span><span class="w"> </span><span class="k">new</span><span class="w">           </span><span class="err">#</span><span class="n">5</span><span class="w">                  </span><span class="c1">// class generic/GenericTest$NodeB</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">      </span><span class="n">13</span><span class="p">:</span><span class="w"> </span><span class="n">dup</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">      </span><span class="n">14</span><span class="p">:</span><span class="w"> </span><span class="n">ldc</span><span class="w">           </span><span class="err">#</span><span class="n">3</span><span class="w">                  </span><span class="c1">// String ä¸šå¿—é™ˆ</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">      </span><span class="n">16</span><span class="p">:</span><span class="w"> </span><span class="n">invokespecial</span><span class="w"> </span><span class="err">#</span><span class="n">6</span><span class="w">                  </span><span class="c1">// Method generic/GenericTest$NodeB.&#34;&lt;init&gt;&#34;:(Ljava/lang/Object;)V</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">      </span><span class="n">19</span><span class="p">:</span><span class="w"> </span><span class="n">astore_2</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">      </span><span class="n">20</span><span class="p">:</span><span class="w"> </span><span class="n">getstatic</span><span class="w">     </span><span class="err">#</span><span class="n">7</span><span class="w">                  </span><span class="c1">// Field java/lang/System.out:Ljava/io/PrintStream;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">      </span><span class="n">23</span><span class="p">:</span><span class="w"> </span><span class="n">aload_2</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">      </span><span class="n">24</span><span class="p">:</span><span class="w"> </span><span class="n">invokestatic</span><span class="w">  </span><span class="err">#</span><span class="n">8</span><span class="w">                  </span><span class="c1">// Method generic/GenericTest$NodeB.access$000:(Lgeneric/GenericTest$NodeB;)Ljava/lang/Object;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">      </span><span class="n">27</span><span class="p">:</span><span class="w"> </span><span class="n">checkcast</span><span class="w">     </span><span class="err">#</span><span class="n">9</span><span class="w">                  </span><span class="c1">// class java/lang/String</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">      </span><span class="n">30</span><span class="p">:</span><span class="w"> </span><span class="n">invokevirtual</span><span class="w"> </span><span class="err">#</span><span class="n">10</span><span class="w">                 </span><span class="c1">// Method java/io/PrintStream.println:(Ljava/lang/String;)V</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">      </span><span class="n">33</span><span class="p">:</span><span class="w"> </span><span class="k">return</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="p">}</span><span class="w">
</span></span></span></code></pre></div><p>è€Œå¦‚æœè®© NodeA ç›´æ¥ä½¿ç”¨ String ç±»å‹ï¼Œå¹¶ä¸”ä¸ºæ³›å‹ç±» NodeB è®¾å®šä¸Šç•Œçº¦æŸ Stringï¼Œä¸¤è€…çš„å­—èŠ‚ç ä¹Ÿä¼šå®Œå…¨ä¸€æ ·</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-java" data-lang="java"><span class="line"><span class="cl"><span class="kd">public</span><span class="w"> </span><span class="kd">class</span> <span class="nc">GenericTest</span><span class="w"> </span><span class="p">{</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="kd">static</span><span class="w"> </span><span class="kd">class</span> <span class="nc">NodeA</span><span class="w"> </span><span class="p">{</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="kd">private</span><span class="w"> </span><span class="n">String</span><span class="w"> </span><span class="n">obj</span><span class="p">;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="kd">public</span><span class="w"> </span><span class="nf">NodeA</span><span class="p">(</span><span class="n">String</span><span class="w"> </span><span class="n">obj</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">            </span><span class="k">this</span><span class="p">.</span><span class="na">obj</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">obj</span><span class="p">;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="p">}</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="p">}</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="kd">static</span><span class="w"> </span><span class="kd">class</span> <span class="nc">NodeB</span><span class="o">&lt;</span><span class="n">T</span><span class="w"> </span><span class="kd">extends</span><span class="w"> </span><span class="n">String</span><span class="o">&gt;</span><span class="w"> </span><span class="p">{</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="kd">private</span><span class="w"> </span><span class="n">T</span><span class="w"> </span><span class="n">obj</span><span class="p">;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="kd">public</span><span class="w"> </span><span class="nf">NodeB</span><span class="p">(</span><span class="n">T</span><span class="w"> </span><span class="n">obj</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">            </span><span class="k">this</span><span class="p">.</span><span class="na">obj</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">obj</span><span class="p">;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="p">}</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="p">}</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="kd">static</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="nf">main</span><span class="p">(</span><span class="n">String</span><span class="o">[]</span><span class="w"> </span><span class="n">args</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="n">NodeA</span><span class="w"> </span><span class="n">nodeA</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">NodeA</span><span class="p">(</span><span class="s">&#34;ä¸šå¿—é™ˆ&#34;</span><span class="p">);</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="n">NodeB</span><span class="o">&lt;</span><span class="n">String</span><span class="o">&gt;</span><span class="w"> </span><span class="n">nodeB</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">NodeB</span><span class="o">&lt;&gt;</span><span class="p">(</span><span class="s">&#34;ä¸šå¿—é™ˆ&#34;</span><span class="p">);</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="n">System</span><span class="p">.</span><span class="na">out</span><span class="p">.</span><span class="na">println</span><span class="p">(</span><span class="n">nodeB</span><span class="p">.</span><span class="na">obj</span><span class="p">);</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="p">}</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="p">}</span><span class="w">
</span></span></span></code></pre></div><p>å¯ä»¥çœ‹åˆ° NodeA å’Œ NodeB çš„å­—èŠ‚ç æ˜¯å®Œå…¨ç›¸åŒçš„</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-java" data-lang="java"><span class="line"><span class="cl"><span class="kd">public</span><span class="w"> </span><span class="kd">class</span> <span class="nc">generic</span><span class="p">.</span><span class="na">GenericTest</span><span class="w"> </span><span class="p">{</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">  </span><span class="kd">public</span><span class="w"> </span><span class="n">generic</span><span class="p">.</span><span class="na">GenericTest</span><span class="p">();</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="n">Code</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">       </span><span class="n">0</span><span class="p">:</span><span class="w"> </span><span class="n">aload_0</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">       </span><span class="n">1</span><span class="p">:</span><span class="w"> </span><span class="n">invokespecial</span><span class="w"> </span><span class="err">#</span><span class="n">1</span><span class="w">                  </span><span class="c1">// Method java/lang/Object.&#34;&lt;init&gt;&#34;:()V</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">       </span><span class="n">4</span><span class="p">:</span><span class="w"> </span><span class="k">return</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">  </span><span class="kd">public</span><span class="w"> </span><span class="kd">static</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="nf">main</span><span class="p">(</span><span class="n">java</span><span class="p">.</span><span class="na">lang</span><span class="p">.</span><span class="na">String</span><span class="o">[]</span><span class="p">);</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="n">Code</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">       </span><span class="n">0</span><span class="p">:</span><span class="w"> </span><span class="k">new</span><span class="w">           </span><span class="err">#</span><span class="n">2</span><span class="w">                  </span><span class="c1">// class generic/GenericTest$NodeA</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">       </span><span class="n">3</span><span class="p">:</span><span class="w"> </span><span class="n">dup</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">       </span><span class="n">4</span><span class="p">:</span><span class="w"> </span><span class="n">ldc</span><span class="w">           </span><span class="err">#</span><span class="n">3</span><span class="w">                  </span><span class="c1">// String ä¸šå¿—é™ˆ</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">       </span><span class="n">6</span><span class="p">:</span><span class="w"> </span><span class="n">invokespecial</span><span class="w"> </span><span class="err">#</span><span class="n">4</span><span class="w">                  </span><span class="c1">// Method generic/GenericTest$NodeA.&#34;&lt;init&gt;&#34;:(Ljava/lang/String;)V</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">       </span><span class="n">9</span><span class="p">:</span><span class="w"> </span><span class="n">astore_1</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">      </span><span class="n">10</span><span class="p">:</span><span class="w"> </span><span class="k">new</span><span class="w">           </span><span class="err">#</span><span class="n">5</span><span class="w">                  </span><span class="c1">// class generic/GenericTest$NodeB</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">      </span><span class="n">13</span><span class="p">:</span><span class="w"> </span><span class="n">dup</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">      </span><span class="n">14</span><span class="p">:</span><span class="w"> </span><span class="n">ldc</span><span class="w">           </span><span class="err">#</span><span class="n">3</span><span class="w">                  </span><span class="c1">// String ä¸šå¿—é™ˆ</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">      </span><span class="n">16</span><span class="p">:</span><span class="w"> </span><span class="n">invokespecial</span><span class="w"> </span><span class="err">#</span><span class="n">6</span><span class="w">                  </span><span class="c1">// Method generic/GenericTest$NodeB.&#34;&lt;init&gt;&#34;:(Ljava/lang/String;)V</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">      </span><span class="n">19</span><span class="p">:</span><span class="w"> </span><span class="n">astore_2</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">      </span><span class="n">20</span><span class="p">:</span><span class="w"> </span><span class="n">getstatic</span><span class="w">     </span><span class="err">#</span><span class="n">7</span><span class="w">                  </span><span class="c1">// Field java/lang/System.out:Ljava/io/PrintStream;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">      </span><span class="n">23</span><span class="p">:</span><span class="w"> </span><span class="n">aload_2</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">      </span><span class="n">24</span><span class="p">:</span><span class="w"> </span><span class="n">invokestatic</span><span class="w">  </span><span class="err">#</span><span class="n">8</span><span class="w">                  </span><span class="c1">// Method generic/GenericTest$NodeB.access$000:(Lgeneric/GenericTest$NodeB;)Ljava/lang/String;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">      </span><span class="n">27</span><span class="p">:</span><span class="w"> </span><span class="n">invokevirtual</span><span class="w"> </span><span class="err">#</span><span class="n">9</span><span class="w">                  </span><span class="c1">// Method java/io/PrintStream.println:(Ljava/lang/String;)V</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">      </span><span class="n">30</span><span class="p">:</span><span class="w"> </span><span class="k">return</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="p">}</span><span class="w">
</span></span></span></code></pre></div><p>æ‰€ä»¥è¯´ï¼Œå½“æ³›å‹ç±»å‹è¢«æ“¦é™¤åæœ‰ä¸¤ç§è½¬æ¢æ–¹å¼</p>
<ul>
<li>å¦‚æœæ³›å‹æ²¡æœ‰è®¾ç½®ä¸Šç•Œçº¦æŸï¼Œé‚£ä¹ˆå°†æ³›å‹è½¬åŒ–æˆ Object ç±»å‹</li>
<li>å¦‚æœæ³›å‹è®¾ç½®äº†ä¸Šç•Œçº¦æŸï¼Œé‚£ä¹ˆå°†æ³›å‹è½¬åŒ–æˆè¯¥ä¸Šç•Œçº¦æŸ</li>
</ul>
<p>è¯¥ç»“è®ºä¹Ÿå¯ä»¥é€šè¿‡åå°„æ³›å‹ç±»çš„ Class å¯¹è±¡æ¥éªŒè¯</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-java" data-lang="java"><span class="line"><span class="cl"><span class="kd">public</span><span class="w"> </span><span class="kd">class</span> <span class="nc">GenericTest</span><span class="w"> </span><span class="p">{</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="kd">static</span><span class="w"> </span><span class="kd">class</span> <span class="nc">NodeA</span><span class="o">&lt;</span><span class="n">T</span><span class="o">&gt;</span><span class="w"> </span><span class="p">{</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="kd">private</span><span class="w"> </span><span class="n">T</span><span class="w"> </span><span class="n">obj</span><span class="p">;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="kd">public</span><span class="w"> </span><span class="nf">NodeA</span><span class="p">(</span><span class="n">T</span><span class="w"> </span><span class="n">obj</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">            </span><span class="k">this</span><span class="p">.</span><span class="na">obj</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">obj</span><span class="p">;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="p">}</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="p">}</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="kd">static</span><span class="w"> </span><span class="kd">class</span> <span class="nc">NodeB</span><span class="o">&lt;</span><span class="n">T</span><span class="w"> </span><span class="kd">extends</span><span class="w"> </span><span class="n">String</span><span class="o">&gt;</span><span class="w"> </span><span class="p">{</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="kd">private</span><span class="w"> </span><span class="n">T</span><span class="w"> </span><span class="n">obj</span><span class="p">;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="kd">public</span><span class="w"> </span><span class="nf">NodeB</span><span class="p">(</span><span class="n">T</span><span class="w"> </span><span class="n">obj</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">            </span><span class="k">this</span><span class="p">.</span><span class="na">obj</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">obj</span><span class="p">;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="p">}</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="p">}</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="kd">static</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="nf">main</span><span class="p">(</span><span class="n">String</span><span class="o">[]</span><span class="w"> </span><span class="n">args</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="n">NodeA</span><span class="o">&lt;</span><span class="n">String</span><span class="o">&gt;</span><span class="w"> </span><span class="n">nodeA</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">NodeA</span><span class="o">&lt;&gt;</span><span class="p">(</span><span class="s">&#34;ä¸šå¿—é™ˆ&#34;</span><span class="p">);</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="n">getField</span><span class="p">(</span><span class="n">nodeA</span><span class="p">.</span><span class="na">getClass</span><span class="p">());</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="n">NodeB</span><span class="o">&lt;</span><span class="n">String</span><span class="o">&gt;</span><span class="w"> </span><span class="n">nodeB</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">NodeB</span><span class="o">&lt;&gt;</span><span class="p">(</span><span class="s">&#34;https://juejin.cn/user/923245496518439&#34;</span><span class="p">);</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="n">getField</span><span class="p">(</span><span class="n">nodeB</span><span class="p">.</span><span class="na">getClass</span><span class="p">());</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="p">}</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="kd">static</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="nf">getField</span><span class="p">(</span><span class="n">Class</span><span class="w"> </span><span class="n">clazz</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="k">for</span><span class="w"> </span><span class="p">(</span><span class="n">Field</span><span class="w"> </span><span class="n">field</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="n">clazz</span><span class="p">.</span><span class="na">getDeclaredFields</span><span class="p">())</span><span class="w"> </span><span class="p">{</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">            </span><span class="n">System</span><span class="p">.</span><span class="na">out</span><span class="p">.</span><span class="na">println</span><span class="p">(</span><span class="s">&#34;fieldName: &#34;</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">field</span><span class="p">.</span><span class="na">getName</span><span class="p">());</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">            </span><span class="n">System</span><span class="p">.</span><span class="na">out</span><span class="p">.</span><span class="na">println</span><span class="p">(</span><span class="s">&#34;fieldTypeName: &#34;</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">field</span><span class="p">.</span><span class="na">getType</span><span class="p">().</span><span class="na">getName</span><span class="p">());</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="p">}</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="p">}</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="p">}</span><span class="w">
</span></span></span></code></pre></div><p>NodeA å¯¹åº”çš„æ˜¯ Objectï¼ŒNodeB å¯¹åº”çš„æ˜¯ String</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-java" data-lang="java"><span class="line"><span class="cl"><span class="nl">fieldName</span><span class="p">:</span><span class="w"> </span><span class="n">obj</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="nl">fieldTypeName</span><span class="p">:</span><span class="w"> </span><span class="n">java</span><span class="p">.</span><span class="na">lang</span><span class="p">.</span><span class="na">Object</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="nl">fieldName</span><span class="p">:</span><span class="w"> </span><span class="n">obj</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="nl">fieldTypeName</span><span class="p">:</span><span class="w"> </span><span class="n">java</span><span class="p">.</span><span class="na">lang</span><span class="p">.</span><span class="na">String</span><span class="w">
</span></span></span></code></pre></div><p>é‚£æ—¢ç„¶åœ¨è¿è¡Œæ—¶ä¸å­˜åœ¨ä»»ä½•ç±»å‹ç›¸å…³çš„ä¿¡æ¯ï¼Œæ³›å‹åˆä¸ºä»€ä¹ˆèƒ½å¤Ÿå®ç°<strong>ç±»å‹æ£€æŸ¥</strong>å’Œ<strong>ç±»å‹è‡ªåŠ¨è½¬æ¢</strong>ç­‰åŠŸèƒ½å‘¢ï¼Ÿ</p>
<p>å…¶å®ï¼Œç±»å‹æ£€æŸ¥æ˜¯ç¼–è¯‘å™¨åœ¨<strong>ç¼–è¯‘å‰</strong>å¸®æˆ‘ä»¬å®Œæˆçš„ï¼Œç¼–è¯‘å™¨çŸ¥é“æˆ‘ä»¬å£°æ˜çš„å…·ä½“çš„ç±»å‹å®å‚ï¼Œæ‰€ä»¥ç±»å‹æ“¦é™¤å¹¶ä¸å½±å“ç±»å‹æ£€æŸ¥åŠŸèƒ½ã€‚è€Œç±»å‹è‡ªåŠ¨è½¬æ¢å…¶å®æ˜¯é€šè¿‡å†…éƒ¨å¼ºåˆ¶ç±»å‹è½¬æ¢æ¥å®ç°çš„ï¼Œä¸Šé¢ç»™å‡ºçš„å­—èŠ‚ç ä¸­ä¹Ÿå¯ä»¥çœ‹åˆ°æœ‰ä¸€æ¡ç±»å‹å¼ºè½¬ checkcast çš„è¯­å¥</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-java" data-lang="java"><span class="line"><span class="cl"><span class="nl">27</span><span class="p">:</span><span class="w"> </span><span class="n">checkcast</span><span class="w">     </span><span class="err">#</span><span class="n">9</span><span class="w">                  </span><span class="c1">// class java/lang/String</span><span class="w">
</span></span></span></code></pre></div><p>ä¾‹å¦‚ï¼ŒArrayList å†…éƒ¨è™½ç„¶ç”¨äºå­˜å‚¨æ•°æ®çš„æ˜¯ Object æ•°ç»„ï¼Œä½† get æ–¹æ³•å†…éƒ¨ä¼šè‡ªåŠ¨å®Œæˆç±»å‹å¼ºè½¬</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-java" data-lang="java"><span class="line"><span class="cl"><span class="kd">transient</span><span class="w"> </span><span class="n">Object</span><span class="o">[]</span><span class="w"> </span><span class="n">elementData</span><span class="p">;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="kd">public</span><span class="w"> </span><span class="n">E</span><span class="w"> </span><span class="nf">get</span><span class="p">(</span><span class="kt">int</span><span class="w"> </span><span class="n">index</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">	</span><span class="n">rangeCheck</span><span class="p">(</span><span class="n">index</span><span class="p">);</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">	</span><span class="k">return</span><span class="w"> </span><span class="n">elementData</span><span class="p">(</span><span class="n">index</span><span class="p">);</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="p">}</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="nd">@SuppressWarnings</span><span class="p">(</span><span class="s">&#34;unchecked&#34;</span><span class="p">)</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="n">E</span><span class="w"> </span><span class="nf">elementData</span><span class="p">(</span><span class="kt">int</span><span class="w"> </span><span class="n">index</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">	</span><span class="c1">//å¼ºåˆ¶ç±»å‹è½¬æ¢</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">	</span><span class="k">return</span><span class="w"> </span><span class="p">(</span><span class="n">E</span><span class="p">)</span><span class="w"> </span><span class="n">elementData</span><span class="o">[</span><span class="n">index</span><span class="o">]</span><span class="p">;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="p">}</span><span class="w">
</span></span></span></code></pre></div><p>æ‰€ä»¥ Java çš„æ³›å‹å¯ä»¥çœ‹åšæ˜¯ä¸€ç§ç‰¹æ®Šçš„è¯­æ³•ç³–ï¼Œå› æ­¤ä¹Ÿè¢«äººç§°ä¸º<strong>ä¼ªæ³›å‹</strong></p>
<h1 id="å››ç±»å‹æ“¦é™¤çš„åé—ç—‡">å››ã€ç±»å‹æ“¦é™¤çš„åé—ç—‡</h1>
<p>Java æ³›å‹å¯¹äºç±»å‹çš„çº¦æŸåªåœ¨ç¼–è¯‘æœŸå­˜åœ¨ï¼Œè¿è¡Œæ—¶ä»ç„¶ä¼šæŒ‰ç…§ Java 5 ä¹‹å‰çš„æœºåˆ¶æ¥è¿è¡Œï¼Œæ³›å‹çš„å…·ä½“ç±»å‹åœ¨è¿è¡Œæ—¶å·²ç»è¢«åˆ é™¤äº†ï¼Œæ‰€ä»¥ JVM æ˜¯è¯†åˆ«ä¸åˆ°æˆ‘ä»¬åœ¨ä»£ç ä¸­æŒ‡å®šçš„å…·ä½“çš„æ³›å‹ç±»å‹çš„</p>
<p>ä¾‹å¦‚ï¼Œè™½ç„¶<code>List&lt;String&gt;</code>åªèƒ½ç”¨äºæ·»åŠ å­—ç¬¦ä¸²ï¼Œä½†æˆ‘ä»¬åªèƒ½<strong>æ³›åŒ–åœ°</strong>è¯†åˆ«åˆ°å®ƒå±äº<code>List&lt;?&gt;</code>ç±»å‹ï¼Œè€Œæ— æ³•å…·ä½“åˆ¤æ–­å‡ºè¯¥ List å†…éƒ¨åŒ…å«çš„å…·ä½“ç±»å‹</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-java" data-lang="java"><span class="line"><span class="cl"><span class="n">List</span><span class="o">&lt;</span><span class="n">String</span><span class="o">&gt;</span><span class="w"> </span><span class="n">stringList</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">ArrayList</span><span class="o">&lt;&gt;</span><span class="p">();</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="c1">//æ­£å¸¸</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">stringList</span><span class="w"> </span><span class="k">instanceof</span><span class="w"> </span><span class="n">ArrayList</span><span class="o">&lt;?&gt;</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="p">}</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="c1">//æŠ¥é”™</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">stringList</span><span class="w"> </span><span class="k">instanceof</span><span class="w"> </span><span class="n">ArrayList</span><span class="o">&lt;</span><span class="n">String</span><span class="o">&gt;</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="p">}</span><span class="w">
</span></span></span></code></pre></div><p>æˆ‘ä»¬åªèƒ½å¯¹å…·ä½“çš„å¯¹è±¡å®ä¾‹è¿›è¡Œç±»å‹æ ¡éªŒï¼Œä½†æ— æ³•åˆ¤æ–­å‡ºæ³›å‹å½¢å‚çš„å…·ä½“ç±»å‹</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-java" data-lang="java"><span class="line"><span class="cl"><span class="kd">public</span><span class="w"> </span><span class="o">&lt;</span><span class="n">T</span><span class="o">&gt;</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="nf">filter</span><span class="p">(</span><span class="n">T</span><span class="w"> </span><span class="n">data</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">	</span><span class="c1">//æ­£å¸¸</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">	</span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">data</span><span class="w"> </span><span class="k">instanceof</span><span class="w"> </span><span class="n">String</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">	</span><span class="p">}</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">	</span><span class="c1">//æŠ¥é”™</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">	</span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">T</span><span class="w"> </span><span class="k">instanceof</span><span class="w"> </span><span class="n">String</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">	</span><span class="p">}</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">	</span><span class="c1">//æŠ¥é”™</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">	</span><span class="n">Class</span><span class="o">&lt;</span><span class="n">T</span><span class="o">&gt;</span><span class="w"> </span><span class="n">tClass</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">T</span><span class="p">::</span><span class="n">getClass</span><span class="p">;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="p">}</span><span class="w">
</span></span></span></code></pre></div><p>æ­¤å¤–ï¼Œç±»å‹æ“¦é™¤ä¹Ÿä¼šå¯¼è‡´ Java ä¸­å‡ºç°å¤šæ€é—®é¢˜ã€‚ä¾‹å¦‚ï¼Œä»¥ä¸‹ä¸¤ä¸ªæ–¹æ³•çš„æ–¹æ³•ç­¾åå¹¶ä¸å®Œå…¨ç›¸åŒï¼Œä½†ç”±äºç±»å‹æ“¦é™¤çš„åŸå› ï¼Œå…¥å‚å‚æ•°çš„æ•°æ®ç±»å‹éƒ½ä¼šè¢«çœ‹æˆ <code>List&lt;Object&gt;</code>ï¼Œä»è€Œå¯¼è‡´ä¸¤è€…æ— æ³•å…±å­˜åœ¨åŒä¸€ä¸ªåŒºåŸŸå†…</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-java" data-lang="java"><span class="line"><span class="cl"><span class="kd">public</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="nf">filter</span><span class="p">(</span><span class="n">List</span><span class="o">&lt;</span><span class="n">String</span><span class="o">&gt;</span><span class="w"> </span><span class="n">stringList</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="p">}</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="kd">public</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="nf">filter</span><span class="p">(</span><span class="n">List</span><span class="o">&lt;</span><span class="n">Integer</span><span class="o">&gt;</span><span class="w"> </span><span class="n">stringList</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="p">}</span><span class="w">
</span></span></span></code></pre></div><h1 id="äº”kotlin-æ³›å‹">äº”ã€Kotlin æ³›å‹</h1>
<p>Kotlin æ³›å‹åœ¨å¤§ä½“ä¸Šå’Œ Java ä¸€è‡´ï¼Œæ¯•ç«Ÿä¸¤è€…éœ€è¦ä¿è¯å…¼å®¹æ€§</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-kotlin" data-lang="kotlin"><span class="line"><span class="cl"><span class="k">class</span> <span class="nc">Plate</span><span class="p">&lt;</span><span class="n">T</span><span class="p">&gt;(</span><span class="k">val</span> <span class="py">t</span><span class="p">:</span> <span class="n">T</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    <span class="k">fun</span> <span class="nf">cut</span><span class="p">()</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">        <span class="n">println</span><span class="p">(</span><span class="n">t</span><span class="p">.</span><span class="n">toString</span><span class="p">())</span>
</span></span><span class="line"><span class="cl">    <span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="k">class</span> <span class="nc">Apple</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="k">class</span> <span class="nc">Banana</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="k">fun</span> <span class="nf">main</span><span class="p">()</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="k">val</span> <span class="py">plateApple</span> <span class="p">=</span> <span class="n">Plate</span><span class="p">&lt;</span><span class="n">Apple</span><span class="p">&gt;(</span><span class="n">Apple</span><span class="p">())</span>
</span></span><span class="line"><span class="cl">    <span class="c1">//æ³›å‹ç±»å‹è‡ªåŠ¨æ¨å¯¼
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>    <span class="k">val</span> <span class="py">plateBanana</span> <span class="p">=</span> <span class="n">Plate</span><span class="p">(</span><span class="n">Banana</span><span class="p">())</span>
</span></span><span class="line"><span class="cl">    <span class="n">plateApple</span><span class="p">.</span><span class="n">cut</span><span class="p">()</span>
</span></span><span class="line"><span class="cl">    <span class="n">plateBanana</span><span class="p">.</span><span class="n">cut</span><span class="p">()</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span></code></pre></div><p>Kotlin ä¹Ÿæ”¯æŒåœ¨æ‰©å±•å‡½æ•°ä¸­ä½¿ç”¨æ³›å‹</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-kotlin" data-lang="kotlin"><span class="line"><span class="cl"><span class="k">fun</span> <span class="p">&lt;</span><span class="nc">T</span><span class="p">&gt;</span> <span class="nf">List</span><span class="p">&lt;</span><span class="n">T</span><span class="p">&gt;.</span><span class="n">find</span><span class="p">(</span><span class="n">t</span><span class="p">:</span> <span class="n">T</span><span class="p">):</span> <span class="n">T</span><span class="p">?</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="k">val</span> <span class="py">index</span> <span class="p">=</span> <span class="n">indexOf</span><span class="p">(</span><span class="n">t</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">    <span class="k">return</span> <span class="k">if</span> <span class="p">(</span><span class="n">index</span> <span class="p">&gt;</span> <span class="p">-</span><span class="m">1</span><span class="p">)</span> <span class="k">get</span><span class="p">(</span><span class="n">index</span><span class="p">)</span> <span class="k">else</span> <span class="k">null</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span></code></pre></div><p>éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œä¸ºäº†å®ç°å‘åå…¼å®¹ï¼Œç›®å‰é«˜ç‰ˆæœ¬ Java ä¾ç„¶å…è®¸å®ä¾‹åŒ–æ²¡æœ‰å…·ä½“ç±»å‹å‚æ•°çš„æ³›å‹ç±»ï¼Œè¿™å¯ä»¥è¯´æ˜¯ä¸€ä¸ªå¯¹æ–°ç‰ˆæœ¬ JDK å±é™©ä½†å¯¹æ—§ç‰ˆæœ¬å‹å¥½çš„å…¼å®¹æªæ–½ã€‚ä½† Kotlin è¦æ±‚åœ¨ä½¿ç”¨æ³›å‹æ—¶éœ€è¦<strong>æ˜¾å¼å£°æ˜æ³›å‹ç±»å‹</strong>æˆ–è€…æ˜¯<strong>ç¼–è¯‘å™¨èƒ½å¤Ÿç±»å‹æ¨å¯¼å‡ºå…·ä½“ç±»å‹</strong>ï¼Œä»»ä½•ä¸å…·å¤‡å…·ä½“æ³›å‹ç±»å‹çš„æ³›å‹ç±»éƒ½æ— æ³•è¢«å®ä¾‹åŒ–ã€‚å› ä¸º Kotlin ä¸€å¼€å§‹å°±æ˜¯åŸºäº Java 6 ç‰ˆæœ¬çš„ï¼Œä¸€å¼€å§‹å°±å­˜åœ¨äº†æ³›å‹ï¼Œè‡ªç„¶å°±ä¸å­˜åœ¨éœ€è¦å…¼å®¹è€ä»£ç çš„é—®é¢˜ï¼Œå› æ­¤ä»¥ä¸‹ä¾‹å­å’Œ Java ä¼šæœ‰ä¸åŒçš„è¡¨ç°</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-kotlin" data-lang="kotlin"><span class="line"><span class="cl"><span class="k">val</span> <span class="py">arrayList1</span> <span class="p">=</span> <span class="n">ArrayList</span><span class="p">()</span> <span class="c1">//é”™è¯¯ï¼Œç¼–è¯‘å™¨æŠ¥é”™
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>
</span></span><span class="line"><span class="cl"><span class="k">val</span> <span class="py">arrayList2</span> <span class="p">=</span> <span class="n">arrayListOf</span><span class="p">&lt;</span><span class="n">Int</span><span class="p">&gt;()</span> <span class="c1">//æ­£å¸¸
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>
</span></span><span class="line"><span class="cl"><span class="k">val</span> <span class="py">arrayList3</span> <span class="p">=</span> <span class="n">arrayListOf</span><span class="p">(</span><span class="m">1</span><span class="p">,</span> <span class="m">2</span><span class="p">,</span> <span class="m">3</span><span class="p">)</span> <span class="c1">//æ­£å¸¸
</span></span></span></code></pre></div><p>è¿˜æœ‰ä¸€ä¸ªæ¯”è¾ƒå®¹æ˜“è®©äººè¯¯è§£çš„ç‚¹ã€‚æˆ‘ä»¬ç»å¸¸ä¼šä½¿ç”¨ <code>as</code> å’Œ <code>as?</code> æ¥è¿›è¡Œç±»å‹è½¬æ¢ï¼Œä½†å¦‚æœè½¬æ¢å¯¹è±¡æ˜¯æ³›å‹ç±»å‹çš„è¯ï¼Œé‚£å°±ä¼šç”±äºç±»å‹æ“¦é™¤è€Œå‡ºç°è¯¯åˆ¤ã€‚å¦‚æœè½¬æ¢å¯¹è±¡æœ‰æ­£ç¡®çš„<strong>åŸºç¡€ç±»å‹</strong>ï¼Œé‚£ä¹ˆè½¬æ¢å°±ä¼šæˆåŠŸï¼Œè€Œä¸ç®¡ç±»å‹å®å‚æ˜¯å¦ç›¸ç¬¦ã€‚å› ä¸ºåœ¨è¿è¡Œæ—¶è½¬æ¢å‘ç”Ÿçš„æ—¶å€™ç±»å‹å®å‚æ˜¯æœªçŸ¥çš„ï¼Œæ­¤æ—¶ç¼–è¯‘å™¨åªä¼šå‘å‡º â€œunchecked castâ€ è­¦å‘Šï¼Œä»£ç è¿˜æ˜¯å¯ä»¥æ­£å¸¸ç¼–è¯‘çš„</p>
<p>ä¾‹å¦‚ï¼Œåœ¨ä»¥ä¸‹ä¾‹å­ä¸­ä»£ç çš„è¿è¡Œç»“æœè¿˜ç¬¦åˆæˆ‘ä»¬çš„é¢„çŸ¥ã€‚ç¬¬ä¸€ä¸ªè½¬æ¢æ“ä½œç”±äºç±»å‹ç›¸ç¬¦ï¼Œæ‰€ä»¥æ‰“å°å‡ºäº†ç›¸åŠ å€¼ã€‚ç¬¬äºŒä¸ªè½¬æ¢æ“ä½œç”±äºåŸºç¡€ç±»å‹æ˜¯ Set è€Œé Listï¼Œæ‰€ä»¥æŠ›å‡ºäº† IllegalAccessException</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-kotlin" data-lang="kotlin"><span class="line"><span class="cl"><span class="k">fun</span> <span class="nf">main</span><span class="p">()</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="n">printSum</span><span class="p">(</span><span class="n">listOf</span><span class="p">(</span><span class="m">1</span><span class="p">,</span> <span class="m">2</span><span class="p">,</span> <span class="m">3</span><span class="p">))</span> <span class="c1">//6
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>    <span class="n">printSum</span><span class="p">(</span><span class="n">setOf</span><span class="p">(</span><span class="m">1</span><span class="p">,</span> <span class="m">2</span><span class="p">,</span> <span class="m">3</span><span class="p">))</span> <span class="c1">//IllegalAccessException
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="k">fun</span> <span class="nf">printSum</span><span class="p">(</span><span class="n">c</span><span class="p">:</span> <span class="n">Collection</span><span class="p">&lt;*&gt;)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="k">val</span> <span class="py">intList</span> <span class="p">=</span> <span class="n">c</span> <span class="k">as</span><span class="p">?</span> <span class="n">List</span><span class="p">&lt;</span><span class="n">Int</span><span class="p">&gt;</span> <span class="o">?:</span> <span class="k">throw</span> <span class="n">IllegalAccessException</span><span class="p">(</span><span class="s2">&#34;List is expected&#34;</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">    <span class="n">println</span><span class="p">(</span><span class="n">intList</span><span class="p">.</span><span class="n">sum</span><span class="p">())</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span></code></pre></div><p>è€Œåœ¨ä»¥ä¸‹ä¾‹å­ä¸­æŠ›å‡ºçš„å´æ˜¯ ClassCastExceptionï¼Œè¿™æ˜¯å› ä¸ºåœ¨è¿è¡Œæ—¶ä¸ä¼šåˆ¤æ–­ä¸”æ— æ³•åˆ¤æ–­å‡ºç±»å‹å®å‚åˆ°åº•æ˜¯å¦æ˜¯ Intï¼Œè€Œåªä¼šåˆ¤æ–­åŸºç¡€ç±»å‹ List æ˜¯å¦ç›¸ç¬¦ï¼Œæ‰€ä»¥ <code>as?</code> æ“ä½œä¼šæˆåŠŸï¼Œç­‰åˆ°è¦æ‰§è¡Œç›¸åŠ æ“ä½œæ—¶æ‰ä¼šå‘ç°æ‹¿åˆ°çš„æ˜¯ String è€Œé Number</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-kotlin" data-lang="kotlin"><span class="line"><span class="cl"><span class="n">printSum</span><span class="p">(</span><span class="n">listOf</span><span class="p">(</span><span class="s2">&#34;1&#34;</span><span class="p">,</span> <span class="s2">&#34;2&#34;</span><span class="p">,</span> <span class="s2">&#34;3&#34;</span><span class="p">))</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="n">Exception</span> <span class="k">in</span> <span class="n">thread</span> <span class="s2">&#34;main&#34;</span> <span class="n">java</span><span class="p">.</span><span class="n">lang</span><span class="p">.</span><span class="n">ClassCastException</span><span class="p">:</span> 
</span></span><span class="line"><span class="cl"><span class="n">java</span><span class="p">.</span><span class="n">lang</span><span class="p">.</span><span class="n">String</span> <span class="n">cannot</span> <span class="n">be</span> <span class="n">cast</span> <span class="n">to</span> <span class="n">java</span><span class="p">.</span><span class="n">lang</span><span class="p">.</span><span class="n">Number</span>
</span></span></code></pre></div><h1 id="å…­ä¸Šç•Œçº¦æŸ">å…­ã€ä¸Šç•Œçº¦æŸ</h1>
<p>æ³›å‹æœ¬èº«å·²ç»å¸¦æœ‰ç±»å‹çº¦æŸçš„ä½œç”¨ï¼Œæˆ‘ä»¬ä¹Ÿå¯ä»¥è¿›ä¸€æ­¥ç»†åŒ–å…¶æ”¯æŒçš„å…·ä½“ç±»å‹</p>
<p>ä¾‹å¦‚ï¼Œå‡è®¾å­˜åœ¨ä¸€ä¸ªç›˜å­ Plateï¼Œæˆ‘ä»¬è¦æ±‚è¯¥ Plate åªèƒ½ç”¨äºè£…æ°´æœ Fruitï¼Œé‚£ä¹ˆå°±å¯ä»¥å¯¹å…¶æ³›å‹å£°æ˜åšè¿›ä¸€æ­¥çº¦æŸï¼ŒJava ä¸­ä½¿ç”¨ extend å…³é”®å­—æ¥å£°æ˜çº¦æŸè§„åˆ™ï¼Œè€Œ Kotlin ä½¿ç”¨çš„æ˜¯ <strong>:</strong>  ã€‚è¿™æ · Plate å°±åªèƒ½ç”¨äº Fruit å’Œå…¶å­ç±»ï¼Œè€Œæ— æ³•ç”¨äº Noodles ç­‰ä¸ç›¸å…³çš„ç±»å‹ï¼Œè¿™ç§ç±»å‹çº¦æŸå°±è¢«ç§°ä¸º<strong>ä¸Šç•Œçº¦æŸ</strong></p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-kotlin" data-lang="kotlin"><span class="line"><span class="cl"><span class="k">open</span> <span class="k">class</span> <span class="nc">Fruit</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="k">class</span> <span class="nc">Apple</span> <span class="p">:</span> <span class="n">Fruit</span><span class="p">()</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="k">class</span> <span class="nc">Noodles</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="k">class</span> <span class="nc">Plate</span><span class="p">&lt;</span><span class="n">T</span> <span class="p">:</span> <span class="n">Fruit</span><span class="p">&gt;(</span><span class="k">val</span> <span class="py">t</span><span class="p">:</span> <span class="n">T</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="k">fun</span> <span class="nf">main</span><span class="p">()</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="k">val</span> <span class="py">applePlate</span> <span class="p">=</span> <span class="n">Plate</span><span class="p">(</span><span class="n">Apple</span><span class="p">())</span> <span class="c1">//æ­£å¸¸
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>    <span class="k">val</span> <span class="py">noodlesPlate</span> <span class="p">=</span> <span class="n">Plate</span><span class="p">(</span><span class="n">Noodles</span><span class="p">())</span> <span class="c1">//æŠ¥é”™
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="p">}</span>
</span></span></code></pre></div><p>å¦‚æœä¸Šç•Œçº¦æŸæ‹¥æœ‰å¤šå±‚ç±»å‹å…ƒç´ ï¼ŒJava æ˜¯ä½¿ç”¨ &amp; ç¬¦å·è¿›è¡Œé“¾å¼å£°æ˜ï¼ŒKotlin åˆ™æ˜¯ç”¨ where å…³é”®å­—æ¥ä¾æ¬¡è¿›è¡Œå£°æ˜</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-kotlin" data-lang="kotlin"><span class="line"><span class="cl"><span class="k">interface</span> <span class="nc">Soft</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="k">class</span> <span class="nc">Plate</span><span class="p">&lt;</span><span class="n">T</span><span class="p">&gt;(</span><span class="k">val</span> <span class="py">t</span><span class="p">:</span> <span class="n">T</span><span class="p">)</span> <span class="k">where</span> <span class="n">T</span> <span class="p">:</span> <span class="n">Fruit</span><span class="p">,</span> <span class="n">T</span> <span class="p">:</span> <span class="n">Soft</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="k">open</span> <span class="k">class</span> <span class="nc">Fruit</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="k">class</span> <span class="nc">Apple</span> <span class="p">:</span> <span class="n">Fruit</span><span class="p">()</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="k">class</span> <span class="nc">Banana</span> <span class="p">:</span> <span class="n">Fruit</span><span class="p">(),</span> <span class="n">Soft</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="k">fun</span> <span class="nf">main</span><span class="p">()</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="k">val</span> <span class="py">applePlate</span> <span class="p">=</span> <span class="n">Plate</span><span class="p">(</span><span class="n">Apple</span><span class="p">())</span> <span class="c1">//æŠ¥é”™
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>    <span class="k">val</span> <span class="py">bananaPlate</span> <span class="p">=</span> <span class="n">Plate</span><span class="p">(</span><span class="n">Banana</span><span class="p">())</span> <span class="c1">//æ­£å¸¸
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="p">}</span>
</span></span></code></pre></div><p>æ­¤å¤–ï¼Œæ²¡æœ‰æŒ‡å®šä¸Šç•Œçº¦æŸçš„ç±»å‹å½¢å‚ä¼šé»˜è®¤ä½¿ç”¨ Any? ä½œä¸ºä¸Šç•Œï¼Œå³æˆ‘ä»¬å¯ä»¥ä½¿ç”¨ String æˆ– String? ä½œä¸ºå…·ä½“çš„ç±»å‹å®å‚ã€‚å¦‚æœæƒ³ç¡®ä¿æœ€ç»ˆçš„ç±»å‹å®å‚ä¸€å®šæ˜¯éç©ºç±»å‹ï¼Œé‚£ä¹ˆå°±éœ€è¦ä¸»åŠ¨å£°æ˜ä¸Šç•Œçº¦æŸä¸º Any</p>
<h1 id="ä¸ƒç±»å‹é€šé…ç¬¦--æ˜Ÿå·æŠ•å½±">ä¸ƒã€ç±»å‹é€šé…ç¬¦ &amp; æ˜Ÿå·æŠ•å½±</h1>
<p>å‡è®¾ç°åœ¨æœ‰ä¸ªéœ€æ±‚ï¼Œéœ€è¦æˆ‘ä»¬æä¾›ä¸€ä¸ªæ–¹æ³•ç”¨äºéå†æ‰€æœ‰ç±»å‹çš„ List é›†åˆå¹¶æ‰“å°å…ƒç´ </p>
<p>ç¬¬ä¸€ç§åšæ³•å°±æ˜¯ç›´æ¥å°†æ–¹æ³•å‚æ•°ç±»å‹å£°æ˜ä¸º Listï¼Œä¸åŒ…å«ä»»ä½•æ³›å‹ç±»å‹å£°æ˜ã€‚è¿™ç§åšæ³•å¯è¡Œï¼Œä½†ç¼–è¯‘å™¨ä¼šè­¦å‘Šæ— æ³•ç¡®å®š <code>list</code>å…ƒç´ çš„å…·ä½“ç±»å‹ï¼Œæ‰€ä»¥è¿™ä¸æ˜¯æœ€ä¼˜è§£æ³•</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-java" data-lang="java"><span class="line"><span class="cl"><span class="kd">public</span><span class="w"> </span><span class="kd">static</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="nf">printList1</span><span class="p">(</span><span class="n">List</span><span class="w"> </span><span class="n">list</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="k">for</span><span class="w"> </span><span class="p">(</span><span class="n">Object</span><span class="w"> </span><span class="n">o</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="n">list</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="n">System</span><span class="p">.</span><span class="na">out</span><span class="p">.</span><span class="na">println</span><span class="p">(</span><span class="n">o</span><span class="p">);</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="p">}</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="p">}</span><span class="w">
</span></span></span></code></pre></div><p>å¯èƒ½ä¼šæƒ³åˆ°çš„ç¬¬äºŒç§åšæ³•æ˜¯ï¼šå°†æ³›å‹ç±»å‹ç›´æ¥å£°æ˜ä¸º Objectï¼Œå¸Œæœ›è®©å…¶é€‚ç”¨äºä»»ä½•ç±»å‹çš„ Listã€‚è¿™ç§åšæ³•å®Œå…¨ä¸å¯è¡Œï¼Œå› ä¸ºå³ä½¿ <code>String</code> æ˜¯ <code>Object</code> çš„å­ç±»ï¼Œä½† <code>List&lt;String&gt;</code> å’Œ <code>List&lt;Object&gt;</code>å¹¶ä¸å…·å¤‡ä»å±å…³ç³»ï¼Œè¿™å¯¼è‡´ <code>printList2</code> æ–¹æ³•å®é™…ä¸Šåªèƒ½ç”¨äº<code>List&lt;Object&gt;</code>è¿™ä¸€ç§å…·ä½“ç±»å‹</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-java" data-lang="java"><span class="line"><span class="cl"><span class="kd">public</span><span class="w"> </span><span class="kd">static</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="nf">printList2</span><span class="p">(</span><span class="n">List</span><span class="o">&lt;</span><span class="n">Object</span><span class="o">&gt;</span><span class="w"> </span><span class="n">list</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="k">for</span><span class="w"> </span><span class="p">(</span><span class="n">Object</span><span class="w"> </span><span class="n">o</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="n">list</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="n">System</span><span class="p">.</span><span class="na">out</span><span class="p">.</span><span class="na">println</span><span class="p">(</span><span class="n">o</span><span class="p">);</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="p">}</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="p">}</span><span class="w">
</span></span></span></code></pre></div><p>æœ€ä¼˜è§£æ³•å°±æ˜¯è¦ç”¨åˆ° Java çš„ç±»å‹é€šé…ç¬¦ <strong>?</strong> äº†ï¼Œ<code>printList3</code>æ–¹æ³•å®Œå…¨å¯è¡Œä¸”ç¼–è¯‘å™¨ä¹Ÿä¸ä¼šè­¦å‘ŠæŠ¥é”™</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-java" data-lang="java"><span class="line"><span class="cl"><span class="kd">public</span><span class="w"> </span><span class="kd">static</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="nf">printList3</span><span class="p">(</span><span class="n">List</span><span class="o">&lt;?&gt;</span><span class="w"> </span><span class="n">list</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="k">for</span><span class="w"> </span><span class="p">(</span><span class="n">Object</span><span class="w"> </span><span class="n">o</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="n">list</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="n">System</span><span class="p">.</span><span class="na">out</span><span class="p">.</span><span class="na">println</span><span class="p">(</span><span class="n">o</span><span class="p">);</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="p">}</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="p">}</span><span class="w">
</span></span></span></code></pre></div><p>ï¼Ÿ è¡¨ç¤ºæˆ‘ä»¬å¹¶ä¸å…³å¿ƒå…·ä½“çš„æ³›å‹ç±»å‹ï¼Œè€Œåªæ˜¯æƒ³é…åˆå…¶å®ƒç±»å‹è¿›è¡Œä¸€äº›æ¡ä»¶é™åˆ¶ã€‚ä¾‹å¦‚ï¼Œ<code>printList3</code>æ–¹æ³•å¸Œæœ›ä¼ å…¥çš„æ˜¯ä¸€ä¸ª Listï¼Œä½†ä¸é™åˆ¶æ³›å‹çš„å…·ä½“ç±»å‹ï¼Œæ­¤æ—¶<code>List&lt;?&gt;</code>å°±è¾¾åˆ°äº†è¿™ä¸€å±‚é™åˆ¶æ¡ä»¶</p>
<p>ç±»å‹é€šé…ç¬¦ä¹Ÿå­˜åœ¨ç€ä¸€äº›é™åˆ¶ã€‚å› ä¸º <code>printList3</code> æ–¹æ³•å¹¶ä¸åŒ…å«å…·ä½“çš„æ³›å‹ç±»å‹ï¼Œæ‰€ä»¥æˆ‘ä»¬ä»ä¸­å–å‡ºçš„å€¼åªèƒ½æ˜¯ Object ç±»å‹ï¼Œä¸”æ— æ³•å‘å…¶æ’å…¥å€¼ï¼Œè¿™éƒ½æ˜¯ä¸ºäº†é¿å…å‘ç”Ÿ ClassCastException</p>
<p>Java çš„<strong>ç±»å‹é€šé…ç¬¦</strong>å¯¹åº” Kotlin ä¸­çš„æ¦‚å¿µå°±æ˜¯**æ˜Ÿå·æŠ•å½± * **ï¼ŒJava å­˜åœ¨çš„é™åˆ¶åœ¨ Kotlin ä¸­ä¸€æ ·æœ‰</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-kotlin" data-lang="kotlin"><span class="line"><span class="cl"><span class="k">fun</span> <span class="nf">printList</span><span class="p">(</span><span class="n">list</span><span class="p">:</span> <span class="n">List</span><span class="p">&lt;*&gt;)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="k">for</span> <span class="p">(</span><span class="n">any</span> <span class="k">in</span> <span class="n">list</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">        <span class="n">println</span><span class="p">(</span><span class="n">any</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">    <span class="p">}</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span></code></pre></div><p>æ­¤å¤–ï¼Œæ˜Ÿå·æŠ•å½±åªèƒ½å‡ºç°åœ¨<strong>ç±»å‹å½¢å‚</strong>çš„ä½ç½®ï¼Œä¸èƒ½ä½œä¸º<strong>ç±»å‹å®å‚</strong></p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-kotlin" data-lang="kotlin"><span class="line"><span class="cl"><span class="k">val</span> <span class="py">list</span><span class="p">:</span> <span class="n">MutableList</span><span class="p">&lt;*&gt;</span> <span class="p">=</span> <span class="n">ArrayList</span><span class="p">&lt;</span><span class="n">Number</span><span class="p">&gt;()</span> <span class="c1">//æ­£å¸¸
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>
</span></span><span class="line"><span class="cl"><span class="k">val</span> <span class="py">list2</span><span class="p">:</span> <span class="n">MutableList</span><span class="p">&lt;*&gt;</span> <span class="p">=</span> <span class="n">ArrayList</span><span class="p">&lt;*&gt;()</span> <span class="c1">//æŠ¥é”™
</span></span></span></code></pre></div><h1 id="å…«åå˜--ä¸å˜">å…«ã€åå˜ &amp; ä¸å˜</h1>
<p>çœ‹ä»¥ä¸‹ä¾‹å­ã€‚Apple å’Œ Banana éƒ½æ˜¯ Fruit çš„å­ç±»ï¼Œå¯ä»¥å‘ç° Apple[] ç±»å‹çš„å¯¹è±¡æ˜¯å¯ä»¥èµ‹å€¼ç»™ Fruit[] çš„ï¼Œä¸” Fruit[] å¯ä»¥å®¹çº³ Apple å¯¹è±¡å’Œ Banana å¯¹è±¡ï¼Œè¿™ç§è®¾è®¡å°±è¢«ç§°ä¸º<strong>åå˜</strong>ï¼Œå³å¦‚æœ A æ˜¯ B çš„å­ç±»ï¼Œé‚£ä¹ˆ A[] å°±æ˜¯ B[] çš„å­ç±»å‹ã€‚ç›¸å¯¹çš„ï¼ŒObject[] å°±æ˜¯æ‰€æœ‰æ•°ç»„å¯¹è±¡çš„çˆ¶ç±»å‹</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-java" data-lang="java"><span class="line"><span class="cl"><span class="kd">static</span><span class="w"> </span><span class="kd">class</span> <span class="nc">Fruit</span><span class="w"> </span><span class="p">{</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="p">}</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="kd">static</span><span class="w"> </span><span class="kd">class</span> <span class="nc">Apple</span><span class="w"> </span><span class="kd">extends</span><span class="w"> </span><span class="n">Fruit</span><span class="w"> </span><span class="p">{</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="p">}</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="kd">static</span><span class="w"> </span><span class="kd">class</span> <span class="nc">Banana</span><span class="w"> </span><span class="kd">extends</span><span class="w"> </span><span class="n">Fruit</span><span class="w"> </span><span class="p">{</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="p">}</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="kd">public</span><span class="w"> </span><span class="kd">static</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="nf">main</span><span class="p">(</span><span class="n">String</span><span class="o">[]</span><span class="w"> </span><span class="n">args</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="n">Fruit</span><span class="o">[]</span><span class="w"> </span><span class="n">fruitArray</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">Apple</span><span class="o">[</span><span class="n">10</span><span class="o">]</span><span class="p">;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="c1">//æ­£å¸¸</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="n">fruitArray</span><span class="o">[</span><span class="n">0</span><span class="o">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">Apple</span><span class="p">();</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="c1">//ç¼–è¯‘æ—¶æ­£å¸¸ï¼Œè¿è¡Œæ—¶æŠ›å‡º ArrayStoreException</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="n">fruitArray</span><span class="o">[</span><span class="n">1</span><span class="o">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">Banana</span><span class="p">();</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="p">}</span><span class="w">
</span></span></span></code></pre></div><p>è€Œ Java ä¸­çš„æ³›å‹æ˜¯<strong>ä¸å˜</strong>çš„ï¼Œè¿™æ„å‘³ç€ String è™½ç„¶æ˜¯ Object çš„å­ç±»ï¼Œä½†<code>List&lt;String&gt;</code>å¹¶ä¸æ˜¯<code>List&lt;Object&gt;</code>çš„å­ç±»å‹ï¼Œä¸¤è€…å¹¶ä¸å…·å¤‡ç»§æ‰¿å…³ç³»</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-java" data-lang="java"><span class="line"><span class="cl"><span class="n">List</span><span class="o">&lt;</span><span class="n">String</span><span class="o">&gt;</span><span class="w"> </span><span class="n">stringList</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">ArrayList</span><span class="o">&lt;&gt;</span><span class="p">();</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="n">List</span><span class="o">&lt;</span><span class="n">Object</span><span class="o">&gt;</span><span class="w"> </span><span class="n">objectList</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">stringList</span><span class="p">;</span><span class="w"> </span><span class="c1">//æŠ¥é”™</span><span class="w">
</span></span></span></code></pre></div><p>é‚£ä¸ºä»€ä¹ˆ Java ä¸­çš„æ³›å‹æ˜¯<strong>ä¸å˜</strong>çš„å‘¢ï¼Ÿ</p>
<p>è¿™å¯ä»¥é€šè¿‡çœ‹ä¸€ä¸ªä¾‹å­æ¥è§£é‡Šã€‚å‡è®¾ Java ä¸­çš„æ³›å‹æ˜¯<strong>åå˜</strong>çš„ï¼Œé‚£ä¹ˆä»¥ä¸‹ä»£ç å°±å¯ä»¥æˆåŠŸé€šè¿‡ç¼–è¯‘é˜¶æ®µçš„æ£€æŸ¥ï¼Œåœ¨è¿è¡Œæ—¶å°±ä¸å¯é¿å…åœ°å°†æŠ›å‡º ClassCastExceptionï¼Œè€Œå¼•å…¥æ³›å‹çš„åˆè¡·å°±æ˜¯ä¸ºäº†å®ç°ç±»å‹å®‰å…¨ï¼Œæ”¯æŒåå˜çš„è¯é‚£æ³›å‹ä¹Ÿå°±æ²¡æœ‰æ¯”æ•°ç»„å®‰å…¨å¤šå°‘äº†ï¼Œå› æ­¤å°±å°†æ³›å‹è¢«è®¾è®¡ä¸º<strong>ä¸å˜</strong>çš„</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-java" data-lang="java"><span class="line"><span class="cl"><span class="n">List</span><span class="o">&lt;</span><span class="n">String</span><span class="o">&gt;</span><span class="w"> </span><span class="n">strList</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">ArrayList</span><span class="o">&lt;&gt;</span><span class="p">();</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="n">List</span><span class="o">&lt;</span><span class="n">Object</span><span class="o">&gt;</span><span class="w"> </span><span class="n">objs</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">strList</span><span class="p">;</span><span class="w"> </span><span class="c1">//å‡è®¾å¯ä»¥è¿è¡Œï¼Œå®é™…ä¸Šç¼–è¯‘å™¨ä¼šæŠ¥é”™</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="n">objs</span><span class="p">.</span><span class="na">add</span><span class="p">(</span><span class="n">1</span><span class="p">);</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="n">String</span><span class="w"> </span><span class="n">str</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">strList</span><span class="p">.</span><span class="na">get</span><span class="p">(</span><span class="n">0</span><span class="p">);</span><span class="w"> </span><span class="c1">//å°†æŠ›å‡º ClassCastExceptionï¼Œæ— æ³•å°†æ•´æ•°è½¬æ¢ä¸ºå­—ç¬¦ä¸²</span><span class="w">
</span></span></span></code></pre></div><p>å†æ¥æƒ³ä¸ªé—®é¢˜ï¼Œæ—¢ç„¶<strong>åå˜</strong>æœ¬èº«å¹¶ä¸å®‰å…¨ï¼Œé‚£ä¹ˆæ•°ç»„ä¸ºä½•åˆè¦è¢«è®¾è®¡ä¸ºåå˜å‘¢ï¼Ÿ</p>
<p>Arrays ç±»åŒ…å«ä¸€ä¸ª <code>equals</code>æ–¹æ³•ç”¨äºæ¯”è¾ƒä¸¤ä¸ªæ•°ç»„å¯¹è±¡æ˜¯å¦ç›¸ç­‰ã€‚å¦‚æœæ•°ç»„æ˜¯åå˜çš„ï¼Œé‚£ä¹ˆå°±éœ€è¦ä¸ºæ¯ä¸€ç§æ•°ç»„å¯¹è±¡éƒ½å®šä¹‰ä¸€ä¸ª <code>equals</code>æ–¹æ³•ï¼ŒåŒ…æ‹¬å¼€å‘è€…è‡ªå®šä¹‰çš„æ•°æ®ç±»å‹ã€‚æƒ³è¦é¿å…è¿™ç§æƒ…å†µï¼Œå°±éœ€è¦è®© Object[] å¯ä»¥æ¥æ”¶ä»»æ„æ•°ç»„ç±»å‹ï¼Œå³<strong>è®© Object[] æˆä¸ºæ‰€æœ‰æ•°ç»„å¯¹è±¡çš„çˆ¶ç±»å‹</strong>ï¼Œè¿™å°±ä½¿å¾—æ•°ç»„å¿…é¡»æ”¯æŒåå˜ï¼Œè¿™æ ·å¤šæ€æ‰èƒ½ç”Ÿæ•ˆ</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-java" data-lang="java"><span class="line"><span class="cl"><span class="kd">public</span><span class="w"> </span><span class="kd">class</span> <span class="nc">Arrays</span><span class="w"> </span><span class="p">{</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    
</span></span></span><span class="line"><span class="cl"><span class="w">     </span><span class="kd">public</span><span class="w"> </span><span class="kd">static</span><span class="w"> </span><span class="kt">boolean</span><span class="w"> </span><span class="nf">equals</span><span class="p">(</span><span class="n">Object</span><span class="o">[]</span><span class="w"> </span><span class="n">a</span><span class="p">,</span><span class="w"> </span><span class="n">Object</span><span class="o">[]</span><span class="w"> </span><span class="n">a2</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">a</span><span class="o">==</span><span class="n">a2</span><span class="p">)</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">            </span><span class="k">return</span><span class="w"> </span><span class="kc">true</span><span class="p">;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">a</span><span class="o">==</span><span class="kc">null</span><span class="w"> </span><span class="o">||</span><span class="w"> </span><span class="n">a2</span><span class="o">==</span><span class="kc">null</span><span class="p">)</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">            </span><span class="k">return</span><span class="w"> </span><span class="kc">false</span><span class="p">;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="kt">int</span><span class="w"> </span><span class="n">length</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">a</span><span class="p">.</span><span class="na">length</span><span class="p">;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">a2</span><span class="p">.</span><span class="na">length</span><span class="w"> </span><span class="o">!=</span><span class="w"> </span><span class="n">length</span><span class="p">)</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">            </span><span class="k">return</span><span class="w"> </span><span class="kc">false</span><span class="p">;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="k">for</span><span class="w"> </span><span class="p">(</span><span class="kt">int</span><span class="w"> </span><span class="n">i</span><span class="o">=</span><span class="n">0</span><span class="p">;</span><span class="w"> </span><span class="n">i</span><span class="o">&lt;</span><span class="n">length</span><span class="p">;</span><span class="w"> </span><span class="n">i</span><span class="o">++</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">            </span><span class="n">Object</span><span class="w"> </span><span class="n">o1</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">a</span><span class="o">[</span><span class="n">i</span><span class="o">]</span><span class="p">;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">            </span><span class="n">Object</span><span class="w"> </span><span class="n">o2</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">a2</span><span class="o">[</span><span class="n">i</span><span class="o">]</span><span class="p">;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">            </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="o">!</span><span class="p">(</span><span class="n">o1</span><span class="o">==</span><span class="kc">null</span><span class="w"> </span><span class="o">?</span><span class="w"> </span><span class="n">o2</span><span class="o">==</span><span class="kc">null</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="n">o1</span><span class="p">.</span><span class="na">equals</span><span class="p">(</span><span class="n">o2</span><span class="p">)))</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">                </span><span class="k">return</span><span class="w"> </span><span class="kc">false</span><span class="p">;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="p">}</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="kc">true</span><span class="p">;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="p">}</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="p">}</span><span class="w">
</span></span></span></code></pre></div><p>éœ€è¦æ³¨æ„çš„æ˜¯ï¼ŒKotlin ä¸­çš„æ•°ç»„å’Œ Java ä¸­çš„æ•°ç»„å¹¶ä¸ä¸€æ ·ï¼ŒKotlin æ•°ç»„å¹¶ä¸æ”¯æŒåå˜ï¼ŒKotlin æ•°ç»„ç±»ä¼¼äºé›†åˆæ¡†æ¶ï¼Œå…·æœ‰å¯¹åº”çš„å®ç°ç±» Arrayï¼ŒArray å±äºæ³›å‹ç±»ï¼Œæ”¯æŒäº†æ³›å‹å› æ­¤ä¹Ÿä¸å†åå˜</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-kotlin" data-lang="kotlin"><span class="line"><span class="cl"><span class="k">val</span> <span class="py">stringArray</span> <span class="p">=</span> <span class="n">arrayOfNulls</span><span class="p">&lt;</span><span class="n">String</span><span class="p">&gt;(</span><span class="m">3</span><span class="p">)</span>
</span></span><span class="line"><span class="cl"><span class="k">val</span> <span class="py">anyArray</span><span class="p">:</span> <span class="n">Array</span><span class="p">&lt;</span><span class="n">Any</span><span class="p">?&gt;</span> <span class="p">=</span> <span class="n">stringArray</span> <span class="c1">//æŠ¥é”™
</span></span></span></code></pre></div><blockquote>
<p>Java çš„æ³›å‹ä¹Ÿå¹¶éå®Œå…¨<strong>ä¸å˜</strong>çš„ï¼Œåªæ˜¯å®ç°<strong>åå˜</strong>éœ€è¦æ»¡è¶³ä¸€äº›æ¡ä»¶ï¼Œç”šè‡³ä¹Ÿå¯ä»¥å®ç°<strong>é€†å˜</strong>ï¼Œä¸‹é¢å°±æ¥ä»‹ç»ä¸‹æ³›å‹å¦‚ä½•å®ç°<strong>åå˜</strong>å’Œ<strong>é€†å˜</strong></p></blockquote>
<h1 id="ä¹æ³›å‹åå˜">ä¹ã€æ³›å‹åå˜</h1>
<p>å‡è®¾æˆ‘ä»¬å®šä¹‰äº†ä¸€ä¸ª<code>copyAll</code>å¸Œæœ›ç”¨äº List æ•°æ®è¿ç§»ã€‚é‚£ä»¥ä¸‹æ“ä½œåœ¨æˆ‘ä»¬çœ‹æ¥å°±æ˜¯å®Œå…¨å®‰å…¨çš„ï¼Œå› ä¸º Integer æ˜¯ Number çš„å­ç±»ï¼ŒæŒ‰é“ç†æ¥è¯´æ˜¯èƒ½å¤Ÿå°† Integer ä¿å­˜ä¸º Number çš„ï¼Œä½†ç”±äºæ³›å‹ä¸å˜æ€§ï¼Œ<code>List&lt;Integer&gt;</code>å¹¶ä¸æ˜¯<code>List&lt;Number&gt;</code>çš„å­ç±»å‹ï¼Œæ‰€ä»¥å®é™…ä¸Šè¯¥æ“ä½œå°†æŠ¥é”™</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-java" data-lang="java"><span class="line"><span class="cl"><span class="kd">public</span><span class="w"> </span><span class="kd">static</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="nf">main</span><span class="p">(</span><span class="n">String</span><span class="o">[]</span><span class="w"> </span><span class="n">args</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="n">List</span><span class="o">&lt;</span><span class="n">Number</span><span class="o">&gt;</span><span class="w"> </span><span class="n">numberList</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">ArrayList</span><span class="o">&lt;&gt;</span><span class="p">();</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="n">List</span><span class="o">&lt;</span><span class="n">Integer</span><span class="o">&gt;</span><span class="w"> </span><span class="n">integerList</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">ArrayList</span><span class="o">&lt;&gt;</span><span class="p">();</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="n">integerList</span><span class="p">.</span><span class="na">add</span><span class="p">(</span><span class="n">1</span><span class="p">);</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="n">integerList</span><span class="p">.</span><span class="na">add</span><span class="p">(</span><span class="n">2</span><span class="p">);</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="n">integerList</span><span class="p">.</span><span class="na">add</span><span class="p">(</span><span class="n">3</span><span class="p">);</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="n">copyAll</span><span class="p">(</span><span class="n">numberList</span><span class="p">,</span><span class="w"> </span><span class="n">integerList</span><span class="p">);</span><span class="w"> </span><span class="c1">//æŠ¥é”™</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="p">}</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="kd">private</span><span class="w"> </span><span class="kd">static</span><span class="w"> </span><span class="o">&lt;</span><span class="n">T</span><span class="o">&gt;</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="nf">copyAll</span><span class="p">(</span><span class="n">List</span><span class="o">&lt;</span><span class="n">T</span><span class="o">&gt;</span><span class="w"> </span><span class="n">to</span><span class="p">,</span><span class="w"> </span><span class="n">List</span><span class="o">&lt;</span><span class="n">T</span><span class="o">&gt;</span><span class="w"> </span><span class="n">from</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="n">to</span><span class="p">.</span><span class="na">addAll</span><span class="p">(</span><span class="n">from</span><span class="p">);</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="p">}</span><span class="w">
</span></span></span></code></pre></div><p>æ€è€ƒä¸‹è¯¥æ“ä½œä¸ºä»€ä¹ˆä¼šæŠ¥é”™ï¼Ÿ</p>
<p>ç¼–è¯‘å™¨çš„ä½œç”¨ä¹‹ä¸€å°±æ˜¯<strong>è¿›è¡Œå®‰å…¨æ£€æŸ¥å¹¶é˜»æ­¢å¯èƒ½å‘ç”Ÿä¸å®‰å…¨è¡Œä¸ºçš„æ“ä½œ</strong>ï¼Œ<code>copyAll</code> æ–¹æ³•ä¼šæŠ¥é”™ï¼Œé‚£ä¹ˆè‚¯å®šå°±æ˜¯ç¼–è¯‘å™¨è§‰å¾—è¯¥æ–¹æ³•æœ‰å¯èƒ½ä¼šè§¦å‘ä¸å®‰å…¨çš„æ“ä½œã€‚å¼€å‘è€…çš„æœ¬æ„æ˜¯å¸Œæœ›å°† Integer ç±»å‹çš„æ•°æ®è½¬ç§»åˆ° NumberList ä¸­ï¼Œåªæœ‰è¿™ç§æ“ä½œä¸”è¿™ç§æ“ä½œåœ¨æˆ‘ä»¬çœ‹æ¥è‚¯å®šæ˜¯å®‰å…¨çš„ï¼Œä½†æ˜¯ç¼–è¯‘å™¨ä¸çŸ¥é“å¼€å‘è€…æœ€ç»ˆæ‰€è¦åšçš„å…·ä½“æ“ä½œå•Š</p>
<p>å‡è®¾ <code>copyAll</code>æ–¹æ³•å¯ä»¥æ­£å¸¸è°ƒç”¨ï¼Œé‚£ä¹ˆ<code>copyAll</code>æ–¹æ³•è‡ªç„¶åªä¼šæŠŠ <code>from</code> å½“åš <code>List&lt;Number&gt;</code>æ¥çœ‹å¾…ã€‚å› ä¸º Integer æ˜¯ Number çš„å­ç±»ï¼Œä» <code>integerList</code> è·å–åˆ°çš„æ•°æ®å¯¹äº <code>numberList</code> æ¥è¯´è‡ªç„¶æ˜¯å®‰å…¨çš„ã€‚è€Œå¦‚æœæˆ‘ä»¬åœ¨<code>copyAll</code>æ–¹æ³•ä¸­å·å·å‘ <code>integerList</code> ä¼ å…¥äº†ä¸€ä¸ª Number ç±»å‹çš„å€¼çš„è¯ï¼Œé‚£ä¹ˆè‡ªç„¶å°±å°†æŠ›å‡ºå¼‚å¸¸ï¼Œå› ä¸º from å®é™…ä¸Šæ˜¯ <code>List&lt;Integer&gt;</code>ç±»å‹</p>
<p>ä¸ºäº†é˜»æ­¢è¿™ç§ä¸å®‰å…¨çš„è¡Œä¸ºï¼Œç¼–è¯‘å™¨é€‰æ‹©é€šè¿‡ç›´æ¥æŠ¥é”™æ¥è¿›è¡Œæç¤ºã€‚ä¸ºäº†è§£å†³æŠ¥é”™ï¼Œæˆ‘ä»¬å°±éœ€è¦å‘ç¼–è¯‘å™¨åšå‡ºå®‰å…¨ä¿è¯ï¼š<strong>ä» from å–å‡ºæ¥çš„å€¼åªä¼šå½“åš Number ç±»å‹ï¼Œä¸”ä¸ä¼šå‘ from ä¼ å…¥ä»»ä½•å€¼</strong></p>
<p>ä¸ºäº†è¾¾æˆä»¥ä¸Šä¿è¯ï¼Œéœ€è¦ä¿®æ”¹ä¸‹ <code>copyAll</code> æ–¹æ³•</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-java" data-lang="java"><span class="line"><span class="cl"><span class="kd">private</span><span class="w"> </span><span class="kd">static</span><span class="w"> </span><span class="o">&lt;</span><span class="n">T</span><span class="o">&gt;</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="nf">copyAll</span><span class="p">(</span><span class="n">List</span><span class="o">&lt;</span><span class="n">T</span><span class="o">&gt;</span><span class="w"> </span><span class="n">to</span><span class="p">,</span><span class="w"> </span><span class="n">List</span><span class="o">&lt;?</span><span class="w"> </span><span class="kd">extends</span><span class="w"> </span><span class="n">T</span><span class="o">&gt;</span><span class="w"> </span><span class="n">from</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="n">to</span><span class="p">.</span><span class="na">addAll</span><span class="p">(</span><span class="n">from</span><span class="p">);</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="p">}</span><span class="w">
</span></span></span></code></pre></div><p><code>? extends T</code> è¡¨ç¤º <code>from</code> æ¥å— T æˆ–è€… T çš„å­ç±»å‹ï¼Œè€Œä¸å•å•æ˜¯ T è‡ªèº«ï¼Œè¿™æ„å‘³ç€æˆ‘ä»¬å¯ä»¥å®‰å…¨åœ°ä» <code>from</code> ä¸­å–å€¼å¹¶å£°æ˜ä¸º T ç±»å‹ï¼Œä½†ç”±äºæˆ‘ä»¬å¹¶ä¸çŸ¥é“ T ä»£è¡¨çš„å…·ä½“ç±»å‹ï¼Œå†™å…¥æ“ä½œå¹¶ä¸å®‰å…¨ï¼Œå› æ­¤ç¼–è¯‘å™¨ä¼šé˜»æ­¢æˆ‘ä»¬å‘ <code>from</code> æ‰§è¡Œä¼ å€¼æ“ä½œã€‚æœ‰äº†è¯¥é™åˆ¶åï¼Œä»<code>integerList</code>ä¸­å–å‡ºæ¥çš„å€¼åªèƒ½æ˜¯å½“åš Number ç±»å‹ï¼Œä¸”é¿å…äº†å‘<code>integerList</code>æ’å…¥éæ³•å€¼çš„å¯èƒ½ï¼Œæ­¤æ—¶<code>List&lt;Integer&gt;</code>å°±ç›¸å½“äº<code>List&lt;? extends Number&gt;</code>çš„å­ç±»å‹äº†ï¼Œä»è€Œä½¿å¾— <code>copyAll</code> æ–¹æ³•å¯ä»¥æ­£å¸¸ä½¿ç”¨</p>
<p>ç®€è€Œè¨€ä¹‹ï¼Œå¸¦ <strong>extends</strong> é™å®šäº†ä¸Šç•Œçš„é€šé…ç¬¦ç±»å‹ä½¿å¾—<strong>æ³›å‹å‚æ•°ç±»å‹æ˜¯åå˜çš„</strong>ï¼Œå³å¦‚æœ A æ˜¯ B çš„å­ç±»ï¼Œé‚£ä¹ˆ <code>Generic&lt;A&gt;</code> å°±æ˜¯<code>Generic&lt;? extends B&gt;</code>çš„å­ç±»å‹</p>
<h1 id="åæ³›å‹é€†å˜">åã€æ³›å‹é€†å˜</h1>
<p><strong>åå˜</strong>æ‰€èƒ½åšåˆ°çš„æ˜¯ï¼šå¦‚æœ A æ˜¯ B çš„å­ç±»ï¼Œé‚£ä¹ˆ <code>Generic&lt;A&gt;</code> å°±æ˜¯<code>Generic&lt;? extends B&gt;</code>çš„å­ç±»å‹ã€‚<strong>é€†å˜</strong>ç›¸åï¼Œå…¶ä»£è¡¨çš„æ˜¯ï¼šå¦‚æœ A æ˜¯ B çš„å­ç±»ï¼Œé‚£ä¹ˆ <code>Generic&lt;B&gt;</code> å°±æ˜¯ <code>Generic&lt;? super A&gt;</code> çš„å­ç±»å‹</p>
<p>åå˜è¿˜æ¯”è¾ƒå¥½ç†è§£ï¼Œæ¯•ç«Ÿå…¶ç»§æ‰¿å…³ç³»æ˜¯ç›¸åŒçš„ï¼Œä½†é€†å˜å°±æ¯”è¾ƒåç›´è§‰äº†ï¼Œæ•´ä¸ªç»§æ‰¿å…³ç³»éƒ½å€’è¿‡æ¥äº†</p>
<p>é€†å˜çš„ä½œç”¨å¯ä»¥é€šè¿‡ç›¸åŒçš„ä¾‹å­æ¥ç†è§£ï¼Œ<code>copyAll</code> æ–¹æ³•å¦‚ä¸‹ä¿®æ”¹ä¹Ÿå¯ä»¥æ­£å¸¸ä½¿ç”¨ï¼Œæ­¤æ—¶å°±æ˜¯å‘ç¼–è¯‘å™¨åšå‡ºäº†å¦ä¸€ç§å®‰å…¨ä¿è¯ï¼š<strong>å‘ numberList ä¼ é€’çš„å€¼åªä¼šæ˜¯ Integer ç±»å‹ï¼Œä¸”ä» numberList å–å‡ºçš„å€¼ä¹Ÿåªä¼šå½“åš Object ç±»å‹</strong></p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-java" data-lang="java"><span class="line"><span class="cl"><span class="kd">private</span><span class="w"> </span><span class="kd">static</span><span class="w"> </span><span class="o">&lt;</span><span class="n">T</span><span class="o">&gt;</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="nf">copyAll</span><span class="p">(</span><span class="n">List</span><span class="o">&lt;?</span><span class="w"> </span><span class="kd">super</span><span class="w"> </span><span class="n">T</span><span class="o">&gt;</span><span class="w"> </span><span class="n">to</span><span class="p">,</span><span class="w"> </span><span class="n">List</span><span class="o">&lt;</span><span class="n">T</span><span class="o">&gt;</span><span class="w"> </span><span class="n">from</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="n">to</span><span class="p">.</span><span class="na">addAll</span><span class="p">(</span><span class="n">from</span><span class="p">);</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="p">}</span><span class="w">
</span></span></span></code></pre></div><p><code>? super T</code>è¡¨ç¤º <code>to</code> æ¥æ”¶ T æˆ–è€… T çš„çˆ¶ç±»å‹ï¼Œè€Œä¸å•å•æ˜¯ T è‡ªèº«ï¼Œè¿™æ„å‘³ç€æˆ‘ä»¬å¯ä»¥å®‰å…¨åœ°å‘ <code>to</code> ä¼ ç±»å‹ä¸º T çš„å€¼ï¼Œä½†ç”±äºæˆ‘ä»¬å¹¶ä¸çŸ¥é“ T ä»£è¡¨çš„å…·ä½“ç±»å‹ï¼Œæ‰€ä»¥ä» <code>to</code> å–å‡ºæ¥çš„å€¼åªèƒ½æ˜¯ Object ç±»å‹ã€‚æœ‰äº†è¯¥é™åˆ¶åï¼Œ<code>integerList</code>åªèƒ½å‘ <code>numberList</code>ä¼ é€’ç±»å‹ä¸º Integer çš„å€¼ï¼Œä¸”é¿å…äº†ä» <code>numberList</code> ä¸­è·å–åˆ°éæ³•ç±»å‹å€¼çš„å¯èƒ½ï¼Œæ­¤æ—¶<code>List&lt;Number&gt;</code>å°±ç›¸å½“äº<code>List&lt;? super Integer&gt;</code>çš„å­ç±»å‹äº†ï¼Œä»è€Œä½¿å¾— <code>copyAll</code> æ–¹æ³•å¯ä»¥æ­£å¸¸ä½¿ç”¨</p>
<p>ç®€è€Œè¨€ä¹‹ï¼Œå¸¦ <strong>super</strong> é™å®šäº†ä¸‹ç•Œçš„é€šé…ç¬¦ç±»å‹ä½¿å¾—<strong>æ³›å‹å‚æ•°ç±»å‹æ˜¯é€†å˜çš„</strong>ï¼Œå³å¦‚æœ A æ˜¯ B çš„å­ç±»ï¼Œé‚£ä¹ˆ <code>Generic&lt;B&gt;</code> å°±æ˜¯ <code>Generic&lt;? super A&gt;</code> çš„å­ç±»å‹</p>
<h1 id="åä¸€out----in">åä¸€ã€out  &amp;  in</h1>
<p>Java ä¸­å…³äºæ³›å‹çš„å›°å¢ƒåœ¨ Kotlin ä¸­ä¸€æ ·å­˜åœ¨ï¼Œout å’Œ in éƒ½æ˜¯ Kotlin çš„å…³é”®å­—ï¼Œå…¶ä½œç”¨éƒ½æ˜¯ä¸ºäº†æ¥åº”å¯¹æ³›å‹é—®é¢˜ã€‚<code>in</code> å’Œ <code>out</code> æ˜¯ä¸€ä¸ªå¯¹ç«‹é¢ï¼ŒåŒæ—¶å®ƒä»¬åˆä¸æ³›å‹<strong>ä¸å˜</strong>ç›¸å¯¹ç«‹ï¼Œç»Ÿç§°ä¸º<strong>å‹å˜</strong></p>
<ul>
<li>out æœ¬èº«å¸¦æœ‰<strong>å‡ºå»</strong>çš„æ„æ€ï¼Œæœ¬èº«å¸¦æœ‰å€¾å‘äº<strong>å–å€¼æ“ä½œ</strong>çš„æ„æ€ï¼Œç”¨äº<strong>æ³›å‹åå˜</strong></li>
<li>in æœ¬èº«å¸¦æœ‰<strong>è¿›æ¥</strong>çš„æ„æ€ï¼Œæœ¬èº«å¸¦æœ‰å€¾å‘äº<strong>ä¼ å€¼æ“ä½œ</strong>çš„æ„æ€ï¼Œç”¨äº<strong>æ³›å‹é€†å˜</strong></li>
</ul>
<p>å†æ¥çœ‹ä¸‹ç›¸åŒä¾‹å­ï¼Œè¯¥ä¾‹å­åœ¨ Java ä¸­å­˜åœ¨çš„é—®é¢˜åœ¨ Kotlin ä¸­ä¸€æ ·æœ‰</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-kotlin" data-lang="kotlin"><span class="line"><span class="cl"><span class="k">fun</span> <span class="nf">main</span><span class="p">()</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="k">val</span> <span class="py">numberList</span> <span class="p">=</span> <span class="n">mutableListOf</span><span class="p">&lt;</span><span class="n">Number</span><span class="p">&gt;()</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    <span class="k">val</span> <span class="py">intList</span> <span class="p">=</span> <span class="n">mutableListOf</span><span class="p">(</span><span class="m">1</span><span class="p">,</span> <span class="m">2</span><span class="p">,</span> <span class="m">3</span><span class="p">,</span> <span class="m">4</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    <span class="n">copyAll</span><span class="p">(</span><span class="n">numberList</span><span class="p">,</span> <span class="n">intList</span><span class="p">)</span> <span class="c1">//æŠ¥é”™
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>
</span></span><span class="line"><span class="cl">    <span class="n">numberList</span><span class="p">.</span><span class="n">forEach</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">        <span class="n">println</span><span class="p">(</span><span class="k">it</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">    <span class="p">}</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="k">fun</span> <span class="p">&lt;</span><span class="nc">T</span><span class="p">&gt;</span> <span class="nf">copyAll</span><span class="p">(</span><span class="n">to</span><span class="p">:</span> <span class="n">MutableList</span><span class="p">&lt;</span><span class="n">T</span><span class="p">&gt;,</span> <span class="n">from</span><span class="p">:</span> <span class="n">MutableList</span><span class="p">&lt;</span><span class="n">T</span><span class="p">&gt;)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="n">to</span><span class="p">.</span><span class="n">addAll</span><span class="p">(</span><span class="n">from</span><span class="p">)</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span></code></pre></div><p>æŠ¥é”™åŸå› å’Œ Java å®Œå…¨ä¸€æ ·ï¼Œå› ä¸ºæ­¤æ—¶ç¼–è¯‘å™¨æ— æ³•åˆ¤æ–­å‡ºæˆ‘ä»¬åˆ°åº•æ˜¯å¦ä¼šåšå‡ºä¸å®‰å…¨çš„æ“ä½œï¼Œæ‰€ä»¥æˆ‘ä»¬ä¾ç„¶è¦æ¥å‘ç¼–è¯‘å™¨åšå‡ºå®‰å…¨ä¿è¯</p>
<p>æ­¤æ—¶å°±éœ€è¦åœ¨ Kotlin ä¸­æ¥å®ç°<strong>æ³›å‹åå˜</strong>å’Œ<strong>æ³›å‹é€†å˜</strong>äº†ï¼Œä»¥ä¸‹ä¸¤ç§æ–¹å¼éƒ½å¯ä»¥å®ç°ï¼š</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-kotlin" data-lang="kotlin"><span class="line"><span class="cl"><span class="k">fun</span> <span class="p">&lt;</span><span class="nc">T</span><span class="p">&gt;</span> <span class="nf">copyAll</span><span class="p">(</span><span class="n">to</span><span class="p">:</span> <span class="n">MutableList</span><span class="p">&lt;</span><span class="n">T</span><span class="p">&gt;,</span> <span class="n">from</span><span class="p">:</span> <span class="n">MutableList</span><span class="p">&lt;</span><span class="k">out</span> <span class="n">T</span><span class="p">&gt;)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="n">to</span><span class="p">.</span><span class="n">addAll</span><span class="p">(</span><span class="n">from</span><span class="p">)</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="k">fun</span> <span class="p">&lt;</span><span class="nc">T</span><span class="p">&gt;</span> <span class="nf">copyAll</span><span class="p">(</span><span class="n">to</span><span class="p">:</span> <span class="n">MutableList</span><span class="p">&lt;</span><span class="k">in</span> <span class="n">T</span><span class="p">&gt;,</span> <span class="n">from</span><span class="p">:</span> <span class="n">MutableList</span><span class="p">&lt;</span><span class="n">T</span><span class="p">&gt;)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="n">to</span><span class="p">.</span><span class="n">addAll</span><span class="p">(</span><span class="n">from</span><span class="p">)</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span></code></pre></div><p><code>out</code> å…³é”®å­—å°±ç›¸å½“äº Java ä¸­çš„<code>&lt;?  extends T&gt;</code>ï¼Œå…¶ä½œç”¨å°±æ˜¯é™åˆ¶äº† <code>from</code> ä¸èƒ½ç”¨äºæ¥æ”¶å€¼è€Œåªèƒ½å‘å…¶å–å€¼ï¼Œè¿™æ ·å°±é¿å…äº†ä» <code>to</code> å–å‡ºå€¼ç„¶åå‘ <code>from</code> èµ‹å€¼è¿™ç§ä¸å®‰å…¨çš„è¡Œä¸ºäº†ï¼Œå³å®ç°äº†æ³›å‹åå˜</p>
<p><code>in</code> å…³é”®å­—å°±ç›¸å½“äº Java ä¸­çš„<code>&lt;? super T&gt;</code>ï¼Œå…¶ä½œç”¨å°±æ˜¯é™åˆ¶äº† <code>to</code> åªèƒ½ç”¨äºæ¥æ”¶å€¼è€Œä¸èƒ½å‘å…¶å–å€¼ï¼Œè¿™æ ·å°±é¿å…äº†ä» <code>to</code> å–å‡ºå€¼ç„¶åå‘ <code>from</code> èµ‹å€¼è¿™ç§ä¸å®‰å…¨çš„è¡Œä¸ºäº†ï¼Œå³å®ç°äº†æ³›å‹é€†å˜</p>
<blockquote>
<p>ä»è¿™ä¹Ÿå¯ä»¥è”æƒ³åˆ°ï¼Œ<code>MutableList&lt;*&gt;</code> å°±ç›¸å½“äº <code>MutableList&lt;out Any?&gt;</code>äº†ï¼Œä¸¤è€…éƒ½å¸¦æœ‰ç›¸åŒçš„é™åˆ¶æ¡ä»¶ï¼šä¸å…è®¸å†™å€¼æ“ä½œï¼Œå…è®¸è¯»å€¼æ“ä½œï¼Œä¸”è¯»å–å‡ºæ¥çš„å€¼åªèƒ½å½“åš <code>Any?</code>è¿›è¡Œå¤„ç†</p></blockquote>
<h1 id="åäºŒæ”¯æŒåå˜çš„-list">åäºŒã€æ”¯æŒåå˜çš„ List</h1>
<p>åœ¨ä¸Šè¿°ä¾‹å­ä¸­ï¼Œæƒ³è¦å®ç°åå˜è¿˜æœ‰å¦å¤–ä¸€ç§æ–¹å¼ï¼Œé‚£å°±æ˜¯ä½¿ç”¨ List</p>
<p>å°† from çš„ç±»å‹å£°æ˜ä» <code>MutableList&lt;T&gt;</code>ä¿®æ”¹ä¸º <code>List&lt;T&gt;</code> åï¼Œå¯ä»¥å‘ç° <code>copyAll</code> æ–¹æ³•ä¹Ÿå¯ä»¥æ­£å¸¸è°ƒç”¨äº†</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-kotlin" data-lang="kotlin"><span class="line"><span class="cl"><span class="k">fun</span> <span class="p">&lt;</span><span class="nc">T</span><span class="p">&gt;</span> <span class="nf">copyAll</span><span class="p">(</span><span class="n">to</span><span class="p">:</span> <span class="n">MutableList</span><span class="p">&lt;</span><span class="n">T</span><span class="p">&gt;,</span> <span class="n">from</span><span class="p">:</span> <span class="n">List</span><span class="p">&lt;</span><span class="n">T</span><span class="p">&gt;)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="n">to</span><span class="p">.</span><span class="n">addAll</span><span class="p">(</span><span class="n">from</span><span class="p">)</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span></code></pre></div><p>å¯¹ Kotlin æœ‰ä¸€å®šäº†è§£çš„åŒå­¦åº”è¯¥çŸ¥é“ï¼ŒKotlin ä¸­çš„é›†åˆæ¡†æ¶åˆ†ä¸ºä¸¤ç§å¤§ç±»ï¼š<strong>å¯è¯»å¯å†™</strong>å’Œ<strong>åªèƒ½è¯»ä¸èƒ½å†™</strong></p>
<p>ä»¥ Java ä¸­çš„ ArrayList ä¸ºä¾‹ï¼ŒKotlin å°†ä¹‹åˆ†ä¸ºäº† MutableList å’Œ List ä¸¤ç§ç±»å‹çš„æ¥å£ã€‚è€Œ List æ¥å£ä¸­çš„æ³›å‹å·²ç»ä½¿ç”¨ out å…³é”®å­—è¿›è¡Œä¿®é¥°äº†ï¼Œä¸”ä¸åŒ…å«ä»»ä½•<strong>ä¼ å…¥å€¼å¹¶ä¿å­˜</strong>çš„æ–¹æ³•ï¼Œå³ List æ¥å£<strong>åªæ”¯æŒè¯»å€¼è€Œä¸æ”¯æŒå†™å€¼</strong>ï¼Œå…¶æœ¬èº«å°±å·²ç»æ»¡è¶³äº†åå˜æ‰€éœ€è¦çš„æ¡ä»¶ï¼Œå› æ­¤<code>copyAll</code> æ–¹æ³•å¯ä»¥æ­£å¸¸ä½¿ç”¨</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-kotlin" data-lang="kotlin"><span class="line"><span class="cl"><span class="k">public</span> <span class="k">interface</span> <span class="nc">List</span><span class="p">&lt;</span><span class="k">out</span> <span class="n">E</span><span class="p">&gt;</span> <span class="p">:</span> <span class="n">Collection</span><span class="p">&lt;</span><span class="n">E</span><span class="p">&gt;</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="k">override</span> <span class="k">val</span> <span class="py">size</span><span class="p">:</span> <span class="n">Int</span>
</span></span><span class="line"><span class="cl">    <span class="k">override</span> <span class="k">fun</span> <span class="nf">isEmpty</span><span class="p">():</span> <span class="n">Boolean</span>
</span></span><span class="line"><span class="cl">    <span class="k">override</span> <span class="k">fun</span> <span class="nf">contains</span><span class="p">(</span><span class="n">element</span><span class="p">:</span> <span class="nd">@UnsafeVariance</span> <span class="n">E</span><span class="p">):</span> <span class="n">Boolean</span>
</span></span><span class="line"><span class="cl">    <span class="k">override</span> <span class="k">fun</span> <span class="nf">iterator</span><span class="p">():</span> <span class="n">Iterator</span><span class="p">&lt;</span><span class="n">E</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">    <span class="k">override</span> <span class="k">fun</span> <span class="nf">containsAll</span><span class="p">(</span><span class="n">elements</span><span class="p">:</span> <span class="n">Collection</span><span class="p">&lt;</span><span class="nd">@UnsafeVariance</span> <span class="n">E</span><span class="p">&gt;):</span> <span class="n">Boolean</span>
</span></span><span class="line"><span class="cl">    <span class="k">public</span> <span class="k">operator</span> <span class="k">fun</span> <span class="nf">get</span><span class="p">(</span><span class="n">index</span><span class="p">:</span> <span class="n">Int</span><span class="p">):</span> <span class="n">E</span>
</span></span><span class="line"><span class="cl">    <span class="k">public</span> <span class="k">fun</span> <span class="nf">indexOf</span><span class="p">(</span><span class="n">element</span><span class="p">:</span> <span class="nd">@UnsafeVariance</span> <span class="n">E</span><span class="p">):</span> <span class="n">Int</span>
</span></span><span class="line"><span class="cl">    <span class="k">public</span> <span class="k">fun</span> <span class="nf">lastIndexOf</span><span class="p">(</span><span class="n">element</span><span class="p">:</span> <span class="nd">@UnsafeVariance</span> <span class="n">E</span><span class="p">):</span> <span class="n">Int</span>
</span></span><span class="line"><span class="cl">    <span class="k">public</span> <span class="k">fun</span> <span class="nf">listIterator</span><span class="p">():</span> <span class="n">ListIterator</span><span class="p">&lt;</span><span class="n">E</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">    <span class="k">public</span> <span class="k">fun</span> <span class="nf">listIterator</span><span class="p">(</span><span class="n">index</span><span class="p">:</span> <span class="n">Int</span><span class="p">):</span> <span class="n">ListIterator</span><span class="p">&lt;</span><span class="n">E</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">    <span class="k">public</span> <span class="k">fun</span> <span class="nf">subList</span><span class="p">(</span><span class="n">fromIndex</span><span class="p">:</span> <span class="n">Int</span><span class="p">,</span> <span class="n">toIndex</span><span class="p">:</span> <span class="n">Int</span><span class="p">):</span> <span class="n">List</span><span class="p">&lt;</span><span class="n">E</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span></code></pre></div><blockquote>
<p>è™½ç„¶ List æ¥å£ä¸­æœ‰å‡ ä¸ªæ–¹æ³•ä¹Ÿæ¥æ”¶äº† E ç±»å‹çš„å…¥å‚å‚æ•°ï¼Œä½†è¯¥æ–¹æ³•æœ¬èº«ä¸ä¼šè¿›è¡Œå†™å€¼æ“ä½œï¼Œæ‰€ä»¥å®é™…ä¸Šå¯ä»¥æ­£å¸¸ä½¿ç”¨ï¼ŒKotlin ä¹Ÿä½¿ç”¨ <code>@UnsafeVariance</code>æŠ‘åˆ¶äº†ç¼–è¯‘å™¨è­¦å‘Š</p></blockquote>
<h1 id="åä¸‰reified----inline">åä¸‰ã€reified  &amp;  inline</h1>
<p>ä¸Šæ–‡è®²äº†ï¼Œç”±äºç±»å‹æ“¦é™¤ï¼ŒJava å’Œ Kotlin çš„æ³›å‹ç±»å‹å®å‚éƒ½ä¼šåœ¨ç¼–è¯‘é˜¶æ®µè¢«æ“¦é™¤ï¼Œåœ¨ Kotlin ä¸­å­˜åœ¨ä¸€ä¸ªé¢å¤–æ‰‹æ®µå¯ä»¥æ¥è§£å†³è¿™ä¸ªé—®é¢˜ï¼Œå³<strong>å†…è”å‡½æ•°</strong></p>
<p>ç”¨å…³é”®å­— inline æ ‡è®°çš„å‡½æ•°å°±ç§°ä¸ºå†…è”å‡½æ•°ï¼Œå†ç”¨ reified å…³é”®å­—ä¿®é¥°å†…è”å‡½æ•°ä¸­çš„æ³›å‹å½¢å‚ï¼Œç¼–è¯‘å™¨åœ¨è¿›è¡Œç¼–è¯‘çš„æ—¶å€™ä¾¿ä¼šå°†å†…è”å‡½æ•°çš„å­—èŠ‚ç æ’å…¥åˆ°æ¯ä¸€ä¸ªè°ƒç”¨çš„åœ°æ–¹ï¼Œå½“ä¸­å°±åŒ…æ‹¬æ³›å‹çš„ç±»å‹å®å‚ã€‚è€Œå†…è”å‡½æ•°çš„ç±»å‹å½¢å‚èƒ½å¤Ÿè¢«å®åŒ–ï¼Œå°±æ„å‘³ç€æˆ‘ä»¬å¯ä»¥åœ¨è¿è¡Œæ—¶å¼•ç”¨å®é™…çš„ç±»å‹å®å‚äº†</p>
<p>ä¾‹å¦‚ï¼Œæˆ‘ä»¬å¯ä»¥å†™å‡ºä»¥ä¸‹è¿™æ ·çš„ä¸€ä¸ªå†…è”å‡½æ•°ï¼Œç”¨äºåˆ¤æ–­ä¸€ä¸ªå¯¹è±¡æ˜¯å¦æ˜¯æŒ‡å®šç±»å‹</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-kotlin" data-lang="kotlin"><span class="line"><span class="cl"><span class="k">fun</span> <span class="nf">main</span><span class="p">()</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="n">println</span><span class="p">(</span><span class="m">1.</span><span class="n">isInstanceOf</span><span class="p">&lt;</span><span class="n">String</span><span class="p">&gt;())</span>
</span></span><span class="line"><span class="cl">    <span class="n">println</span><span class="p">(</span><span class="s2">&#34;string&#34;</span><span class="p">.</span><span class="n">isInstanceOf</span><span class="p">&lt;</span><span class="n">Int</span><span class="p">&gt;())</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="k">inline</span> <span class="k">fun</span> <span class="p">&lt;</span><span class="k">reified</span> <span class="nc">T</span><span class="p">&gt;</span> <span class="nf">Any</span><span class="p">.</span><span class="n">isInstanceOf</span><span class="p">():</span> <span class="n">Boolean</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="k">return</span> <span class="k">this</span> <span class="k">is</span> <span class="n">T</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span></code></pre></div><p>å°†ä»¥ä¸Šçš„ Kotlin ä»£ç åç¼–è¯‘ä¸º Java ä»£ç ï¼Œå¯ä»¥çœ‹å‡ºæ¥ <code>main()</code>æ–¹æ³•æœ€ç»ˆæ˜¯æ²¡æœ‰è°ƒç”¨ <code>isInstanceOf</code> æ–¹æ³•çš„ï¼Œå…·ä½“çš„åˆ¤æ–­é€»è¾‘éƒ½è¢«æ’å…¥åˆ°äº†<code>main()</code>æ–¹æ³•å†…éƒ¨ï¼Œæœ€ç»ˆæ˜¯æ‰§è¡Œäº† <code>instanceof</code> æ“ä½œï¼Œä¸”æŒ‡å®šäº†å…·ä½“çš„æ³›å‹ç±»å‹å‚æ•° String å’Œ Integer</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-java" data-lang="java"><span class="line"><span class="cl"><span class="kd">public</span><span class="w"> </span><span class="kd">final</span><span class="w"> </span><span class="kd">class</span> <span class="nc">GenericTest6Kt</span><span class="w"> </span><span class="p">{</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">   </span><span class="kd">public</span><span class="w"> </span><span class="kd">static</span><span class="w"> </span><span class="kd">final</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="nf">main</span><span class="p">()</span><span class="w"> </span><span class="p">{</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">      </span><span class="n">Object</span><span class="w"> </span><span class="n">$this$isInstanceOf$iv</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">1</span><span class="p">;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">      </span><span class="kt">int</span><span class="w"> </span><span class="n">$i$f$isInstanceOf</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="kc">false</span><span class="p">;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">      </span><span class="kt">boolean</span><span class="w"> </span><span class="n">var2</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">$this$isInstanceOf$iv</span><span class="w"> </span><span class="k">instanceof</span><span class="w"> </span><span class="n">String</span><span class="p">;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">      </span><span class="n">$i$f$isInstanceOf</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="kc">false</span><span class="p">;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">      </span><span class="n">System</span><span class="p">.</span><span class="na">out</span><span class="p">.</span><span class="na">println</span><span class="p">(</span><span class="n">var2</span><span class="p">);</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">      </span><span class="n">Object</span><span class="w"> </span><span class="n">$this$isInstanceOf$iv</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">&#34;string&#34;</span><span class="p">;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">      </span><span class="n">$i$f$isInstanceOf</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="kc">false</span><span class="p">;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">      </span><span class="n">var2</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">$this$isInstanceOf$iv</span><span class="w"> </span><span class="k">instanceof</span><span class="w"> </span><span class="n">Integer</span><span class="p">;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">      </span><span class="n">$i$f$isInstanceOf</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="kc">false</span><span class="p">;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">      </span><span class="n">System</span><span class="p">.</span><span class="na">out</span><span class="p">.</span><span class="na">println</span><span class="p">(</span><span class="n">var2</span><span class="p">);</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">   </span><span class="p">}</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">   </span><span class="c1">// $FF: synthetic method</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">   </span><span class="kd">public</span><span class="w"> </span><span class="kd">static</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="nf">main</span><span class="p">(</span><span class="n">String</span><span class="o">[]</span><span class="w"> </span><span class="n">var0</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">      </span><span class="n">main</span><span class="p">();</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">   </span><span class="p">}</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">   </span><span class="c1">// $FF: synthetic method</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">   </span><span class="kd">public</span><span class="w"> </span><span class="kd">static</span><span class="w"> </span><span class="kd">final</span><span class="w"> </span><span class="kt">boolean</span><span class="w"> </span><span class="nf">isInstanceOf</span><span class="p">(</span><span class="n">Object</span><span class="w"> </span><span class="n">$this$isInstanceOf</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">      </span><span class="kt">int</span><span class="w"> </span><span class="n">$i$f$isInstanceOf</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">0</span><span class="p">;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">      </span><span class="n">Intrinsics</span><span class="p">.</span><span class="na">checkNotNullParameter</span><span class="p">(</span><span class="n">$this$isInstanceOf</span><span class="p">,</span><span class="w"> </span><span class="s">&#34;$this$isInstanceOf&#34;</span><span class="p">);</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">      </span><span class="n">Intrinsics</span><span class="p">.</span><span class="na">reifiedOperationMarker</span><span class="p">(</span><span class="n">3</span><span class="p">,</span><span class="w"> </span><span class="s">&#34;T&#34;</span><span class="p">);</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">      </span><span class="k">return</span><span class="w"> </span><span class="n">$this$isInstanceOf</span><span class="w"> </span><span class="k">instanceof</span><span class="w"> </span><span class="n">Object</span><span class="p">;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">   </span><span class="p">}</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="p">}</span><span class="w">
</span></span></span></code></pre></div><p>inline å’Œ reified æ¯”è¾ƒæœ‰ç”¨çš„ä¸€ä¸ªåœºæ™¯æ˜¯ç”¨åœ¨ Gson ååºåˆ—çš„æ—¶å€™ã€‚ç”±äºæ³›å‹è¿è¡Œæ—¶<strong>ç±»å‹æ“¦é™¤</strong>çš„é—®é¢˜ï¼Œç›®å‰ç”¨ Gson ååºåˆ—åŒ–æ³›å‹ç±»æ—¶æ­¥éª¤æ˜¯æ¯”è¾ƒç¹ççš„ï¼Œåˆ©ç”¨ inline å’Œ reified æˆ‘ä»¬å°±å¯ä»¥ç®€åŒ–å¾ˆå¤šæ“ä½œ</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-kotlin" data-lang="kotlin"><span class="line"><span class="cl"><span class="k">val</span> <span class="py">gson</span> <span class="p">=</span> <span class="n">Gson</span><span class="p">()</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="k">inline</span> <span class="k">fun</span> <span class="p">&lt;</span><span class="k">reified</span> <span class="nc">T</span><span class="p">&gt;</span> <span class="nf">toBean</span><span class="p">(</span><span class="n">json</span><span class="p">:</span> <span class="n">String</span><span class="p">):</span> <span class="n">T</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="k">return</span> <span class="n">gson</span><span class="p">.</span><span class="n">fromJson</span><span class="p">(</span><span class="n">json</span><span class="p">,</span> <span class="n">T</span><span class="o">::</span><span class="k">class</span><span class="p">.</span><span class="n">java</span><span class="p">)</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="k">data</span> <span class="k">class</span> <span class="nc">BlogBean</span><span class="p">(</span><span class="k">val</span> <span class="py">name</span><span class="p">:</span> <span class="n">String</span><span class="p">,</span> <span class="k">val</span> <span class="py">url</span><span class="p">:</span> <span class="n">String</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="k">fun</span> <span class="nf">main</span><span class="p">()</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="k">val</span> <span class="py">json</span> <span class="p">=</span> <span class="s">&#34;&#34;&#34;{&#34;name&#34;:&#34;ä¸šå¿—é™ˆ&#34;,&#34;url&#34;:&#34;https://juejin.cn/user/923245496518439&#34;}&#34;&#34;&#34;</span>
</span></span><span class="line"><span class="cl">    <span class="k">val</span> <span class="py">listJson</span> <span class="p">=</span> <span class="s">&#34;&#34;&#34;[{&#34;name&#34;:&#34;ä¸šå¿—é™ˆ&#34;,&#34;url&#34;:&#34;https://juejin.cn/user/923245496518439&#34;},{&#34;name&#34;:&#34;ä¸šå¿—é™ˆ&#34;,&#34;url&#34;:&#34;https://juejin.cn/user/923245496518439&#34;}]&#34;&#34;&#34;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    <span class="k">val</span> <span class="py">blogBean</span> <span class="p">=</span> <span class="n">toBean</span><span class="p">&lt;</span><span class="n">BlogBean</span><span class="p">&gt;(</span><span class="n">json</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">    <span class="k">val</span> <span class="py">blogMap</span> <span class="p">=</span> <span class="n">toBean</span><span class="p">&lt;</span><span class="n">Map</span><span class="p">&lt;</span><span class="n">String</span><span class="p">,</span> <span class="n">String</span><span class="p">&gt;&gt;(</span><span class="n">json</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">    <span class="k">val</span> <span class="py">blogBeanList</span> <span class="p">=</span> <span class="n">toBean</span><span class="p">&lt;</span><span class="n">List</span><span class="p">&lt;</span><span class="n">BlogBean</span><span class="p">&gt;&gt;(</span><span class="n">listJson</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">    
</span></span><span class="line"><span class="cl">    <span class="c1">//BlogBean(name=ä¸šå¿—é™ˆ, url=https://juejin.cn/user/923245496518439)
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>    <span class="n">println</span><span class="p">(</span><span class="n">blogBean</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">    <span class="c1">//{name=ä¸šå¿—é™ˆ, url=https://juejin.cn/user/923245496518439}
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>    <span class="n">println</span><span class="p">(</span><span class="n">blogMap</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">    <span class="c1">//[{name=ä¸šå¿—é™ˆ, url=https://juejin.cn/user/923245496518439}, {name=ä¸šå¿—é™ˆ, url=https://juejin.cn/user/923245496518439}]
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>    <span class="n">println</span><span class="p">(</span><span class="n">blogBeanList</span><span class="p">)</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span></code></pre></div><p>æˆ‘ä¹Ÿåˆ©ç”¨ Kotlin çš„è¿™ä¸ªå¼ºå¤§ç‰¹æ€§å†™äº†ä¸€ä¸ªç”¨äºç®€åŒ– Java / Kotlin å¹³å°çš„åºåˆ—åŒ–å’Œååºåˆ—åŒ–æ“ä½œçš„åº“ï¼š<a href="https://github.com/leavesCZY/JsonHolder" target="_blank" rel="noopener">JsonHolder</a>
</p>
<h1 id="åå››æ€»ç»“">åå››ã€æ€»ç»“</h1>
<p>æœ€åæ¥åšä¸ªç®€å•çš„æ€»ç»“</p>
<table>
  <thead>
      <tr>
          <th></th>
          <th>åå˜</th>
          <th>é€†å˜</th>
          <th>ä¸å˜</th>
      </tr>
  </thead>
  <tbody>
      <tr>
          <td>Kotlin</td>
          <td><code>&lt;out T&gt;</code>ï¼Œåªèƒ½ä½œä¸ºæ¶ˆè´¹è€…ï¼Œåªèƒ½è¯»å–ä¸èƒ½æ·»åŠ </td>
          <td><code>&lt;in T&gt;</code>ï¼Œåªèƒ½ä½œä¸ºç”Ÿäº§è€…ï¼Œåªèƒ½æ·»åŠ ï¼Œè¯»å–å‡ºçš„å€¼åªèƒ½å½“åš Any ç±»å‹</td>
          <td><code>&lt;T&gt;</code>ï¼Œæ—¢å¯ä»¥æ·»åŠ ä¹Ÿå¯ä»¥è¯»å–</td>
      </tr>
      <tr>
          <td>Java</td>
          <td><code>&lt;?  extends T&gt;</code>ï¼Œåªèƒ½ä½œä¸ºæ¶ˆè´¹è€…ï¼Œåªèƒ½è¯»å–ä¸èƒ½æ·»åŠ </td>
          <td><code>&lt;? super T&gt;</code>ï¼Œåªèƒ½ä½œä¸ºç”Ÿäº§è€…ï¼Œåªèƒ½æ·»åŠ ï¼Œè¯»å–å‡ºçš„å€¼åªèƒ½å½“åš Object ç±»å‹</td>
          <td><code>&lt;T&gt;</code>ï¼Œæ—¢å¯ä»¥æ·»åŠ ä¹Ÿå¯ä»¥è¯»å–</td>
      </tr>
  </tbody>
</table>

      </article>

      


  
<script type="text/javascript">
  (function() {
    const themeToggle = document.querySelector('.darkmode-toggle input');
    const light = 'light';
    const dark = 'dark';
    let isDark = localStorage.theme === dark || (!('theme' in localStorage) && window.matchMedia('(prefers-color-scheme: dark)').matches);
    let theme = isDark ? dark : light;

    const s = document.createElement('script');
    s.type = 'text/javascript';
    const dataset = {
        repo: 'tomowang\/hugo-theme-tailwind',
        repoId: 'R_kgDOKjVJHA',
        category: 'Announcements',
        categoryId: 'DIC_kwDOKjVJHM4CafqS',
        mapping: 'pathname',
        reactionsEnabled: '1',
        emitMetadata: '0',
        theme: theme,
        lang: 'en',
    };
    s.src = 'https://giscus.app/client.js';
    s.crossorigin = 'anonymous';
    s.async = true;
    Object.entries(dataset).forEach(function(a) {
        return s.dataset[a[0]] = a[1];
    });

    const curScriptElement = document.currentScript;
    curScriptElement.parentNode.insertBefore(s, curScriptElement);

    function sendMessage(message) {
      const iframe = document.querySelector('iframe.giscus-frame');
      
      if (!iframe) return;
      iframe.contentWindow.postMessage({ giscus: message }, 'https://giscus.app');
    }

    themeToggle.addEventListener('change', function () {
      if (this.checked) {
        theme = dark;
      } else {
        theme = light;
      }
      sendMessage({
        setConfig: {
          theme: theme,
        }
      });
    });
  })();
</script>
  



    </div>
  </div>
</div>

  </main>
  <footer class="flex flex-none justify-center">
    <section class="flex flex-col md:flex-row mx-2 md:mx-0 gap-2 md:gap-0 justify-between w-full max-w-4xl lg:max-w-5xl py-6 text-slate-500 dark:text-slate-300">
  <div class="flex flex-row">
    
  
  
    <a href="https://x.com/hqqich" target="_blank" title="X" class="flex flex-row mr-2">
      <span class="hidden">X</span>
      <i class="h-6 w-6 flex-none"> <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-brand-x" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
   <path stroke="none" d="M0 0h24v24H0z" fill="none"></path>
   <path d="M4 4l11.733 16h4.267l-11.733 -16z"></path>
   <path d="M4 20l6.768 -6.768m2.46 -2.46l6.772 -6.772"></path>
</svg>
 </i>
    </a>
  
  
  
    <a href="https://github.com/hqqich" target="_blank" title="Github" class="flex flex-row mr-2">
      <span class="hidden">Github</span>
      <i class="h-6 w-6 flex-none"> <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-brand-github" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
   <path stroke="none" d="M0 0h24v24H0z" fill="none"></path>
   <path d="M9 19c-4.3 1.4 -4.3 -2.5 -6 -3m12 5v-3.5c0 -1 .1 -1.4 -.5 -2c2.8 -.3 5.5 -1.4 5.5 -6a4.6 4.6 0 0 0 -1.3 -3.2a4.2 4.2 0 0 0 -.1 -3.2s-1.1 -.3 -3.5 1.3a12.3 12.3 0 0 0 -6.2 0c-2.4 -1.6 -3.5 -1.3 -3.5 -1.3a4.2 4.2 0 0 0 -.1 3.2a4.6 4.6 0 0 0 -1.3 3.2c0 4.6 2.7 5.7 5.5 6c-.6 .6 -.6 1.2 -.5 2v3.5"></path>
</svg>
 </i>
    </a>
  
  


  </div>
  <div class="grow"></div>
  <div class="flex flex-row">
    <i class="h-6 w-6 flex-none"><svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-copyright" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
   <path stroke="none" d="M0 0h24v24H0z" fill="none"></path>
   <path d="M12 12m-9 0a9 9 0 1 0 18 0a9 9 0 1 0 -18 0"></path>
   <path d="M14 9.75a3.016 3.016 0 0 0 -4.163 .173a2.993 2.993 0 0 0 0 4.154a3.016 3.016 0 0 0 4.163 .173"></path>
</svg>
</i> 2022 - 2025 Hqqich
    
  </div>
  
  <div class="flex flex-row">
    <span class="ml-0 pl-0 md:ml-2 md:pl-2 border-l-0 md:border-l border-slate-300 dark:border-slate-400">
      Powered by <a href="https://gohugo.io" target="_blank" rel="noopener" class="underline">Hugo</a> <span class="text-red-600">&hearts;</span> <a href="https://github.com/tomowang/hugo-theme-tailwind" target="_blank" rel="noopener" class="underline">Tailwind</a>
    </span>
  </div>
  
</section>

  </footer>
  <script src="/hugo-blog/public/main.js"></script>

<div class="hidden top-1 right-1" id="code-copy">
  <i class="h-6 w-6 block">
    <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-copy" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
  <path stroke="none" d="M0 0h24v24H0z" fill="none"/>
  <path d="M7 7m0 2.667a2.667 2.667 0 0 1 2.667 -2.667h8.666a2.667 2.667 0 0 1 2.667 2.667v8.666a2.667 2.667 0 0 1 -2.667 2.667h-8.666a2.667 2.667 0 0 1 -2.667 -2.667z" />
  <path d="M4.012 16.737a2.005 2.005 0 0 1 -1.012 -1.737v-10c0 -1.1 .9 -2 2 -2h10c.75 0 1.158 .385 1.5 1" />
</svg>

  </i>
</div>
<div class="hidden top-1 right-1" id="code-copy-done">
  <i class="h-6 w-6 block">
    <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-check" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
  <path stroke="none" d="M0 0h24v24H0z" fill="none"/>
  <path d="M5 12l5 5l10 -10" />
</svg>

  </i>
</div><script src="/hugo-blog/public/code-copy.js"></script>





</body>
</html>
